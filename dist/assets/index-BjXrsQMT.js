var LE=Object.defineProperty;var Lm=e=>{throw TypeError(e)};var ME=(e,t,n)=>t in e?LE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var We=(e,t,n)=>ME(e,typeof t!="symbol"?t+"":t,n),ud=(e,t,n)=>t.has(e)||Lm("Cannot "+n);var de=(e,t,n)=>(ud(e,t,"read from private field"),n?n.call(e):t.get(e)),ft=(e,t,n)=>t.has(e)?Lm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ye=(e,t,n,r)=>(ud(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pt=(e,t,n)=>(ud(e,t,"access private method"),n);var hs=(e,t,n,r)=>({set _(i){Ye(e,t,i,n)},get _(){return de(e,t,r)}});function BE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Go(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sw={exports:{}},yc={},uw={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),zE=Symbol.for("react.portal"),UE=Symbol.for("react.fragment"),HE=Symbol.for("react.strict_mode"),qE=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),WE=Symbol.for("react.context"),GE=Symbol.for("react.forward_ref"),KE=Symbol.for("react.suspense"),QE=Symbol.for("react.memo"),YE=Symbol.for("react.lazy"),Mm=Symbol.iterator;function JE(e){return e===null||typeof e!="object"?null:(e=Mm&&e[Mm]||e["@@iterator"],typeof e=="function"?e:null)}var cw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dw=Object.assign,fw={};function Ko(e,t,n){this.props=e,this.context=t,this.refs=fw,this.updater=n||cw}Ko.prototype.isReactComponent={};Ko.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ko.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pw(){}pw.prototype=Ko.prototype;function kh(e,t,n){this.props=e,this.context=t,this.refs=fw,this.updater=n||cw}var Eh=kh.prototype=new pw;Eh.constructor=kh;dw(Eh,Ko.prototype);Eh.isPureReactComponent=!0;var Bm=Array.isArray,hw=Object.prototype.hasOwnProperty,Ch={current:null},gw={key:!0,ref:!0,__self:!0,__source:!0};function mw(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)hw.call(t,r)&&!gw.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ml,type:e,key:o,ref:a,props:i,_owner:Ch.current}}function XE(e,t){return{$$typeof:Ml,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ih(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ml}function ZE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zm=/\/+/g;function cd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZE(""+e.key):t.toString(36)}function Qs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ml:case zE:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+cd(a,0):r,Bm(i)?(n="",e!=null&&(n=e.replace(zm,"$&/")+"/"),Qs(i,t,n,"",function(u){return u})):i!=null&&(Ih(i)&&(i=XE(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(zm,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Bm(e))for(var l=0;l<e.length;l++){o=e[l];var s=r+cd(o,l);a+=Qs(o,t,n,s,i)}else if(s=JE(e),typeof s=="function")for(e=s.call(e),l=0;!(o=e.next()).done;)o=o.value,s=r+cd(o,l++),a+=Qs(o,t,n,s,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function gs(e,t,n){if(e==null)return e;var r=[],i=0;return Qs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function eC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Ys={transition:null},tC={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Ys,ReactCurrentOwner:Ch};function vw(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:gs,forEach:function(e,t,n){gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!Ih(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Ko;Se.Fragment=UE;Se.Profiler=qE;Se.PureComponent=kh;Se.StrictMode=HE;Se.Suspense=KE;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC;Se.act=vw;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dw({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Ch.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)hw.call(t,s)&&!gw.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ml,type:e.type,key:i,ref:o,props:r,_owner:a}};Se.createContext=function(e){return e={$$typeof:WE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VE,_context:e},e.Consumer=e};Se.createElement=mw;Se.createFactory=function(e){var t=mw.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:GE,render:e}};Se.isValidElement=Ih;Se.lazy=function(e){return{$$typeof:YE,_payload:{_status:-1,_result:e},_init:eC}};Se.memo=function(e,t){return{$$typeof:QE,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Ys.transition;Ys.transition={};try{e()}finally{Ys.transition=t}};Se.unstable_act=vw;Se.useCallback=function(e,t){return Ot.current.useCallback(e,t)};Se.useContext=function(e){return Ot.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Ot.current.useEffect(e,t)};Se.useId=function(){return Ot.current.useId()};Se.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Ot.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};Se.useRef=function(e){return Ot.current.useRef(e)};Se.useState=function(e){return Ot.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return Ot.current.useTransition()};Se.version="18.3.1";uw.exports=Se;var E=uw.exports;const xe=Go(E),nC=BE({__proto__:null,default:xe},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC=E,iC=Symbol.for("react.element"),oC=Symbol.for("react.fragment"),aC=Object.prototype.hasOwnProperty,lC=rC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sC={key:!0,ref:!0,__self:!0,__source:!0};function yw(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)aC.call(t,r)&&!sC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:iC,type:e,key:o,ref:a,props:i,_owner:lC.current}}yc.Fragment=oC;yc.jsx=yw;yc.jsxs=yw;sw.exports=yc;var x=sw.exports,ww={exports:{}},rn={},xw={exports:{}},bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,U){var T=_.length;_.push(U);e:for(;0<T;){var W=T-1>>>1,K=_[W];if(0<i(K,U))_[W]=U,_[T]=K,T=W;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var U=_[0],T=_.pop();if(T!==U){_[0]=T;e:for(var W=0,K=_.length,O=K>>>1;W<O;){var B=2*(W+1)-1,L=_[B],F=B+1,H=_[F];if(0>i(L,T))F<K&&0>i(H,L)?(_[W]=H,_[F]=T,W=F):(_[W]=L,_[B]=T,W=B);else if(F<K&&0>i(H,T))_[W]=H,_[F]=T,W=F;else break e}}return U}function i(_,U){var T=_.sortIndex-U.sortIndex;return T!==0?T:_.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var s=[],u=[],d=1,c=null,f=3,p=!1,h=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(_){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=_)r(u),U.sortIndex=U.expirationTime,t(s,U);else break;U=n(u)}}function b(_){if(y=!1,m(_),!h)if(n(s)!==null)h=!0,q(k);else{var U=n(u);U!==null&&z(b,U.startTime-_)}}function k(_,U){h=!1,y&&(y=!1,v(N),N=-1),p=!0;var T=f;try{for(m(U),c=n(s);c!==null&&(!(c.expirationTime>U)||_&&!j());){var W=c.callback;if(typeof W=="function"){c.callback=null,f=c.priorityLevel;var K=W(c.expirationTime<=U);U=e.unstable_now(),typeof K=="function"?c.callback=K:c===n(s)&&r(s),m(U)}else r(s);c=n(s)}if(c!==null)var O=!0;else{var B=n(u);B!==null&&z(b,B.startTime-U),O=!1}return O}finally{c=null,f=T,p=!1}}var S=!1,C=null,N=-1,D=5,P=-1;function j(){return!(e.unstable_now()-P<D)}function A(){if(C!==null){var _=e.unstable_now();P=_;var U=!0;try{U=C(!0,_)}finally{U?I():(S=!1,C=null)}}else S=!1}var I;if(typeof g=="function")I=function(){g(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=A,I=function(){$.postMessage(null)}}else I=function(){w(A,0)};function q(_){C=_,S||(S=!0,I())}function z(_,U){N=w(function(){_(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,q(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var T=f;f=U;try{return _()}finally{f=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,U){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var T=f;f=_;try{return U()}finally{f=T}},e.unstable_scheduleCallback=function(_,U,T){var W=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?W+T:W):T=W,_){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=T+K,_={id:d++,callback:U,priorityLevel:_,startTime:T,expirationTime:K,sortIndex:-1},T>W?(_.sortIndex=T,t(u,_),n(s)===null&&_===n(u)&&(y?(v(N),N=-1):y=!0,z(b,T-W))):(_.sortIndex=K,t(s,_),h||p||(h=!0,q(k))),_},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(_){var U=f;return function(){var T=f;f=U;try{return _.apply(this,arguments)}finally{f=T}}}})(bw);xw.exports=bw;var uC=xw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC=E,tn=uC;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sw=new Set,el={};function $i(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(el[e]=t,e=0;e<t.length;e++)Sw.add(t[e])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=Object.prototype.hasOwnProperty,dC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Um={},Hm={};function fC(e){return If.call(Hm,e)?!0:If.call(Um,e)?!1:dC.test(e)?Hm[e]=!0:(Um[e]=!0,!1)}function pC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hC(e,t,n,r){if(t===null||typeof t>"u"||pC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ph=/[\-:]([a-z])/g;function Ah(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ph,Ah);yt[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ph,Ah);yt[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ph,Ah);yt[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Th(e,t,n,r){var i=yt.hasOwnProperty(t)?yt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hC(t,n,i,r)&&(n=null),r||i===null?fC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yr=cC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),kw=Symbol.for("react.provider"),Ew=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Tf=Symbol.for("react.suspense_list"),Rh=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),Cw=Symbol.for("react.offscreen"),qm=Symbol.iterator;function ca(e){return e===null||typeof e!="object"?null:(e=qm&&e[qm]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,dd;function Ia(e){if(dd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dd=t&&t[1]||""}return`
`+dd+e}var fd=!1;function pd(e,t){if(!e||fd)return"";fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var s=`
`+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=a&&0<=l);break}}}finally{fd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ia(e):""}function gC(e){switch(e.tag){case 5:return Ia(e.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return e=pd(e.type,!1),e;case 11:return e=pd(e.type.render,!1),e;case 1:return e=pd(e.type,!0),e;default:return""}}function Nf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eo:return"Fragment";case Zi:return"Portal";case Pf:return"Profiler";case Nh:return"StrictMode";case Af:return"Suspense";case Tf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ew:return(e.displayName||"Context")+".Consumer";case kw:return(e._context.displayName||"Context")+".Provider";case Dh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rh:return t=e.displayName||null,t!==null?t:Nf(e.type)||"Memo";case Cr:t=e._payload,e=e._init;try{return Nf(e(t))}catch{}}return null}function mC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(t);case 8:return t===Nh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Iw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vC(e){var t=Iw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=vC(e))}function Pw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Iw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Df(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Aw(e,t){t=t.checked,t!=null&&Th(e,"checked",t,!1)}function Rf(e,t){Aw(e,t);var n=Kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jf(e,t.type,n):t.hasOwnProperty("defaultValue")&&jf(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jf(e,t,n){(t!=="number"||xu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pa=Array.isArray;function po(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Of(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Pa(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kr(n)}}function Tw(e,t){var n=Kr(t.value),r=Kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Km(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ys,Dw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yC=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(e){yC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$a[t]=$a[e]})});function Rw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$a.hasOwnProperty(e)&&$a[e]?(""+t).trim():t+"px"}function jw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var wC=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _f(e,t){if(t){if(wC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Ff(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=null;function jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mf=null,ho=null,go=null;function Qm(e){if(e=Ul(e)){if(typeof Mf!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=kc(t),Mf(e.stateNode,e.type,t))}}function Ow(e){ho?go?go.push(e):go=[e]:ho=e}function $w(){if(ho){var e=ho,t=go;if(go=ho=null,Qm(e),t)for(e=0;e<t.length;e++)Qm(t[e])}}function _w(e,t){return e(t)}function Fw(){}var hd=!1;function Lw(e,t,n){if(hd)return e(t,n);hd=!0;try{return _w(e,t,n)}finally{hd=!1,(ho!==null||go!==null)&&(Fw(),$w())}}function nl(e,t){var n=e.stateNode;if(n===null)return null;var r=kc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var Bf=!1;if(pr)try{var da={};Object.defineProperty(da,"passive",{get:function(){Bf=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Bf=!1}function xC(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var _a=!1,bu=null,Su=!1,zf=null,bC={onError:function(e){_a=!0,bu=e}};function SC(e,t,n,r,i,o,a,l,s){_a=!1,bu=null,xC.apply(bC,arguments)}function kC(e,t,n,r,i,o,a,l,s){if(SC.apply(this,arguments),_a){if(_a){var u=bu;_a=!1,bu=null}else throw Error(ee(198));Su||(Su=!0,zf=u)}}function _i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ym(e){if(_i(e)!==e)throw Error(ee(188))}function EC(e){var t=e.alternate;if(!t){if(t=_i(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ym(i),e;if(o===r)return Ym(i),t;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function Bw(e){return e=EC(e),e!==null?zw(e):null}function zw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zw(e);if(t!==null)return t;e=e.sibling}return null}var Uw=tn.unstable_scheduleCallback,Jm=tn.unstable_cancelCallback,CC=tn.unstable_shouldYield,IC=tn.unstable_requestPaint,Ze=tn.unstable_now,PC=tn.unstable_getCurrentPriorityLevel,Oh=tn.unstable_ImmediatePriority,Hw=tn.unstable_UserBlockingPriority,ku=tn.unstable_NormalPriority,AC=tn.unstable_LowPriority,qw=tn.unstable_IdlePriority,wc=null,Wn=null;function TC(e){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(wc,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:RC,NC=Math.log,DC=Math.LN2;function RC(e){return e>>>=0,e===0?32:31-(NC(e)/DC|0)|0}var ws=64,xs=4194304;function Aa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Aa(l):(o&=a,o!==0&&(r=Aa(o)))}else a=n&~i,a!==0?r=Aa(a):o!==0&&(r=Aa(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dn(t),i=1<<n,r|=e[n],t&=~i;return r}function jC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Dn(o),l=1<<a,s=i[a];s===-1?(!(l&n)||l&r)&&(i[a]=jC(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}function Uf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vw(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function gd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dn(t),e[t]=n}function $C(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Dn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function $h(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var De=0;function Ww(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gw,_h,Kw,Qw,Yw,Hf=!1,bs=[],$r=null,_r=null,Fr=null,rl=new Map,il=new Map,Ar=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(t.pointerId)}}function fa(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ul(t),t!==null&&_h(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function FC(e,t,n,r,i){switch(t){case"focusin":return $r=fa($r,e,t,n,r,i),!0;case"dragenter":return _r=fa(_r,e,t,n,r,i),!0;case"mouseover":return Fr=fa(Fr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return rl.set(o,fa(rl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,il.set(o,fa(il.get(o)||null,e,t,n,r,i)),!0}return!1}function Jw(e){var t=gi(e.target);if(t!==null){var n=_i(t);if(n!==null){if(t=n.tag,t===13){if(t=Mw(n),t!==null){e.blockedOn=t,Yw(e.priority,function(){Kw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lf=r,n.target.dispatchEvent(r),Lf=null}else return t=Ul(n),t!==null&&_h(t),e.blockedOn=n,!1;t.shift()}return!0}function Zm(e,t,n){Js(e)&&n.delete(t)}function LC(){Hf=!1,$r!==null&&Js($r)&&($r=null),_r!==null&&Js(_r)&&(_r=null),Fr!==null&&Js(Fr)&&(Fr=null),rl.forEach(Zm),il.forEach(Zm)}function pa(e,t){e.blockedOn===t&&(e.blockedOn=null,Hf||(Hf=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,LC)))}function ol(e){function t(i){return pa(i,e)}if(0<bs.length){pa(bs[0],e);for(var n=1;n<bs.length;n++){var r=bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for($r!==null&&pa($r,e),_r!==null&&pa(_r,e),Fr!==null&&pa(Fr,e),rl.forEach(t),il.forEach(t),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)Jw(n),n.blockedOn===null&&Ar.shift()}var mo=yr.ReactCurrentBatchConfig,Cu=!0;function MC(e,t,n,r){var i=De,o=mo.transition;mo.transition=null;try{De=1,Fh(e,t,n,r)}finally{De=i,mo.transition=o}}function BC(e,t,n,r){var i=De,o=mo.transition;mo.transition=null;try{De=4,Fh(e,t,n,r)}finally{De=i,mo.transition=o}}function Fh(e,t,n,r){if(Cu){var i=qf(e,t,n,r);if(i===null)Cd(e,t,r,Iu,n),Xm(e,r);else if(FC(i,e,t,n,r))r.stopPropagation();else if(Xm(e,r),t&4&&-1<_C.indexOf(e)){for(;i!==null;){var o=Ul(i);if(o!==null&&Gw(o),o=qf(e,t,n,r),o===null&&Cd(e,t,r,Iu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Cd(e,t,r,null,n)}}var Iu=null;function qf(e,t,n,r){if(Iu=null,e=jh(r),e=gi(e),e!==null)if(t=_i(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Iu=e,null}function Xw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PC()){case Oh:return 1;case Hw:return 4;case ku:case AC:return 16;case qw:return 536870912;default:return 16}default:return 16}}var Rr=null,Lh=null,Xs=null;function Zw(){if(Xs)return Xs;var e,t=Lh,n=t.length,r,i="value"in Rr?Rr.value:Rr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Xs=i.slice(e,1<r?1-r:void 0)}function Zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function ev(){return!1}function on(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ss:ev,this.isPropagationStopped=ev,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mh=on(Qo),zl=Qe({},Qo,{view:0,detail:0}),zC=on(zl),md,vd,ha,xc=Qe({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ha&&(ha&&e.type==="mousemove"?(md=e.screenX-ha.screenX,vd=e.screenY-ha.screenY):vd=md=0,ha=e),md)},movementY:function(e){return"movementY"in e?e.movementY:vd}}),tv=on(xc),UC=Qe({},xc,{dataTransfer:0}),HC=on(UC),qC=Qe({},zl,{relatedTarget:0}),yd=on(qC),VC=Qe({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),WC=on(VC),GC=Qe({},Qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KC=on(GC),QC=Qe({},Qo,{data:0}),nv=on(QC),YC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XC[e])?!!t[e]:!1}function Bh(){return ZC}var e2=Qe({},zl,{key:function(e){if(e.key){var t=YC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t2=on(e2),n2=Qe({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rv=on(n2),r2=Qe({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),i2=on(r2),o2=Qe({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),a2=on(o2),l2=Qe({},xc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s2=on(l2),u2=[9,13,27,32],zh=pr&&"CompositionEvent"in window,Fa=null;pr&&"documentMode"in document&&(Fa=document.documentMode);var c2=pr&&"TextEvent"in window&&!Fa,e1=pr&&(!zh||Fa&&8<Fa&&11>=Fa),iv=" ",ov=!1;function t1(e,t){switch(e){case"keyup":return u2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var to=!1;function d2(e,t){switch(e){case"compositionend":return n1(t);case"keypress":return t.which!==32?null:(ov=!0,iv);case"textInput":return e=t.data,e===iv&&ov?null:e;default:return null}}function f2(e,t){if(to)return e==="compositionend"||!zh&&t1(e,t)?(e=Zw(),Xs=Lh=Rr=null,to=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e1&&t.locale!=="ko"?null:t.data;default:return null}}var p2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!p2[e.type]:t==="textarea"}function r1(e,t,n,r){Ow(r),t=Pu(t,"onChange"),0<t.length&&(n=new Mh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var La=null,al=null;function h2(e){h1(e,0)}function bc(e){var t=io(e);if(Pw(t))return e}function g2(e,t){if(e==="change")return t}var i1=!1;if(pr){var wd;if(pr){var xd="oninput"in document;if(!xd){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),xd=typeof lv.oninput=="function"}wd=xd}else wd=!1;i1=wd&&(!document.documentMode||9<document.documentMode)}function sv(){La&&(La.detachEvent("onpropertychange",o1),al=La=null)}function o1(e){if(e.propertyName==="value"&&bc(al)){var t=[];r1(t,al,e,jh(e)),Lw(h2,t)}}function m2(e,t,n){e==="focusin"?(sv(),La=t,al=n,La.attachEvent("onpropertychange",o1)):e==="focusout"&&sv()}function v2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bc(al)}function y2(e,t){if(e==="click")return bc(t)}function w2(e,t){if(e==="input"||e==="change")return bc(t)}function x2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:x2;function ll(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!If.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function uv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cv(e,t){var n=uv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uv(n)}}function a1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function l1(){for(var e=window,t=xu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xu(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function b2(e){var t=l1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&a1(n.ownerDocument.documentElement,n)){if(r!==null&&Uh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cv(n,o);var a=cv(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var S2=pr&&"documentMode"in document&&11>=document.documentMode,no=null,Vf=null,Ma=null,Wf=!1;function dv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wf||no==null||no!==xu(r)||(r=no,"selectionStart"in r&&Uh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ma&&ll(Ma,r)||(Ma=r,r=Pu(Vf,"onSelect"),0<r.length&&(t=new Mh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=no)))}function ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ro={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},bd={},s1={};pr&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Sc(e){if(bd[e])return bd[e];if(!ro[e])return e;var t=ro[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s1)return bd[e]=t[n];return e}var u1=Sc("animationend"),c1=Sc("animationiteration"),d1=Sc("animationstart"),f1=Sc("transitionend"),p1=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(e,t){p1.set(e,t),$i(t,[e])}for(var Sd=0;Sd<fv.length;Sd++){var kd=fv[Sd],k2=kd.toLowerCase(),E2=kd[0].toUpperCase()+kd.slice(1);ei(k2,"on"+E2)}ei(u1,"onAnimationEnd");ei(c1,"onAnimationIteration");ei(d1,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(f1,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function pv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kC(r,t,void 0,e),e.currentTarget=null}function h1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;pv(i,l,u),o=s}else for(a=0;a<r.length;a++){if(l=r[a],s=l.instance,u=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;pv(i,l,u),o=s}}}if(Su)throw e=zf,Su=!1,zf=null,e}function Be(e,t){var n=t[Jf];n===void 0&&(n=t[Jf]=new Set);var r=e+"__bubble";n.has(r)||(g1(t,e,2,!1),n.add(r))}function Ed(e,t,n){var r=0;t&&(r|=4),g1(n,e,r,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function sl(e){if(!e[Es]){e[Es]=!0,Sw.forEach(function(n){n!=="selectionchange"&&(C2.has(n)||Ed(n,!1,e),Ed(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,Ed("selectionchange",!1,t))}}function g1(e,t,n,r){switch(Xw(t)){case 1:var i=MC;break;case 4:i=BC;break;default:i=Fh}n=i.bind(null,t,n,e),i=void 0,!Bf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Cd(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;a=a.return}for(;l!==null;){if(a=gi(l),a===null)return;if(s=a.tag,s===5||s===6){r=o=a;continue e}l=l.parentNode}}r=r.return}Lw(function(){var u=o,d=jh(n),c=[];e:{var f=p1.get(e);if(f!==void 0){var p=Mh,h=e;switch(e){case"keypress":if(Zs(n)===0)break e;case"keydown":case"keyup":p=t2;break;case"focusin":h="focus",p=yd;break;case"focusout":h="blur",p=yd;break;case"beforeblur":case"afterblur":p=yd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=i2;break;case u1:case c1:case d1:p=WC;break;case f1:p=a2;break;case"scroll":p=zC;break;case"wheel":p=s2;break;case"copy":case"cut":case"paste":p=KC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rv}var y=(t&4)!==0,w=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,m;g!==null;){m=g;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,v!==null&&(b=nl(g,v),b!=null&&y.push(ul(g,b,m)))),w)break;g=g.return}0<y.length&&(f=new p(f,h,null,n,d),c.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Lf&&(h=n.relatedTarget||n.fromElement)&&(gi(h)||h[hr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?gi(h):null,h!==null&&(w=_i(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(y=tv,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=rv,b="onPointerLeave",v="onPointerEnter",g="pointer"),w=p==null?f:io(p),m=h==null?f:io(h),f=new y(b,g+"leave",p,n,d),f.target=w,f.relatedTarget=m,b=null,gi(d)===u&&(y=new y(v,g+"enter",h,n,d),y.target=m,y.relatedTarget=w,b=y),w=b,p&&h)t:{for(y=p,v=h,g=0,m=y;m;m=Ui(m))g++;for(m=0,b=v;b;b=Ui(b))m++;for(;0<g-m;)y=Ui(y),g--;for(;0<m-g;)v=Ui(v),m--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ui(y),v=Ui(v)}y=null}else y=null;p!==null&&hv(c,f,p,y,!1),h!==null&&w!==null&&hv(c,w,h,y,!0)}}e:{if(f=u?io(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=g2;else if(av(f))if(i1)k=w2;else{k=v2;var S=m2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=y2);if(k&&(k=k(e,u))){r1(c,k,n,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&jf(f,"number",f.value)}switch(S=u?io(u):window,e){case"focusin":(av(S)||S.contentEditable==="true")&&(no=S,Vf=u,Ma=null);break;case"focusout":Ma=Vf=no=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,dv(c,n,d);break;case"selectionchange":if(S2)break;case"keydown":case"keyup":dv(c,n,d)}var C;if(zh)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else to?t1(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(e1&&n.locale!=="ko"&&(to||N!=="onCompositionStart"?N==="onCompositionEnd"&&to&&(C=Zw()):(Rr=d,Lh="value"in Rr?Rr.value:Rr.textContent,to=!0)),S=Pu(u,N),0<S.length&&(N=new nv(N,e,null,n,d),c.push({event:N,listeners:S}),C?N.data=C:(C=n1(n),C!==null&&(N.data=C)))),(C=c2?d2(e,n):f2(e,n))&&(u=Pu(u,"onBeforeInput"),0<u.length&&(d=new nv("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=C))}h1(c,t)})}function ul(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=nl(e,n),o!=null&&r.unshift(ul(e,o,i)),o=nl(e,t),o!=null&&r.push(ul(e,o,i))),e=e.return}return r}function Ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hv(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,i?(s=nl(n,o),s!=null&&a.unshift(ul(n,s,l))):i||(s=nl(n,o),s!=null&&a.push(ul(n,s,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var I2=/\r\n?/g,P2=/\u0000|\uFFFD/g;function gv(e){return(typeof e=="string"?e:""+e).replace(I2,`
`).replace(P2,"")}function Cs(e,t,n){if(t=gv(t),gv(e)!==t&&n)throw Error(ee(425))}function Au(){}var Gf=null,Kf=null;function Qf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,A2=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,T2=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(e){return mv.resolve(null).then(e).catch(N2)}:Yf;function N2(e){setTimeout(function(){throw e})}function Id(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ol(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ol(t)}function Lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Yo,cl="__reactProps$"+Yo,hr="__reactContainer$"+Yo,Jf="__reactEvents$"+Yo,D2="__reactListeners$"+Yo,R2="__reactHandles$"+Yo;function gi(e){var t=e[qn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[qn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vv(e);e!==null;){if(n=e[qn])return n;e=vv(e)}return t}e=n,n=e.parentNode}return null}function Ul(e){return e=e[qn]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function kc(e){return e[cl]||null}var Xf=[],oo=-1;function ti(e){return{current:e}}function Ue(e){0>oo||(e.current=Xf[oo],Xf[oo]=null,oo--)}function Me(e,t){oo++,Xf[oo]=e.current,e.current=t}var Qr={},Ct=ti(Qr),Ut=ti(!1),Ci=Qr;function Ro(e,t){var n=e.type.contextTypes;if(!n)return Qr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(e){return e=e.childContextTypes,e!=null}function Tu(){Ue(Ut),Ue(Ct)}function yv(e,t,n){if(Ct.current!==Qr)throw Error(ee(168));Me(Ct,t),Me(Ut,n)}function m1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ee(108,mC(e)||"Unknown",i));return Qe({},n,r)}function Nu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qr,Ci=Ct.current,Me(Ct,e),Me(Ut,Ut.current),!0}function wv(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=m1(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,Ue(Ut),Ue(Ct),Me(Ct,e)):Ue(Ut),Me(Ut,n)}var nr=null,Ec=!1,Pd=!1;function v1(e){nr===null?nr=[e]:nr.push(e)}function j2(e){Ec=!0,v1(e)}function ni(){if(!Pd&&nr!==null){Pd=!0;var e=0,t=De;try{var n=nr;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nr=null,Ec=!1}catch(i){throw nr!==null&&(nr=nr.slice(e+1)),Uw(Oh,ni),i}finally{De=t,Pd=!1}}return null}var ao=[],lo=0,Du=null,Ru=0,cn=[],dn=0,Ii=null,lr=1,sr="";function ui(e,t){ao[lo++]=Ru,ao[lo++]=Du,Du=e,Ru=t}function y1(e,t,n){cn[dn++]=lr,cn[dn++]=sr,cn[dn++]=Ii,Ii=e;var r=lr;e=sr;var i=32-Dn(r)-1;r&=~(1<<i),n+=1;var o=32-Dn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,lr=1<<32-Dn(t)+i|n<<i|r,sr=o+e}else lr=1<<o|n<<i|r,sr=e}function Hh(e){e.return!==null&&(ui(e,1),y1(e,1,0))}function qh(e){for(;e===Du;)Du=ao[--lo],ao[lo]=null,Ru=ao[--lo],ao[lo]=null;for(;e===Ii;)Ii=cn[--dn],cn[dn]=null,sr=cn[--dn],cn[dn]=null,lr=cn[--dn],cn[dn]=null}var Jt=null,Qt=null,Ve=!1,Tn=null;function w1(e,t){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Qt=Lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ii!==null?{id:lr,overflow:sr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jt=e,Qt=null,!0):!1;default:return!1}}function Zf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ep(e){if(Ve){var t=Qt;if(t){var n=t;if(!xv(e,t)){if(Zf(e))throw Error(ee(418));t=Lr(n.nextSibling);var r=Jt;t&&xv(e,t)?w1(r,n):(e.flags=e.flags&-4097|2,Ve=!1,Jt=e)}}else{if(Zf(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Ve=!1,Jt=e}}}function bv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function Is(e){if(e!==Jt)return!1;if(!Ve)return bv(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qf(e.type,e.memoizedProps)),t&&(t=Qt)){if(Zf(e))throw x1(),Error(ee(418));for(;t;)w1(e,t),t=Lr(t.nextSibling)}if(bv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qt=Lr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Jt?Lr(e.stateNode.nextSibling):null;return!0}function x1(){for(var e=Qt;e;)e=Lr(e.nextSibling)}function jo(){Qt=Jt=null,Ve=!1}function Vh(e){Tn===null?Tn=[e]:Tn.push(e)}var O2=yr.ReactCurrentBatchConfig;function ga(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function Ps(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sv(e){var t=e._init;return t(e._payload)}function b1(e){function t(v,g){if(e){var m=v.deletions;m===null?(v.deletions=[g],v.flags|=16):m.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=Ur(v,g),v.index=0,v.sibling=null,v}function o(v,g,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<g?(v.flags|=2,g):m):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,m,b){return g===null||g.tag!==6?(g=Od(m,v.mode,b),g.return=v,g):(g=i(g,m),g.return=v,g)}function s(v,g,m,b){var k=m.type;return k===eo?d(v,g,m.props.children,b,m.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cr&&Sv(k)===g.type)?(b=i(g,m.props),b.ref=ga(v,g,m),b.return=v,b):(b=au(m.type,m.key,m.props,null,v.mode,b),b.ref=ga(v,g,m),b.return=v,b)}function u(v,g,m,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=$d(m,v.mode,b),g.return=v,g):(g=i(g,m.children||[]),g.return=v,g)}function d(v,g,m,b,k){return g===null||g.tag!==7?(g=bi(m,v.mode,b,k),g.return=v,g):(g=i(g,m),g.return=v,g)}function c(v,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Od(""+g,v.mode,m),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:return m=au(g.type,g.key,g.props,null,v.mode,m),m.ref=ga(v,null,g),m.return=v,m;case Zi:return g=$d(g,v.mode,m),g.return=v,g;case Cr:var b=g._init;return c(v,b(g._payload),m)}if(Pa(g)||ca(g))return g=bi(g,v.mode,m,null),g.return=v,g;Ps(v,g)}return null}function f(v,g,m,b){var k=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(v,g,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ms:return m.key===k?s(v,g,m,b):null;case Zi:return m.key===k?u(v,g,m,b):null;case Cr:return k=m._init,f(v,g,k(m._payload),b)}if(Pa(m)||ca(m))return k!==null?null:d(v,g,m,b,null);Ps(v,m)}return null}function p(v,g,m,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(m)||null,l(g,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ms:return v=v.get(b.key===null?m:b.key)||null,s(g,v,b,k);case Zi:return v=v.get(b.key===null?m:b.key)||null,u(g,v,b,k);case Cr:var S=b._init;return p(v,g,m,S(b._payload),k)}if(Pa(b)||ca(b))return v=v.get(m)||null,d(g,v,b,k,null);Ps(g,b)}return null}function h(v,g,m,b){for(var k=null,S=null,C=g,N=g=0,D=null;C!==null&&N<m.length;N++){C.index>N?(D=C,C=null):D=C.sibling;var P=f(v,C,m[N],b);if(P===null){C===null&&(C=D);break}e&&C&&P.alternate===null&&t(v,C),g=o(P,g,N),S===null?k=P:S.sibling=P,S=P,C=D}if(N===m.length)return n(v,C),Ve&&ui(v,N),k;if(C===null){for(;N<m.length;N++)C=c(v,m[N],b),C!==null&&(g=o(C,g,N),S===null?k=C:S.sibling=C,S=C);return Ve&&ui(v,N),k}for(C=r(v,C);N<m.length;N++)D=p(C,v,N,m[N],b),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?N:D.key),g=o(D,g,N),S===null?k=D:S.sibling=D,S=D);return e&&C.forEach(function(j){return t(v,j)}),Ve&&ui(v,N),k}function y(v,g,m,b){var k=ca(m);if(typeof k!="function")throw Error(ee(150));if(m=k.call(m),m==null)throw Error(ee(151));for(var S=k=null,C=g,N=g=0,D=null,P=m.next();C!==null&&!P.done;N++,P=m.next()){C.index>N?(D=C,C=null):D=C.sibling;var j=f(v,C,P.value,b);if(j===null){C===null&&(C=D);break}e&&C&&j.alternate===null&&t(v,C),g=o(j,g,N),S===null?k=j:S.sibling=j,S=j,C=D}if(P.done)return n(v,C),Ve&&ui(v,N),k;if(C===null){for(;!P.done;N++,P=m.next())P=c(v,P.value,b),P!==null&&(g=o(P,g,N),S===null?k=P:S.sibling=P,S=P);return Ve&&ui(v,N),k}for(C=r(v,C);!P.done;N++,P=m.next())P=p(C,v,N,P.value,b),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?N:P.key),g=o(P,g,N),S===null?k=P:S.sibling=P,S=P);return e&&C.forEach(function(A){return t(v,A)}),Ve&&ui(v,N),k}function w(v,g,m,b){if(typeof m=="object"&&m!==null&&m.type===eo&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ms:e:{for(var k=m.key,S=g;S!==null;){if(S.key===k){if(k=m.type,k===eo){if(S.tag===7){n(v,S.sibling),g=i(S,m.props.children),g.return=v,v=g;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cr&&Sv(k)===S.type){n(v,S.sibling),g=i(S,m.props),g.ref=ga(v,S,m),g.return=v,v=g;break e}n(v,S);break}else t(v,S);S=S.sibling}m.type===eo?(g=bi(m.props.children,v.mode,b,m.key),g.return=v,v=g):(b=au(m.type,m.key,m.props,null,v.mode,b),b.ref=ga(v,g,m),b.return=v,v=b)}return a(v);case Zi:e:{for(S=m.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(v,g.sibling),g=i(g,m.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=$d(m,v.mode,b),g.return=v,v=g}return a(v);case Cr:return S=m._init,w(v,g,S(m._payload),b)}if(Pa(m))return h(v,g,m,b);if(ca(m))return y(v,g,m,b);Ps(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,m),g.return=v,v=g):(n(v,g),g=Od(m,v.mode,b),g.return=v,v=g),a(v)):n(v,g)}return w}var Oo=b1(!0),S1=b1(!1),ju=ti(null),Ou=null,so=null,Wh=null;function Gh(){Wh=so=Ou=null}function Kh(e){var t=ju.current;Ue(ju),e._currentValue=t}function tp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vo(e,t){Ou=e,Wh=so=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function wn(e){var t=e._currentValue;if(Wh!==e)if(e={context:e,memoizedValue:t,next:null},so===null){if(Ou===null)throw Error(ee(308));so=e,Ou.dependencies={lanes:0,firstContext:e}}else so=so.next=e;return t}var mi=null;function Qh(e){mi===null?mi=[e]:mi.push(e)}function k1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Qh(t)):(n.next=i.next,i.next=n),t.interleaved=n,gr(e,r)}function gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ir=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,gr(e,n)}return i=r.interleaved,i===null?(t.next=t,Qh(r)):(t.next=i.next,i.next=t),r.interleaved=t,gr(e,n)}function eu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$h(e,n)}}function kv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $u(e,t,n,r){var i=e.updateQueue;Ir=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var s=l,u=s.next;s.next=null,a===null?o=u:a.next=u,a=s;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=s))}if(o!==null){var c=i.baseState;a=0,d=u=s=null,l=o;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,y=l;switch(f=t,p=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){c=h.call(p,c,f);break e}c=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,f=typeof h=="function"?h.call(p,c,f):h,f==null)break e;c=Qe({},c,f);break e;case 2:Ir=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,s=c):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(s=c),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ai|=a,e.lanes=a,e.memoizedState=c}}function Ev(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Hl={},Gn=ti(Hl),dl=ti(Hl),fl=ti(Hl);function vi(e){if(e===Hl)throw Error(ee(174));return e}function Jh(e,t){switch(Me(fl,t),Me(dl,e),Me(Gn,Hl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$f(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$f(t,e)}Ue(Gn),Me(Gn,t)}function $o(){Ue(Gn),Ue(dl),Ue(fl)}function C1(e){vi(fl.current);var t=vi(Gn.current),n=$f(t,e.type);t!==n&&(Me(dl,e),Me(Gn,n))}function Xh(e){dl.current===e&&(Ue(Gn),Ue(dl))}var Ge=ti(0);function _u(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ad=[];function Zh(){for(var e=0;e<Ad.length;e++)Ad[e]._workInProgressVersionPrimary=null;Ad.length=0}var tu=yr.ReactCurrentDispatcher,Td=yr.ReactCurrentBatchConfig,Pi=0,Ke=null,it=null,lt=null,Fu=!1,Ba=!1,pl=0,$2=0;function wt(){throw Error(ee(321))}function eg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function tg(e,t,n,r,i,o){if(Pi=o,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tu.current=e===null||e.memoizedState===null?M2:B2,e=n(r,i),Ba){o=0;do{if(Ba=!1,pl=0,25<=o)throw Error(ee(301));o+=1,lt=it=null,t.updateQueue=null,tu.current=z2,e=n(r,i)}while(Ba)}if(tu.current=Lu,t=it!==null&&it.next!==null,Pi=0,lt=it=Ke=null,Fu=!1,t)throw Error(ee(300));return e}function ng(){var e=pl!==0;return pl=0,e}function Bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ke.memoizedState=lt=e:lt=lt.next=e,lt}function xn(){if(it===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=lt===null?Ke.memoizedState:lt.next;if(t!==null)lt=t,it=e;else{if(e===null)throw Error(ee(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},lt===null?Ke.memoizedState=lt=e:lt=lt.next=e}return lt}function hl(e,t){return typeof t=="function"?t(e):t}function Nd(e){var t=xn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=it,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,s=null,u=o;do{var d=u.lane;if((Pi&d)===d)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=c,a=r):s=s.next=c,Ke.lanes|=d,Ai|=d}u=u.next}while(u!==null&&u!==o);s===null?a=r:s.next=l,$n(r,t.memoizedState)||(zt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ke.lanes|=o,Ai|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dd(e){var t=xn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);$n(o,t.memoizedState)||(zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function I1(){}function P1(e,t){var n=Ke,r=xn(),i=t(),o=!$n(r.memoizedState,i);if(o&&(r.memoizedState=i,zt=!0),r=r.queue,rg(N1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,gl(9,T1.bind(null,n,r,i,t),void 0,null),st===null)throw Error(ee(349));Pi&30||A1(n,t,i)}return i}function A1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function T1(e,t,n,r){t.value=n,t.getSnapshot=r,D1(t)&&R1(e)}function N1(e,t,n){return n(function(){D1(t)&&R1(e)})}function D1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch{return!0}}function R1(e){var t=gr(e,1);t!==null&&Rn(t,e,1,-1)}function Cv(e){var t=Bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:e},t.queue=e,e=e.dispatch=L2.bind(null,Ke,e),[t.memoizedState,e]}function gl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function j1(){return xn().memoizedState}function nu(e,t,n,r){var i=Bn();Ke.flags|=e,i.memoizedState=gl(1|t,n,void 0,r===void 0?null:r)}function Cc(e,t,n,r){var i=xn();r=r===void 0?null:r;var o=void 0;if(it!==null){var a=it.memoizedState;if(o=a.destroy,r!==null&&eg(r,a.deps)){i.memoizedState=gl(t,n,o,r);return}}Ke.flags|=e,i.memoizedState=gl(1|t,n,o,r)}function Iv(e,t){return nu(8390656,8,e,t)}function rg(e,t){return Cc(2048,8,e,t)}function O1(e,t){return Cc(4,2,e,t)}function $1(e,t){return Cc(4,4,e,t)}function _1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function F1(e,t,n){return n=n!=null?n.concat([e]):null,Cc(4,4,_1.bind(null,t,e),n)}function ig(){}function L1(e,t){var n=xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&eg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function M1(e,t){var n=xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&eg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function B1(e,t,n){return Pi&21?($n(n,t)||(n=Vw(),Ke.lanes|=n,Ai|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=n)}function _2(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=Td.transition;Td.transition={};try{e(!1),t()}finally{De=n,Td.transition=r}}function z1(){return xn().memoizedState}function F2(e,t,n){var r=zr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U1(e))H1(t,n);else if(n=k1(e,t,n,r),n!==null){var i=Rt();Rn(n,e,r,i),q1(n,t,r)}}function L2(e,t,n){var r=zr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U1(e))H1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,$n(l,a)){var s=t.interleaved;s===null?(i.next=i,Qh(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=k1(e,t,i,r),n!==null&&(i=Rt(),Rn(n,e,r,i),q1(n,t,r))}}function U1(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function H1(e,t){Ba=Fu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function q1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$h(e,n)}}var Lu={readContext:wn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},M2={readContext:wn,useCallback:function(e,t){return Bn().memoizedState=[e,t===void 0?null:t],e},useContext:wn,useEffect:Iv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nu(4194308,4,_1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nu(4194308,4,e,t)},useInsertionEffect:function(e,t){return nu(4,2,e,t)},useMemo:function(e,t){var n=Bn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=F2.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Bn();return e={current:e},t.memoizedState=e},useState:Cv,useDebugValue:ig,useDeferredValue:function(e){return Bn().memoizedState=e},useTransition:function(){var e=Cv(!1),t=e[0];return e=_2.bind(null,e[1]),Bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,i=Bn();if(Ve){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),st===null)throw Error(ee(349));Pi&30||A1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Iv(N1.bind(null,r,o,e),[e]),r.flags|=2048,gl(9,T1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Bn(),t=st.identifierPrefix;if(Ve){var n=sr,r=lr;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B2={readContext:wn,useCallback:L1,useContext:wn,useEffect:rg,useImperativeHandle:F1,useInsertionEffect:O1,useLayoutEffect:$1,useMemo:M1,useReducer:Nd,useRef:j1,useState:function(){return Nd(hl)},useDebugValue:ig,useDeferredValue:function(e){var t=xn();return B1(t,it.memoizedState,e)},useTransition:function(){var e=Nd(hl)[0],t=xn().memoizedState;return[e,t]},useMutableSource:I1,useSyncExternalStore:P1,useId:z1,unstable_isNewReconciler:!1},z2={readContext:wn,useCallback:L1,useContext:wn,useEffect:rg,useImperativeHandle:F1,useInsertionEffect:O1,useLayoutEffect:$1,useMemo:M1,useReducer:Dd,useRef:j1,useState:function(){return Dd(hl)},useDebugValue:ig,useDeferredValue:function(e){var t=xn();return it===null?t.memoizedState=e:B1(t,it.memoizedState,e)},useTransition:function(){var e=Dd(hl)[0],t=xn().memoizedState;return[e,t]},useMutableSource:I1,useSyncExternalStore:P1,useId:z1,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function np(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ic={isMounted:function(e){return(e=e._reactInternals)?_i(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),i=zr(e),o=cr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Mr(e,o,i),t!==null&&(Rn(t,e,i,r),eu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),i=zr(e),o=cr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Mr(e,o,i),t!==null&&(Rn(t,e,i,r),eu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=zr(e),i=cr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Mr(e,i,r),t!==null&&(Rn(t,e,r,n),eu(t,e,r))}};function Pv(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!ll(n,r)||!ll(i,o):!0}function V1(e,t,n){var r=!1,i=Qr,o=t.contextType;return typeof o=="object"&&o!==null?o=wn(o):(i=Ht(t)?Ci:Ct.current,r=t.contextTypes,o=(r=r!=null)?Ro(e,i):Qr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ic,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Av(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ic.enqueueReplaceState(t,t.state,null)}function rp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Yh(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=wn(o):(o=Ht(t)?Ci:Ct.current,i.context=Ro(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(np(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ic.enqueueReplaceState(i,i.state,null),$u(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _o(e,t){try{var n="",r=t;do n+=gC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Rd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ip(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var U2=typeof WeakMap=="function"?WeakMap:Map;function W1(e,t,n){n=cr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,hp=r),ip(e,t)},n}function G1(e,t,n){n=cr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ip(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ip(e,t),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Tv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new U2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=nI.bind(null,e,t,n),t.then(e,e))}function Nv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cr(-1,1),t.tag=2,Mr(n,t,1))),n.lanes|=1),e)}var H2=yr.ReactCurrentOwner,zt=!1;function Tt(e,t,n,r){t.child=e===null?S1(t,null,n,r):Oo(t,e.child,n,r)}function Rv(e,t,n,r,i){n=n.render;var o=t.ref;return vo(t,i),r=tg(e,t,n,r,o,i),n=ng(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mr(e,t,i)):(Ve&&n&&Hh(t),t.flags|=1,Tt(e,t,r,i),t.child)}function jv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!fg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,K1(e,t,o,r,i)):(e=au(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(a,r)&&e.ref===t.ref)return mr(e,t,i)}return t.flags|=1,e=Ur(o,r),e.ref=t.ref,e.return=t,t.child=e}function K1(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ll(o,r)&&e.ref===t.ref)if(zt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,mr(e,t,i)}return op(e,t,n,r,i)}function Q1(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(co,Kt),Kt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(co,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Me(co,Kt),Kt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Me(co,Kt),Kt|=r;return Tt(e,t,i,n),t.child}function Y1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function op(e,t,n,r,i){var o=Ht(n)?Ci:Ct.current;return o=Ro(t,o),vo(t,i),n=tg(e,t,n,r,o,i),r=ng(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mr(e,t,i)):(Ve&&r&&Hh(t),t.flags|=1,Tt(e,t,n,i),t.child)}function Ov(e,t,n,r,i){if(Ht(n)){var o=!0;Nu(t)}else o=!1;if(vo(t,i),t.stateNode===null)ru(e,t),V1(t,n,r),rp(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Ht(n)?Ci:Ct.current,u=Ro(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||s!==u)&&Av(t,a,r,u),Ir=!1;var f=t.memoizedState;a.state=f,$u(t,r,a,i),s=t.memoizedState,l!==r||f!==s||Ut.current||Ir?(typeof d=="function"&&(np(t,n,d,r),s=t.memoizedState),(l=Ir||Pv(t,n,l,r,f,s,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,E1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Pn(t.type,l),a.props=u,c=t.pendingProps,f=a.context,s=n.contextType,typeof s=="object"&&s!==null?s=wn(s):(s=Ht(n)?Ci:Ct.current,s=Ro(t,s));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==c||f!==s)&&Av(t,a,r,s),Ir=!1,f=t.memoizedState,a.state=f,$u(t,r,a,i);var h=t.memoizedState;l!==c||f!==h||Ut.current||Ir?(typeof p=="function"&&(np(t,n,p,r),h=t.memoizedState),(u=Ir||Pv(t,n,u,r,f,h,s)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,h,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,h,s)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=s,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ap(e,t,n,r,o,i)}function ap(e,t,n,r,i,o){Y1(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&wv(t,n,!1),mr(e,t,o);r=t.stateNode,H2.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,l,o)):Tt(e,t,l,o),t.memoizedState=r.state,i&&wv(t,n,!0),t.child}function J1(e){var t=e.stateNode;t.pendingContext?yv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yv(e,t.context,!1),Jh(e,t.containerInfo)}function $v(e,t,n,r,i){return jo(),Vh(i),t.flags|=256,Tt(e,t,n,r),t.child}var lp={dehydrated:null,treeContext:null,retryLane:0};function sp(e){return{baseLanes:e,cachePool:null,transitions:null}}function X1(e,t,n){var r=t.pendingProps,i=Ge.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Me(Ge,i&1),e===null)return ep(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Tc(a,r,0,null),e=bi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=sp(n),t.memoizedState=lp,e):og(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return q2(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var s={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=Ur(i,s),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Ur(l,o):(o=bi(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?sp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=lp,r}return o=e.child,e=o.sibling,r=Ur(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function og(e,t){return t=Tc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,n,r){return r!==null&&Vh(r),Oo(t,e.child,null,n),e=og(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q2(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Rd(Error(ee(422))),As(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Tc({mode:"visible",children:r.children},i,0,null),o=bi(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Oo(t,e.child,null,a),t.child.memoizedState=sp(a),t.memoizedState=lp,o);if(!(t.mode&1))return As(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ee(419)),r=Rd(o,r,void 0),As(e,t,a,r)}if(l=(a&e.childLanes)!==0,zt||l){if(r=st,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,gr(e,i),Rn(r,e,i,-1))}return dg(),r=Rd(Error(ee(421))),As(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rI.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Qt=Lr(i.nextSibling),Jt=t,Ve=!0,Tn=null,e!==null&&(cn[dn++]=lr,cn[dn++]=sr,cn[dn++]=Ii,lr=e.id,sr=e.overflow,Ii=t),t=og(t,r.children),t.flags|=4096,t)}function _v(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tp(e.return,t,n)}function jd(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Z1(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Tt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_v(e,n,t);else if(e.tag===19)_v(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Me(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_u(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jd(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_u(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jd(t,!0,n,null,o);break;case"together":jd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ru(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ai|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Ur(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ur(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function V2(e,t,n){switch(t.tag){case 3:J1(t),jo();break;case 5:C1(t);break;case 1:Ht(t.type)&&Nu(t);break;case 4:Jh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Me(ju,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Me(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?X1(e,t,n):(Me(Ge,Ge.current&1),e=mr(e,t,n),e!==null?e.sibling:null);Me(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Z1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Q1(e,t,n)}return mr(e,t,n)}var ex,up,tx,nx;ex=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};up=function(){};tx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,vi(Gn.current);var o=null;switch(n){case"input":i=Df(e,i),r=Df(e,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=Of(e,i),r=Of(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Au)}_f(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(el.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var s=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(o||(o=[]),o.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(o=o||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(el.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&Be("scroll",e),o||l===s||(o=[])):(o=o||[]).push(u,s))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};nx=function(e,t,n,r){n!==r&&(t.flags|=4)};function ma(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function W2(e,t,n){var r=t.pendingProps;switch(qh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return Ht(t.type)&&Tu(),xt(t),null;case 3:return r=t.stateNode,$o(),Ue(Ut),Ue(Ct),Zh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(vp(Tn),Tn=null))),up(e,t),xt(t),null;case 5:Xh(t);var i=vi(fl.current);if(n=t.type,e!==null&&t.stateNode!=null)tx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return xt(t),null}if(e=vi(Gn.current),Is(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[qn]=t,r[cl]=o,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Ta.length;i++)Be(Ta[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Vm(r,o),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Be("invalid",r);break;case"textarea":Gm(r,o),Be("invalid",r)}_f(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Cs(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Cs(r.textContent,l,e),i=["children",""+l]):el.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",r)}switch(n){case"input":vs(r),Wm(r,o,!0);break;case"textarea":vs(r),Km(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Au)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[qn]=t,e[cl]=r,ex(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ff(n,r),n){case"dialog":Be("cancel",e),Be("close",e),i=r;break;case"iframe":case"object":case"embed":Be("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ta.length;i++)Be(Ta[i],e);i=r;break;case"source":Be("error",e),i=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=r;break;case"details":Be("toggle",e),i=r;break;case"input":Vm(e,r),i=Df(e,r),Be("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Be("invalid",e);break;case"textarea":Gm(e,r),i=Of(e,r),Be("invalid",e);break;default:i=r}_f(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="style"?jw(e,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Dw(e,s)):o==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&tl(e,s):typeof s=="number"&&tl(e,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(el.hasOwnProperty(o)?s!=null&&o==="onScroll"&&Be("scroll",e):s!=null&&Th(e,o,s,a))}switch(n){case"input":vs(e),Wm(e,r,!1);break;case"textarea":vs(e),Km(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?po(e,!!r.multiple,o,!1):r.defaultValue!=null&&po(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xt(t),null;case 6:if(e&&t.stateNode!=null)nx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=vi(fl.current),vi(Gn.current),Is(t)){if(r=t.stateNode,n=t.memoizedProps,r[qn]=t,(o=r.nodeValue!==n)&&(e=Jt,e!==null))switch(e.tag){case 3:Cs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=t,t.stateNode=r}return xt(t),null;case 13:if(Ue(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Qt!==null&&t.mode&1&&!(t.flags&128))x1(),jo(),t.flags|=98560,o=!1;else if(o=Is(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[qn]=t}else jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),o=!1}else Tn!==null&&(vp(Tn),Tn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?ot===0&&(ot=3):dg())),t.updateQueue!==null&&(t.flags|=4),xt(t),null);case 4:return $o(),up(e,t),e===null&&sl(t.stateNode.containerInfo),xt(t),null;case 10:return Kh(t.type._context),xt(t),null;case 17:return Ht(t.type)&&Tu(),xt(t),null;case 19:if(Ue(Ge),o=t.memoizedState,o===null)return xt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ma(o,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=_u(e),a!==null){for(t.flags|=128,ma(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Me(Ge,Ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ze()>Fo&&(t.flags|=128,r=!0,ma(o,!1),t.lanes=4194304)}else{if(!r)if(e=_u(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ma(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ve)return xt(t),null}else 2*Ze()-o.renderingStartTime>Fo&&n!==1073741824&&(t.flags|=128,r=!0,ma(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=Ge.current,Me(Ge,r?n&1|2:n&1),t):(xt(t),null);case 22:case 23:return cg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Kt&1073741824&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function G2(e,t){switch(qh(t),t.tag){case 1:return Ht(t.type)&&Tu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $o(),Ue(Ut),Ue(Ct),Zh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xh(t),null;case 13:if(Ue(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Ge),null;case 4:return $o(),null;case 10:return Kh(t.type._context),null;case 22:case 23:return cg(),null;case 24:return null;default:return null}}var Ts=!1,bt=!1,K2=typeof WeakSet=="function"?WeakSet:Set,le=null;function uo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function cp(e,t,n){try{n()}catch(r){Je(e,t,r)}}var Fv=!1;function Q2(e,t){if(Gf=Cu,e=l1(),Uh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,s=-1,u=0,d=0,c=e,f=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(l=a+i),c!==o||r!==0&&c.nodeType!==3||(s=a+r),c.nodeType===3&&(a+=c.nodeValue.length),(p=c.firstChild)!==null;)f=c,c=p;for(;;){if(c===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(s=a),(p=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=p}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:e,selectionRange:n},Cu=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,w=h.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Pn(t.type,y),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(b){Je(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return h=Fv,Fv=!1,h}function za(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&cp(t,n,o)}i=i.next}while(i!==r)}}function Pc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rx(e){var t=e.alternate;t!==null&&(e.alternate=null,rx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qn],delete t[cl],delete t[Jf],delete t[D2],delete t[R2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ix(e){return e.tag===5||e.tag===3||e.tag===4}function Lv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ix(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Au));else if(r!==4&&(e=e.child,e!==null))for(fp(e,t,n),e=e.sibling;e!==null;)fp(e,t,n),e=e.sibling}function pp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pp(e,t,n),e=e.sibling;e!==null;)pp(e,t,n),e=e.sibling}var gt=null,An=!1;function br(e,t,n){for(n=n.child;n!==null;)ox(e,t,n),n=n.sibling}function ox(e,t,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(wc,n)}catch{}switch(n.tag){case 5:bt||uo(n,t);case 6:var r=gt,i=An;gt=null,br(e,t,n),gt=r,An=i,gt!==null&&(An?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(An?(e=gt,n=n.stateNode,e.nodeType===8?Id(e.parentNode,n):e.nodeType===1&&Id(e,n),ol(e)):Id(gt,n.stateNode));break;case 4:r=gt,i=An,gt=n.stateNode.containerInfo,An=!0,br(e,t,n),gt=r,An=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&cp(n,t,a),i=i.next}while(i!==r)}br(e,t,n);break;case 1:if(!bt&&(uo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Je(n,t,l)}br(e,t,n);break;case 21:br(e,t,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,br(e,t,n),bt=r):br(e,t,n);break;default:br(e,t,n)}}function Mv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new K2),t.forEach(function(r){var i=iI.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,An=!1;break e;case 3:gt=l.stateNode.containerInfo,An=!0;break e;case 4:gt=l.stateNode.containerInfo,An=!0;break e}l=l.return}if(gt===null)throw Error(ee(160));ox(o,a,i),gt=null,An=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(u){Je(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ax(t,e),t=t.sibling}function ax(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kn(t,e),Fn(e),r&4){try{za(3,e,e.return),Pc(3,e)}catch(y){Je(e,e.return,y)}try{za(5,e,e.return)}catch(y){Je(e,e.return,y)}}break;case 1:kn(t,e),Fn(e),r&512&&n!==null&&uo(n,n.return);break;case 5:if(kn(t,e),Fn(e),r&512&&n!==null&&uo(n,n.return),e.flags&32){var i=e.stateNode;try{tl(i,"")}catch(y){Je(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Aw(i,o),Ff(l,a);var u=Ff(l,o);for(a=0;a<s.length;a+=2){var d=s[a],c=s[a+1];d==="style"?jw(i,c):d==="dangerouslySetInnerHTML"?Dw(i,c):d==="children"?tl(i,c):Th(i,d,c,u)}switch(l){case"input":Rf(i,o);break;case"textarea":Tw(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?po(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?po(i,!!o.multiple,o.defaultValue,!0):po(i,!!o.multiple,o.multiple?[]:"",!1))}i[cl]=o}catch(y){Je(e,e.return,y)}}break;case 6:if(kn(t,e),Fn(e),r&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Je(e,e.return,y)}}break;case 3:if(kn(t,e),Fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ol(t.containerInfo)}catch(y){Je(e,e.return,y)}break;case 4:kn(t,e),Fn(e);break;case 13:kn(t,e),Fn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sg=Ze())),r&4&&Mv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(bt=(u=bt)||d,kn(t,e),bt=u):kn(t,e),Fn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(le=e,d=e.child;d!==null;){for(c=le=d;le!==null;){switch(f=le,p=f.child,f.tag){case 0:case 11:case 14:case 15:za(4,f,f.return);break;case 1:uo(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){Je(r,n,y)}}break;case 5:uo(f,f.return);break;case 22:if(f.memoizedState!==null){zv(c);continue}}p!==null?(p.return=f,le=p):zv(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=c.stateNode,s=c.memoizedProps.style,a=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=Rw("display",a))}catch(y){Je(e,e.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){Je(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:kn(t,e),Fn(e),r&4&&Mv(e);break;case 21:break;default:kn(t,e),Fn(e)}}function Fn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ix(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tl(i,""),r.flags&=-33);var o=Lv(e);pp(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Lv(e);fp(e,l,a);break;default:throw Error(ee(161))}}catch(s){Je(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Y2(e,t,n){le=e,lx(e)}function lx(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ts;if(!a){var l=i.alternate,s=l!==null&&l.memoizedState!==null||bt;l=Ts;var u=bt;if(Ts=a,(bt=s)&&!u)for(le=i;le!==null;)a=le,s=a.child,a.tag===22&&a.memoizedState!==null?Uv(i):s!==null?(s.return=a,le=s):Uv(i);for(;o!==null;)le=o,lx(o),o=o.sibling;le=i,Ts=l,bt=u}Bv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):Bv(e)}}function Bv(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||Pc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ev(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ev(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&ol(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}bt||t.flags&512&&dp(t)}catch(f){Je(t,t.return,f)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function zv(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Uv(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pc(4,t)}catch(s){Je(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){Je(t,i,s)}}var o=t.return;try{dp(t)}catch(s){Je(t,o,s)}break;case 5:var a=t.return;try{dp(t)}catch(s){Je(t,a,s)}}}catch(s){Je(t,t.return,s)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var J2=Math.ceil,Mu=yr.ReactCurrentDispatcher,ag=yr.ReactCurrentOwner,vn=yr.ReactCurrentBatchConfig,Ae=0,st=null,tt=null,vt=0,Kt=0,co=ti(0),ot=0,ml=null,Ai=0,Ac=0,lg=0,Ua=null,Mt=null,sg=0,Fo=1/0,tr=null,Bu=!1,hp=null,Br=null,Ns=!1,jr=null,zu=0,Ha=0,gp=null,iu=-1,ou=0;function Rt(){return Ae&6?Ze():iu!==-1?iu:iu=Ze()}function zr(e){return e.mode&1?Ae&2&&vt!==0?vt&-vt:O2.transition!==null?(ou===0&&(ou=Vw()),ou):(e=De,e!==0||(e=window.event,e=e===void 0?16:Xw(e.type)),e):1}function Rn(e,t,n,r){if(50<Ha)throw Ha=0,gp=null,Error(ee(185));Bl(e,n,r),(!(Ae&2)||e!==st)&&(e===st&&(!(Ae&2)&&(Ac|=n),ot===4&&Tr(e,vt)),qt(e,r),n===1&&Ae===0&&!(t.mode&1)&&(Fo=Ze()+500,Ec&&ni()))}function qt(e,t){var n=e.callbackNode;OC(e,t);var r=Eu(e,e===st?vt:0);if(r===0)n!==null&&Jm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jm(n),t===1)e.tag===0?j2(Hv.bind(null,e)):v1(Hv.bind(null,e)),T2(function(){!(Ae&6)&&ni()}),n=null;else{switch(Ww(r)){case 1:n=Oh;break;case 4:n=Hw;break;case 16:n=ku;break;case 536870912:n=qw;break;default:n=ku}n=gx(n,sx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sx(e,t){if(iu=-1,ou=0,Ae&6)throw Error(ee(327));var n=e.callbackNode;if(yo()&&e.callbackNode!==n)return null;var r=Eu(e,e===st?vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Uu(e,r);else{t=r;var i=Ae;Ae|=2;var o=cx();(st!==e||vt!==t)&&(tr=null,Fo=Ze()+500,xi(e,t));do try{eI();break}catch(l){ux(e,l)}while(!0);Gh(),Mu.current=o,Ae=i,tt!==null?t=0:(st=null,vt=0,t=ot)}if(t!==0){if(t===2&&(i=Uf(e),i!==0&&(r=i,t=mp(e,i))),t===1)throw n=ml,xi(e,0),Tr(e,r),qt(e,Ze()),n;if(t===6)Tr(e,r);else{if(i=e.current.alternate,!(r&30)&&!X2(i)&&(t=Uu(e,r),t===2&&(o=Uf(e),o!==0&&(r=o,t=mp(e,o))),t===1))throw n=ml,xi(e,0),Tr(e,r),qt(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:ci(e,Mt,tr);break;case 3:if(Tr(e,r),(r&130023424)===r&&(t=sg+500-Ze(),10<t)){if(Eu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yf(ci.bind(null,e,Mt,tr),t);break}ci(e,Mt,tr);break;case 4:if(Tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Dn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J2(r/1960))-r,10<r){e.timeoutHandle=Yf(ci.bind(null,e,Mt,tr),r);break}ci(e,Mt,tr);break;case 5:ci(e,Mt,tr);break;default:throw Error(ee(329))}}}return qt(e,Ze()),e.callbackNode===n?sx.bind(null,e):null}function mp(e,t){var n=Ua;return e.current.memoizedState.isDehydrated&&(xi(e,t).flags|=256),e=Uu(e,t),e!==2&&(t=Mt,Mt=n,t!==null&&vp(t)),e}function vp(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function X2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$n(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~lg,t&=~Ac,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dn(t),r=1<<n;e[n]=-1,t&=~r}}function Hv(e){if(Ae&6)throw Error(ee(327));yo();var t=Eu(e,0);if(!(t&1))return qt(e,Ze()),null;var n=Uu(e,t);if(e.tag!==0&&n===2){var r=Uf(e);r!==0&&(t=r,n=mp(e,r))}if(n===1)throw n=ml,xi(e,0),Tr(e,t),qt(e,Ze()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ci(e,Mt,tr),qt(e,Ze()),null}function ug(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(Fo=Ze()+500,Ec&&ni())}}function Ti(e){jr!==null&&jr.tag===0&&!(Ae&6)&&yo();var t=Ae;Ae|=1;var n=vn.transition,r=De;try{if(vn.transition=null,De=1,e)return e()}finally{De=r,vn.transition=n,Ae=t,!(Ae&6)&&ni()}}function cg(){Kt=co.current,Ue(co)}function xi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,A2(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(qh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tu();break;case 3:$o(),Ue(Ut),Ue(Ct),Zh();break;case 5:Xh(r);break;case 4:$o();break;case 13:Ue(Ge);break;case 19:Ue(Ge);break;case 10:Kh(r.type._context);break;case 22:case 23:cg()}n=n.return}if(st=e,tt=e=Ur(e.current,null),vt=Kt=t,ot=0,ml=null,lg=Ac=Ai=0,Mt=Ua=null,mi!==null){for(t=0;t<mi.length;t++)if(n=mi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}mi=null}return e}function ux(e,t){do{var n=tt;try{if(Gh(),tu.current=Lu,Fu){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fu=!1}if(Pi=0,lt=it=Ke=null,Ba=!1,pl=0,ag.current=null,n===null||n.return===null){ot=1,ml=t,tt=null;break}e:{var o=e,a=n.return,l=n,s=t;if(t=vt,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Nv(a);if(p!==null){p.flags&=-257,Dv(p,a,l,o,t),p.mode&1&&Tv(o,u,t),t=p,s=u;var h=t.updateQueue;if(h===null){var y=new Set;y.add(s),t.updateQueue=y}else h.add(s);break e}else{if(!(t&1)){Tv(o,u,t),dg();break e}s=Error(ee(426))}}else if(Ve&&l.mode&1){var w=Nv(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Dv(w,a,l,o,t),Vh(_o(s,l));break e}}o=s=_o(s,l),ot!==4&&(ot=2),Ua===null?Ua=[o]:Ua.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=W1(o,s,t);kv(o,v);break e;case 1:l=s;var g=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Br===null||!Br.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=G1(o,l,t);kv(o,b);break e}}o=o.return}while(o!==null)}fx(n)}catch(k){t=k,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function cx(){var e=Mu.current;return Mu.current=Lu,e===null?Lu:e}function dg(){(ot===0||ot===3||ot===2)&&(ot=4),st===null||!(Ai&268435455)&&!(Ac&268435455)||Tr(st,vt)}function Uu(e,t){var n=Ae;Ae|=2;var r=cx();(st!==e||vt!==t)&&(tr=null,xi(e,t));do try{Z2();break}catch(i){ux(e,i)}while(!0);if(Gh(),Ae=n,Mu.current=r,tt!==null)throw Error(ee(261));return st=null,vt=0,ot}function Z2(){for(;tt!==null;)dx(tt)}function eI(){for(;tt!==null&&!CC();)dx(tt)}function dx(e){var t=hx(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?fx(e):tt=t,ag.current=null}function fx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=G2(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,tt=null;return}}else if(n=W2(n,t,Kt),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);ot===0&&(ot=5)}function ci(e,t,n){var r=De,i=vn.transition;try{vn.transition=null,De=1,tI(e,t,n,r)}finally{vn.transition=i,De=r}return null}function tI(e,t,n,r){do yo();while(jr!==null);if(Ae&6)throw Error(ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if($C(e,o),e===st&&(tt=st=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ns||(Ns=!0,gx(ku,function(){return yo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=vn.transition,vn.transition=null;var a=De;De=1;var l=Ae;Ae|=4,ag.current=null,Q2(e,n),ax(n,e),b2(Kf),Cu=!!Gf,Kf=Gf=null,e.current=n,Y2(n),IC(),Ae=l,De=a,vn.transition=o}else e.current=n;if(Ns&&(Ns=!1,jr=e,zu=i),o=e.pendingLanes,o===0&&(Br=null),TC(n.stateNode),qt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,e=hp,hp=null,e;return zu&1&&e.tag!==0&&yo(),o=e.pendingLanes,o&1?e===gp?Ha++:(Ha=0,gp=e):Ha=0,ni(),null}function yo(){if(jr!==null){var e=Ww(zu),t=vn.transition,n=De;try{if(vn.transition=null,De=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,zu=0,Ae&6)throw Error(ee(331));var i=Ae;for(Ae|=4,le=e.current;le!==null;){var o=le,a=o.child;if(le.flags&16){var l=o.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:za(8,d,o)}var c=d.child;if(c!==null)c.return=d,le=c;else for(;le!==null;){d=le;var f=d.sibling,p=d.return;if(rx(d),d===u){le=null;break}if(f!==null){f.return=p,le=f;break}le=p}}}var h=o.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}le=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,le=a;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:za(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,le=v;break e}le=o.return}}var g=e.current;for(le=g;le!==null;){a=le;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,le=m;else e:for(a=g;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pc(9,l)}}catch(k){Je(l,l.return,k)}if(l===a){le=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,le=b;break e}le=l.return}}if(Ae=i,ni(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(wc,e)}catch{}r=!0}return r}finally{De=n,vn.transition=t}}return!1}function qv(e,t,n){t=_o(n,t),t=W1(e,t,1),e=Mr(e,t,1),t=Rt(),e!==null&&(Bl(e,1,t),qt(e,t))}function Je(e,t,n){if(e.tag===3)qv(e,e,n);else for(;t!==null;){if(t.tag===3){qv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){e=_o(n,e),e=G1(t,e,1),t=Mr(t,e,1),e=Rt(),t!==null&&(Bl(t,1,e),qt(t,e));break}}t=t.return}}function nI(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(vt&n)===n&&(ot===4||ot===3&&(vt&130023424)===vt&&500>Ze()-sg?xi(e,0):lg|=n),qt(e,t)}function px(e,t){t===0&&(e.mode&1?(t=xs,xs<<=1,!(xs&130023424)&&(xs=4194304)):t=1);var n=Rt();e=gr(e,t),e!==null&&(Bl(e,t,n),qt(e,n))}function rI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),px(e,n)}function iI(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),px(e,n)}var hx;hx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zt=!1,V2(e,t,n);zt=!!(e.flags&131072)}else zt=!1,Ve&&t.flags&1048576&&y1(t,Ru,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ru(e,t),e=t.pendingProps;var i=Ro(t,Ct.current);vo(t,n),i=tg(null,t,r,e,i,n);var o=ng();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(r)?(o=!0,Nu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yh(t),i.updater=Ic,t.stateNode=i,i._reactInternals=t,rp(t,r,e,n),t=ap(null,t,r,!0,o,n)):(t.tag=0,Ve&&o&&Hh(t),Tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ru(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=aI(r),e=Pn(r,e),i){case 0:t=op(null,t,r,e,n);break e;case 1:t=Ov(null,t,r,e,n);break e;case 11:t=Rv(null,t,r,e,n);break e;case 14:t=jv(null,t,r,Pn(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),op(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),Ov(e,t,r,i,n);case 3:e:{if(J1(t),e===null)throw Error(ee(387));r=t.pendingProps,o=t.memoizedState,i=o.element,E1(e,t),$u(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_o(Error(ee(423)),t),t=$v(e,t,r,n,i);break e}else if(r!==i){i=_o(Error(ee(424)),t),t=$v(e,t,r,n,i);break e}else for(Qt=Lr(t.stateNode.containerInfo.firstChild),Jt=t,Ve=!0,Tn=null,n=S1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===i){t=mr(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return C1(t),e===null&&ep(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Qf(r,i)?a=null:o!==null&&Qf(r,o)&&(t.flags|=32),Y1(e,t),Tt(e,t,a,n),t.child;case 6:return e===null&&ep(t),null;case 13:return X1(e,t,n);case 4:return Jh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Oo(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),Rv(e,t,r,i,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Me(ju,r._currentValue),r._currentValue=a,o!==null)if($n(o.value,a)){if(o.children===i.children&&!Ut.current){t=mr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(o.tag===1){s=cr(-1,n&-n),s.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s}}o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),tp(o.return,n,t),l.lanes|=n;break}s=s.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),tp(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vo(t,n),i=wn(i),r=r(i),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,i=Pn(r,t.pendingProps),i=Pn(r.type,i),jv(e,t,r,i,n);case 15:return K1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),ru(e,t),t.tag=1,Ht(r)?(e=!0,Nu(t)):e=!1,vo(t,n),V1(t,r,i),rp(t,r,i,n),ap(null,t,r,!0,e,n);case 19:return Z1(e,t,n);case 22:return Q1(e,t,n)}throw Error(ee(156,t.tag))};function gx(e,t){return Uw(e,t)}function oI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,r){return new oI(e,t,n,r)}function fg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aI(e){if(typeof e=="function")return fg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dh)return 11;if(e===Rh)return 14}return 2}function Ur(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function au(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")fg(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case eo:return bi(n.children,i,o,t);case Nh:a=8,i|=8;break;case Pf:return e=gn(12,n,t,i|2),e.elementType=Pf,e.lanes=o,e;case Af:return e=gn(13,n,t,i),e.elementType=Af,e.lanes=o,e;case Tf:return e=gn(19,n,t,i),e.elementType=Tf,e.lanes=o,e;case Cw:return Tc(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kw:a=10;break e;case Ew:a=9;break e;case Dh:a=11;break e;case Rh:a=14;break e;case Cr:a=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=gn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function bi(e,t,n,r){return e=gn(7,e,r,t),e.lanes=n,e}function Tc(e,t,n,r){return e=gn(22,e,r,t),e.elementType=Cw,e.lanes=n,e.stateNode={isHidden:!1},e}function Od(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function $d(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lI(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gd(0),this.expirationTimes=gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pg(e,t,n,r,i,o,a,l,s){return e=new lI(e,t,n,l,s),t===1?(t=1,o===!0&&(t|=8)):t=0,o=gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(o),e}function sI(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mx(e){if(!e)return Qr;e=e._reactInternals;e:{if(_i(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(Ht(n))return m1(e,n,t)}return t}function vx(e,t,n,r,i,o,a,l,s){return e=pg(n,r,!0,e,i,o,a,l,s),e.context=mx(null),n=e.current,r=Rt(),i=zr(n),o=cr(r,i),o.callback=t??null,Mr(n,o,i),e.current.lanes=i,Bl(e,i,r),qt(e,r),e}function Nc(e,t,n,r){var i=t.current,o=Rt(),a=zr(i);return n=mx(n),t.context===null?t.context=n:t.pendingContext=n,t=cr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mr(i,t,a),e!==null&&(Rn(e,i,a,o),eu(e,i,a)),a}function Hu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hg(e,t){Vv(e,t),(e=e.alternate)&&Vv(e,t)}function uI(){return null}var yx=typeof reportError=="function"?reportError:function(e){console.error(e)};function gg(e){this._internalRoot=e}Dc.prototype.render=gg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Nc(e,t,null,null)};Dc.prototype.unmount=gg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ti(function(){Nc(null,e,null,null)}),t[hr]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ar.length&&t!==0&&t<Ar[n].priority;n++);Ar.splice(n,0,e),n===0&&Jw(e)}};function mg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wv(){}function cI(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Hu(a);o.call(u)}}var a=vx(t,r,e,0,null,!1,!1,"",Wv);return e._reactRootContainer=a,e[hr]=a.current,sl(e.nodeType===8?e.parentNode:e),Ti(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Hu(s);l.call(u)}}var s=pg(e,0,!1,null,null,!1,!1,"",Wv);return e._reactRootContainer=s,e[hr]=s.current,sl(e.nodeType===8?e.parentNode:e),Ti(function(){Nc(t,s,n,r)}),s}function jc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var s=Hu(a);l.call(s)}}Nc(t,a,e,i)}else a=cI(n,t,e,i,r);return Hu(a)}Gw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Aa(t.pendingLanes);n!==0&&($h(t,n|1),qt(t,Ze()),!(Ae&6)&&(Fo=Ze()+500,ni()))}break;case 13:Ti(function(){var r=gr(e,1);if(r!==null){var i=Rt();Rn(r,e,1,i)}}),hg(e,1)}};_h=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var n=Rt();Rn(t,e,134217728,n)}hg(e,134217728)}};Kw=function(e){if(e.tag===13){var t=zr(e),n=gr(e,t);if(n!==null){var r=Rt();Rn(n,e,t,r)}hg(e,t)}};Qw=function(){return De};Yw=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};Mf=function(e,t,n){switch(t){case"input":if(Rf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=kc(r);if(!i)throw Error(ee(90));Pw(r),Rf(r,i)}}}break;case"textarea":Tw(e,n);break;case"select":t=n.value,t!=null&&po(e,!!n.multiple,t,!1)}};_w=ug;Fw=Ti;var dI={usingClientEntryPoint:!1,Events:[Ul,io,kc,Ow,$w,ug]},va={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fI={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bw(e),e===null?null:e.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||uI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{wc=Ds.inject(fI),Wn=Ds}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dI;rn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mg(t))throw Error(ee(200));return sI(e,t,null,n)};rn.createRoot=function(e,t){if(!mg(e))throw Error(ee(299));var n=!1,r="",i=yx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=pg(e,1,!1,null,null,n,!1,r,i),e[hr]=t.current,sl(e.nodeType===8?e.parentNode:e),new gg(t)};rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=Bw(t),e=e===null?null:e.stateNode,e};rn.flushSync=function(e){return Ti(e)};rn.hydrate=function(e,t,n){if(!Rc(t))throw Error(ee(200));return jc(null,e,t,!0,n)};rn.hydrateRoot=function(e,t,n){if(!mg(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=yx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=vx(t,null,e,1,n??null,i,!1,o,a),e[hr]=t.current,sl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Dc(t)};rn.render=function(e,t,n){if(!Rc(t))throw Error(ee(200));return jc(null,e,t,!1,n)};rn.unmountComponentAtNode=function(e){if(!Rc(e))throw Error(ee(40));return e._reactRootContainer?(Ti(function(){jc(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};rn.unstable_batchedUpdates=ug;rn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rc(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return jc(e,t,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function wx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wx)}catch(e){console.error(e)}}wx(),ww.exports=rn;var vg=ww.exports;const pI=Go(vg);var xx,Gv=vg;xx=Gv.createRoot,Gv.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vl.apply(this,arguments)}var Or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Or||(Or={}));const Kv="popstate";function hI(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:l}=r.location;return yp("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qu(i)}return mI(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gI(){return Math.random().toString(36).substr(2,8)}function Qv(e,t){return{usr:e.state,key:e.key,idx:t}}function yp(e,t,n,r){return n===void 0&&(n=null),vl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Jo(t):t,{state:n,key:t&&t.key||r||gI()})}function qu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Jo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function mI(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Or.Pop,s=null,u=d();u==null&&(u=0,a.replaceState(vl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function c(){l=Or.Pop;let w=d(),v=w==null?null:w-u;u=w,s&&s({action:l,location:y.location,delta:v})}function f(w,v){l=Or.Push;let g=yp(y.location,w,v);u=d()+1;let m=Qv(g,u),b=y.createHref(g);try{a.pushState(m,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(b)}o&&s&&s({action:l,location:y.location,delta:1})}function p(w,v){l=Or.Replace;let g=yp(y.location,w,v);u=d();let m=Qv(g,u),b=y.createHref(g);a.replaceState(m,"",b),o&&s&&s({action:l,location:y.location,delta:0})}function h(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:qu(w);return g=g.replace(/ $/,"%20"),nt(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return l},get location(){return e(i,a)},listen(w){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(Kv,c),s=w,()=>{i.removeEventListener(Kv,c),s=null}},createHref(w){return t(i,w)},createURL:h,encodeLocation(w){let v=h(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(w){return a.go(w)}};return y}var Yv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yv||(Yv={}));function vI(e,t,n){return n===void 0&&(n="/"),yI(e,t,n,!1)}function yI(e,t,n,r){let i=typeof t=="string"?Jo(t):t,o=yg(i.pathname||"/",n);if(o==null)return null;let a=Sx(e);wI(a);let l=null;for(let s=0;l==null&&s<a.length;++s){let u=NI(o);l=AI(a[s],u,r)}return l}function Sx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let s={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};s.relativePath.startsWith("/")&&(nt(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let u=Hr([r,s.relativePath]),d=n.concat(s);o.children&&o.children.length>0&&(nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Sx(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:II(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let s of kx(o.path))i(o,a,s)}),t}function kx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=kx(r.join("/")),l=[];return l.push(...a.map(s=>s===""?o:[o,s].join("/"))),i&&l.push(...a),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function wI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:PI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xI=/^:[\w-]+$/,bI=3,SI=2,kI=1,EI=10,CI=-2,Jv=e=>e==="*";function II(e,t){let n=e.split("/"),r=n.length;return n.some(Jv)&&(r+=CI),t&&(r+=SI),n.filter(i=>!Jv(i)).reduce((i,o)=>i+(xI.test(o)?bI:o===""?kI:EI),r)}function PI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function AI(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let l=0;l<r.length;++l){let s=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",c=Xv({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},d),f=s.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=Xv({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},d)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:Hr([o,c.pathname]),pathnameBase:OI(Hr([o,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(o=Hr([o,c.pathnameBase]))}return a}function Xv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=TI(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=l[c]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const h=l[c];return p&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function TI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),bx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function NI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function DI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Jo(e):e;return{pathname:n?n.startsWith("/")?n:RI(n,t):t,search:$I(r),hash:_I(i)}}function RI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _d(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ex(e,t){let n=jI(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cx(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Jo(e):(i=vl({},e),nt(!i.pathname||!i.pathname.includes("?"),_d("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),_d("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),_d("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let c=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}l=c>=0?t[c]:"/"}let s=DI(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||d)&&(s.pathname+="/"),s}const Hr=e=>e.join("/").replace(/\/\/+/g,"/"),OI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$I=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_I=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ix=["post","put","patch","delete"];new Set(Ix);const LI=["get",...Ix];new Set(LI);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yl.apply(this,arguments)}const wg=E.createContext(null),MI=E.createContext(null),Fi=E.createContext(null),Oc=E.createContext(null),wr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Px=E.createContext(null);function BI(e,t){let{relative:n}=t===void 0?{}:t;ql()||nt(!1);let{basename:r,navigator:i}=E.useContext(Fi),{hash:o,pathname:a,search:l}=Nx(e,{relative:n}),s=a;return r!=="/"&&(s=a==="/"?r:Hr([r,a])),i.createHref({pathname:s,search:l,hash:o})}function ql(){return E.useContext(Oc)!=null}function Li(){return ql()||nt(!1),E.useContext(Oc).location}function Ax(e){E.useContext(Fi).static||E.useLayoutEffect(e)}function Vl(){let{isDataRoute:e}=E.useContext(wr);return e?eP():zI()}function zI(){ql()||nt(!1);let e=E.useContext(wg),{basename:t,future:n,navigator:r}=E.useContext(Fi),{matches:i}=E.useContext(wr),{pathname:o}=Li(),a=JSON.stringify(Ex(i,n.v7_relativeSplatPath)),l=E.useRef(!1);return Ax(()=>{l.current=!0}),E.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let c=Cx(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Hr([t,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[t,r,a,o,e])}const Tx=E.createContext(null);function $c(){return E.useContext(Tx)}function UI(e){let t=E.useContext(wr).outlet;return t&&E.createElement(Tx.Provider,{value:e},t)}function xg(){let{matches:e}=E.useContext(wr),t=e[e.length-1];return t?t.params:{}}function Nx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(Fi),{matches:i}=E.useContext(wr),{pathname:o}=Li(),a=JSON.stringify(Ex(i,r.v7_relativeSplatPath));return E.useMemo(()=>Cx(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function HI(e,t){return qI(e,t)}function qI(e,t,n,r){ql()||nt(!1);let{navigator:i}=E.useContext(Fi),{matches:o}=E.useContext(wr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let u=Li(),d;if(t){var c;let w=typeof t=="string"?Jo(t):t;s==="/"||(c=w.pathname)!=null&&c.startsWith(s)||nt(!1),d=w}else d=u;let f=d.pathname||"/",p=f;if(s!=="/"){let w=s.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let h=vI(e,{pathname:p}),y=QI(h&&h.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Hr([s,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?s:Hr([s,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&y?E.createElement(Oc.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Or.Pop}},y):y}function VI(){let e=ZI(),t=FI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,null)}const WI=E.createElement(VI,null);class GI extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(wr.Provider,{value:this.props.routeContext},E.createElement(Px.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KI(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(wg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(wr.Provider,{value:t},r)}function QI(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);d>=0||nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let s=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let c=a[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:p}=n,h=c.route.loader&&f[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||h){s=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,c,f)=>{let p,h=!1,y=null,w=null;n&&(p=l&&c.route.id?l[c.route.id]:void 0,y=c.route.errorElement||WI,s&&(u<0&&f===0?(h=!0,w=null):u===f&&(h=!0,w=c.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,f+1)),g=()=>{let m;return p?m=y:h?m=w:c.route.Component?m=E.createElement(c.route.Component,null):c.route.element?m=c.route.element:m=d,E.createElement(KI,{match:c,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:m})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?E.createElement(GI,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var Dx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dx||{}),Vu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vu||{});function YI(e){let t=E.useContext(wg);return t||nt(!1),t}function JI(e){let t=E.useContext(MI);return t||nt(!1),t}function XI(e){let t=E.useContext(wr);return t||nt(!1),t}function Rx(e){let t=XI(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function ZI(){var e;let t=E.useContext(Px),n=JI(Vu.UseRouteError),r=Rx(Vu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function eP(){let{router:e}=YI(Dx.UseNavigateStable),t=Rx(Vu.UseNavigateStable),n=E.useRef(!1);return Ax(()=>{n.current=!0}),E.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,yl({fromRouteId:t},o)))},[e,t])}const Zv={};function tP(e,t){Zv[t]||(Zv[t]=!0,console.warn(t))}const ey=(e,t,n)=>tP(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function nP(e,t){e!=null&&e.v7_startTransition||ey("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&ey("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function rP(e){return UI(e.context)}function Mn(e){nt(!1)}function iP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Or.Pop,navigator:o,static:a=!1,future:l}=e;ql()&&nt(!1);let s=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:s,navigator:o,static:a,future:yl({v7_relativeSplatPath:!1},l)}),[s,l,o,a]);typeof r=="string"&&(r=Jo(r));let{pathname:d="/",search:c="",hash:f="",state:p=null,key:h="default"}=r,y=E.useMemo(()=>{let w=yg(d,s);return w==null?null:{location:{pathname:w,search:c,hash:f,state:p,key:h},navigationType:i}},[s,d,c,f,p,h,i]);return y==null?null:E.createElement(Fi.Provider,{value:u},E.createElement(Oc.Provider,{children:n,value:y}))}function oP(e){let{children:t,location:n}=e;return HI(wp(t),n)}new Promise(()=>{});function wp(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let o=[...t,i];if(r.type===E.Fragment){n.push.apply(n,wp(r.props.children,o));return}r.type!==Mn&&nt(!1),!r.props.index||!r.props.children||nt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=wp(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp.apply(this,arguments)}function aP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function lP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sP(e,t){return e.button===0&&(!t||t==="_self")&&!lP(e)}function bp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function uP(e,t){let n=bp(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const cP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dP="6";try{window.__reactRouterVersion=dP}catch{}const fP="startTransition",ty=nC[fP];function pP(e){let{basename:t,children:n,future:r,window:i}=e,o=E.useRef();o.current==null&&(o.current=hI({window:i,v5Compat:!0}));let a=o.current,[l,s]=E.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=E.useCallback(c=>{u&&ty?ty(()=>s(c)):s(c)},[s,u]);return E.useLayoutEffect(()=>a.listen(d),[a,d]),E.useEffect(()=>nP(r),[r]),E.createElement(iP,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const hP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jx=E.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:s,to:u,preventScrollReset:d,viewTransition:c}=t,f=aP(t,cP),{basename:p}=E.useContext(Fi),h,y=!1;if(typeof u=="string"&&gP.test(u)&&(h=u,hP))try{let m=new URL(window.location.href),b=u.startsWith("//")?new URL(m.protocol+u):new URL(u),k=yg(b.pathname,p);b.origin===m.origin&&k!=null?u=k+b.search+b.hash:y=!0}catch{}let w=BI(u,{relative:i}),v=mP(u,{replace:a,state:l,target:s,preventScrollReset:d,relative:i,viewTransition:c});function g(m){r&&r(m),m.defaultPrevented||v(m)}return E.createElement("a",xp({},f,{href:h||w,onClick:y||o?r:g,ref:n,target:s}))});var ny;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ny||(ny={}));var ry;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ry||(ry={}));function mP(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,s=Vl(),u=Li(),d=Nx(e,{relative:a});return E.useCallback(c=>{if(sP(c,n)){c.preventDefault();let f=r!==void 0?r:qu(u)===qu(d);s(e,{replace:f,state:i,preventScrollReset:o,relative:a,viewTransition:l})}},[u,s,d,r,i,n,e,o,a,l])}function vP(e){let t=E.useRef(bp(e)),n=E.useRef(!1),r=Li(),i=E.useMemo(()=>uP(r.search,n.current?null:t.current),[r.search]),o=Vl(),a=E.useCallback((l,s)=>{const u=bp(typeof l=="function"?l(i):l);n.current=!0,o("?"+u,s)},[o,i]);return[i,a]}const ze=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rt=Object.keys,kt=Array.isArray;function jt(e,t){return typeof t!="object"||rt(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||ze.Promise||(ze.Promise=Promise);const wl=Object.getPrototypeOf,yP={}.hasOwnProperty;function nn(e,t){return yP.call(e,t)}function Lo(e,t){typeof t=="function"&&(t=t(wl(e))),(typeof Reflect>"u"?rt:Reflect.ownKeys)(t).forEach(n=>{dr(e,n,t[n])})}const Ox=Object.defineProperty;function dr(e,t,n,r){Ox(e,t,jt(n&&nn(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function wo(e){return{from:function(t){return e.prototype=Object.create(t.prototype),dr(e.prototype,"constructor",e),{extend:Lo.bind(null,e.prototype)}}}}const wP=Object.getOwnPropertyDescriptor;function bg(e,t){let n;return wP(e,t)||(n=wl(e))&&bg(n,t)}const xP=[].slice;function Wu(e,t,n){return xP.call(e,t,n)}function $x(e,t){return t(e)}function Na(e){if(!e)throw new Error("Assertion Failed")}function _x(e){ze.setImmediate?setImmediate(e):setTimeout(e,0)}function Fx(e,t){return e.reduce((n,r,i)=>{var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function fr(e,t){if(typeof t=="string"&&nn(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=fr(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var l=e[t.substr(0,a)];return l==null?void 0:fr(l,t.substr(a+1))}}function jn(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Na(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)jn(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),l=t.substr(o+1);if(l==="")n===void 0?kt(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var s=e[a];s&&nn(e,a)||(s=e[a]={}),jn(s,l,n)}}else n===void 0?kt(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Lx(e){var t={};for(var n in e)nn(e,n)&&(t[n]=e[n]);return t}const bP=[].concat;function Mx(e){return bP.apply([],e)}const Bx="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Mx([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>ze[e]),SP=Bx.map(e=>ze[e]);Fx(Bx,e=>[e,!0]);let Pr=null;function Wl(e){Pr=typeof WeakMap<"u"&&new WeakMap;const t=Sp(e);return Pr=null,t}function Sp(e){if(!e||typeof e!="object")return e;let t=Pr&&Pr.get(e);if(t)return t;if(kt(e)){t=[],Pr&&Pr.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Sp(e[n]))}else if(SP.indexOf(e.constructor)>=0)t=e;else{const o=wl(e);for(var i in t=o===Object.prototype?{}:Object.create(o),Pr&&Pr.set(e,t),e)nn(e,i)&&(t[i]=Sp(e[i]))}return t}const{toString:kP}={};function kp(e){return kP.call(e).slice(8,-1)}const Ep=typeof Symbol<"u"?Symbol.iterator:"@@iterator",EP=typeof Ep=="symbol"?function(e){var t;return e!=null&&(t=e[Ep])&&t.apply(e)}:function(){return null},Ji={};function ar(e){var t,n,r,i;if(arguments.length===1){if(kt(e))return e.slice();if(this===Ji&&typeof e=="string")return[e];if(i=EP(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Sg=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Qn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function zx(e,t){Qn=e,Ux=t}var Ux=()=>!0;const CP=!new Error("").stack;function Mi(){if(CP)try{throw Mi.arguments,new Error}catch(e){return e}return new Error}function Cp(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(Ux).map(r=>`
`+r).join("")):""}var Hx=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],kg=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Hx),IP={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function xo(e,t){this._e=Mi(),this.name=e,this.message=t}function qx(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Gu(e,t,n,r){this._e=Mi(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=qx(e,t)}function qa(e,t){this._e=Mi(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=qx(e,t)}wo(xo).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Cp(this._e,2))}},toString:function(){return this.name+": "+this.message}}),wo(Gu).from(xo),wo(qa).from(xo);var Eg=kg.reduce((e,t)=>(e[t]=t+"Error",e),{});const PP=xo;var he=kg.reduce((e,t)=>{var n=t+"Error";function r(i,o){this._e=Mi(),this.name=n,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=IP[t]||n,this.inner=null)}return wo(r).from(PP),e[t]=r,e},{});he.Syntax=SyntaxError,he.Type=TypeError,he.Range=RangeError;var iy=Hx.reduce((e,t)=>(e[t+"Error"]=he[t],e),{}),lu=kg.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=he[t]),e),{});function $e(){}function xl(e){return e}function AP(e,t){return e==null||e===xl?t:function(n){return t(e(n))}}function Ni(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function TP(e,t){return e===$e?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ni(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Ni(i,this.onerror):i),o!==void 0?o:n}}function NP(e,t){return e===$e?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ni(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ni(r,this.onerror):r)}}function DP(e,t){return e===$e?t:function(n){var r=e.apply(this,arguments);jt(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ni(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Ni(o,this.onerror):o),r===void 0?a===void 0?void 0:a:jt(r,a)}}function RP(e,t){return e===$e?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Cg(e,t){return e===$e?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}lu.ModifyError=Gu,lu.DexieError=xo,lu.BulkError=qa;var bl={};const Vx=100,[Ip,Ku,Pp]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,wl(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,wl(t),e]})(),Wx=Ku&&Ku.then,su=Ip&&Ip.constructor,Ig=!!Pp;var Ap=!1,jP=Pp?()=>{Pp.then(Rs)}:ze.setImmediate?setImmediate.bind(null,Rs):ze.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Rs(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Rs,0)},Va=function(e,t){Da.push([e,t]),Qu&&(jP(),Qu=!1)},Tp=!0,Qu=!0,Si=[],uu=[],Np=null,Dp=xl,bo={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ly,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{ly(e[0],e[1])}catch{}})}},ue=bo,Da=[],ki=0,cu=[];function ae(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=$e,this._lib=!1;var t=this._PSD=ue;if(Qn&&(this._stackHolder=Mi(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==bl)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&jp(this,this._value))}this._state=null,this._value=null,++t.ref,Kx(this,e)}const Rp={get:function(){var e=ue,t=Yu;function n(r,i){var o=!e.global&&(e!==ue||t!==Yu);const a=o&&!vr();var l=new ae((s,u)=>{Pg(this,new Gx(Ju(r,e,o,a),Ju(i,e,o,a),s,u,e))});return Qn&&Jx(l,this),l}return n.prototype=bl,n},set:function(e){dr(this,"then",e&&e.prototype===bl?Rp:{get:function(){return e},set:Rp.set})}};function Gx(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function Kx(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Gl();n&&typeof n.then=="function"?Kx(e,(i,o)=>{n instanceof ae?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,Qx(e)),r&&Kl()}},jp.bind(null,e))}catch(n){jp(e,n)}}function jp(e,t){if(uu.push(t),e._state===null){var n=e._lib&&Gl();t=Dp(t),e._state=!1,e._value=t,Qn&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,o){try{r.apply(null,o)}catch{}}(()=>{var r=bg(t,"stack");t._promise=e,dr(t,"stack",{get:()=>Ap?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){Si.some(i=>i._value===r._value)||Si.push(r)}(e),Qx(e),n&&Kl()}}function Qx(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Pg(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),ki===0&&(++ki,Va(()=>{--ki==0&&Ag()},[]))}function Pg(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ki,Va(OP,[n,e,t])}else e._listeners.push(t)}function OP(e,t,n){try{Np=t;var r,i=t._value;t._state?r=e(i):(uu.length&&(uu=[]),r=e(i),uu.indexOf(i)===-1&&function(o){for(var a=Si.length;a;)if(Si[--a]._value===o._value)return void Si.splice(a,1)}(t)),n.resolve(r)}catch(o){n.reject(o)}finally{Np=null,--ki==0&&Ag(),--n.psd.ref||n.psd.finalize()}}function Yx(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,o,a=e._value;a!=null?(i=a.name||"Error",o=a.message||a,r=Cp(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+r)}return Qn&&((r=Cp(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&Yx(e._prev,t,n)),t}function Jx(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Rs(){Gl()&&Kl()}function Gl(){var e=Tp;return Tp=!1,Qu=!1,e}function Kl(){var e,t,n;do for(;Da.length>0;)for(e=Da,Da=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Da.length>0);Tp=!0,Qu=!0}function Ag(){var e=Si;Si=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=cu.slice(0),n=t.length;n;)t[--n]()}function js(e){return new ae(bl,!1,e)}function He(e,t){var n=ue;return function(){var r=Gl(),i=ue;try{return Jr(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{Jr(i,!1),r&&Kl()}}}Lo(ae.prototype,{then:Rp,_then:function(e,t){Pg(this,new Gx(null,null,e,t,ue))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):js(r)):this.then(null,r=>r&&r.name===t?n(r):js(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),js(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Ap=!0;var e=Yx(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Ap=!1}}},timeout:function(e,t){return e<1/0?new ae((n,r)=>{var i=setTimeout(()=>r(new he.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&dr(ae.prototype,Symbol.toStringTag,"Dexie.Promise"),bo.env=Xx(),Lo(ae,{all:function(){var e=ar.apply(null,arguments).map(Os);return new ae(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,o)=>ae.resolve(i).then(a=>{e[o]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof ae)return e;if(e&&typeof e.then=="function")return new ae((n,r)=>{e.then(n,r)});var t=new ae(bl,!0,e);return Jx(t,Np),t},reject:js,race:function(){var e=ar.apply(null,arguments).map(Os);return new ae((t,n)=>{e.map(r=>ae.resolve(r).then(t,n))})},PSD:{get:()=>ue,set:e=>ue=e},totalEchoes:{get:()=>Yu},newPSD:Yr,usePSD:Zo,scheduler:{get:()=>Va,set:e=>{Va=e}},rejectionMapper:{get:()=>Dp,set:e=>{Dp=e}},follow:(e,t)=>new ae((n,r)=>Yr((i,o)=>{var a=ue;a.unhandleds=[],a.onunhandled=o,a.finalize=Ni(function(){(function(l){function s(){l(),cu.splice(cu.indexOf(s),1)}cu.push(s),++ki,Va(()=>{--ki==0&&Ag()},[])})(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},a.finalize),e()},t,n,r))}),su&&(su.allSettled&&dr(ae,"allSettled",function(){const e=ar.apply(null,arguments).map(Os);return new ae(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,o)=>ae.resolve(i).then(a=>r[o]={status:"fulfilled",value:a},a=>r[o]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),su.any&&typeof AggregateError<"u"&&dr(ae,"any",function(){const e=ar.apply(null,arguments).map(Os);return new ae((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((o,a)=>ae.resolve(o).then(l=>t(l),l=>{i[a]=l,--r||n(new AggregateError(i))}))})}));const St={awaits:0,echoes:0,id:0};var $P=0,du=[],Fd=0,Yu=0,_P=0;function Yr(e,t,n,r){var i=ue,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++_P;var a=bo.env;o.env=Ig?{Promise:ae,PromiseProp:{value:ae,configurable:!0,writable:!0},all:ae.all,race:ae.race,allSettled:ae.allSettled,any:ae.any,resolve:ae.resolve,reject:ae.reject,nthen:oy(a.nthen,o),gthen:oy(a.gthen,o)}:{},t&&jt(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=Zo(o,e,n,r);return o.ref===0&&o.finalize(),l}function Xo(){return St.id||(St.id=++$P),++St.awaits,St.echoes+=Vx,St.id}function vr(){return!!St.awaits&&(--St.awaits==0&&(St.id=0),St.echoes=St.awaits*Vx,!0)}function Os(e){return St.echoes&&e&&e.constructor===su?(Xo(),e.then(t=>(vr(),t),t=>(vr(),at(t)))):e}function FP(e){++Yu,St.echoes&&--St.echoes!=0||(St.echoes=St.id=0),du.push(ue),Jr(e,!0)}function LP(){var e=du[du.length-1];du.pop(),Jr(e,!1)}function Jr(e,t){var n=ue;if((t?!St.echoes||Fd++&&e===ue:!Fd||--Fd&&e===ue)||Zx(t?FP.bind(null,e):LP),e!==ue&&(ue=e,n===bo&&(bo.env=Xx()),Ig)){var r=bo.env.Promise,i=e.env;Ku.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(ze,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Xx(){var e=ze.Promise;return Ig?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(ze,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ku.then,gthen:e.prototype.then}:{}}function Zo(e,t,n,r,i){var o=ue;try{return Jr(e,!0),t(n,r,i)}finally{Jr(o,!1)}}function Zx(e){Wx.call(Ip,e)}function Ju(e,t,n,r){return typeof e!="function"?e:function(){var i=ue;n&&Xo(),Jr(t,!0);try{return e.apply(this,arguments)}finally{Jr(i,!1),r&&Zx(vr)}}}function oy(e,t){return function(n,r){return e.call(this,Ju(n,t),Ju(r,t))}}(""+Wx).indexOf("[native code]")===-1&&(Xo=vr=$e);const ay="unhandledrejection";function ly(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(ze.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ay,!0,!0),jt(r,i)):ze.CustomEvent&&jt(r=new CustomEvent(ay,{detail:i}),i),r&&ze.dispatchEvent&&(dispatchEvent(r),!ze.PromiseRejectionEvent&&ze.onunhandledrejection))try{ze.onunhandledrejection(r)}catch{}Qn&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var at=ae.reject;function Op(e,t,n,r){if(e.idbdb&&(e._state.openComplete||ue.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Eg.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Op(e,t,n,r))):at(o)}return i._promise(t,(o,a)=>Yr(()=>(ue.trans=i,r(o,a,i)))).then(o=>i._completion.then(()=>o))}if(e._state.openComplete)return at(new he.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return at(new he.DatabaseClosed);e.open().catch($e)}return e._state.dbReadyPromise.then(()=>Op(e,t,n,r))}const sy="3.2.7",yi="￿",$p=-1/0,er="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",eb="String expected.",Wa=[],_c=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),MP=_c,BP=_c,tb=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Fc="__dbnames",Ld="readonly",Md="readwrite";function Di(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const nb={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function $s(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Wl(t))[e],t)}class zP{_trans(t,n,r){const i=this._tx||ue.trans,o=this.name;function a(s,u,d){if(!d.schema[o])throw new he.NotFound("Table "+o+" not part of transaction");return n(d.idbtrans,d)}const l=Gl();try{return i&&i.db===this.db?i===ue.trans?i._promise(t,a,r):Yr(()=>i._promise(t,a,r),{trans:i,transless:ue.transless||ue}):Op(this.db,t,[this.name],a)}finally{l&&Kl()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(kt(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=rt(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>{if(u.compound&&n.every(d=>u.keyPath.indexOf(d)>=0)){for(let d=0;d<n.length;++d)if(n.indexOf(u.keyPath[d])===-1)return!1;return!0}return!1}).sort((u,d)=>u.keyPath.length-d.keyPath.length)[0];if(r&&this.db._maxKey!==yi){const u=r.keyPath.slice(0,n.length);return this.where(u).equals(u.map(d=>t[d]))}!r&&Qn&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(u,d){try{return o.cmp(u,d)===0}catch{return!1}}const[l,s]=n.reduce(([u,d],c)=>{const f=i[c],p=t[c];return[u||f,u||!f?Di(d,f&&f.multi?h=>{const y=fr(h,c);return kt(y)&&y.some(w=>a(p,w))}:h=>a(p,fr(h,c))):d]},[null,null]);return l?this.where(l.name).equals(t[l.keyPath]).filter(s):r?this.filter(s):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,kt(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var o in r)if(nn(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){jt(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=$s(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[o]})).then(a=>a.numFailures?ae.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{jn(t,i,a)}catch{}return a})}update(t,n){if(typeof t!="object"||kt(t))return this.where(":id").equals(t).modify(n);{const r=fr(t,this.schema.primKey.keyPath);if(r===void 0)return at(new he.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?rt(n).forEach(i=>{jn(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=$s(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:n!=null?[n]:null})).then(a=>a.numFailures?ae.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{jn(t,i,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?ae.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:nb})).then(t=>t.numFailures?ae.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:s}=this.schema.primKey;if(s&&i)throw new he.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new he.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let d=s&&l?t.map($s(s)):t;return this.core.mutate({trans:a,type:"add",keys:i,values:d,wantResults:o}).then(({numFailures:c,results:f,lastResult:p,failures:h})=>{if(c===0)return o?f:p;throw new qa(`${this.name}.bulkAdd(): ${c} of ${u} operations failed`,h)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:s}=this.schema.primKey;if(s&&i)throw new he.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new he.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let d=s&&l?t.map($s(s)):t;return this.core.mutate({trans:a,type:"put",keys:i,values:d,wantResults:o}).then(({numFailures:c,results:f,lastResult:p,failures:h})=>{if(c===0)return o?f:p;throw new qa(`${this.name}.bulkPut(): ${c} of ${u} operations failed`,h)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:o})=>{if(r===0)return i;throw new qa(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}}function Ga(e){var t={},n=function(a,l){if(l){for(var s=arguments.length,u=new Array(s-1);--s;)u[s-1]=arguments[s];return t[a].subscribe.apply(null,u),e}if(typeof a=="string")return t[a]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(a,l,s){if(typeof a!="object"){var u;l||(l=RP),s||(s=$e);var d={subscribers:[],fire:s,subscribe:function(c){d.subscribers.indexOf(c)===-1&&(d.subscribers.push(c),d.fire=l(d.fire,c))},unsubscribe:function(c){d.subscribers=d.subscribers.filter(function(f){return f!==c}),d.fire=d.subscribers.reduce(l,s)}};return t[a]=n[a]=d,d}rt(u=a).forEach(function(c){var f=u[c];if(kt(f))o(c,u[c][0],u[c][1]);else{if(f!=="asap")throw new he.InvalidArgument("Invalid event config");var p=o(c,xl,function(){for(var h=arguments.length,y=new Array(h);h--;)y[h]=arguments[h];p.subscribers.forEach(function(w){_x(function(){w.apply(null,y)})})})}})}}function ya(e,t){return wo(t).from({prototype:e}),t}function Hi(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Bd(e,t){e.filter=Di(e.filter,t)}function zd(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Di(r(),t()):t,e.justLimit=n&&!r}function fu(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new he.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function uy(e,t,n){const r=fu(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function _s(e,t,n,r){const i=e.replayFilter?Di(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},a=(l,s,u)=>{if(!i||i(s,u,f=>s.stop(f),f=>s.fail(f))){var d=s.primaryKey,c=""+d;c==="[object ArrayBuffer]"&&(c=""+new Uint8Array(d)),nn(o,c)||(o[c]=!0,t(l,s,u))}};return Promise.all([e.or._iterate(a,n),cy(uy(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return cy(uy(e,r,n),Di(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function cy(e,t,n,r){var i=He(r?(o,a,l)=>n(r(o),a,l):n);return e.then(o=>{if(o)return o.start(()=>{var a=()=>o.continue();t&&!t(o,l=>a=l,l=>{o.stop(l),a=$e},l=>{o.fail(l),a=$e})||i(o.value,o,l=>a=l),a()})})}function Nt(e,t){try{const n=dy(e),r=dy(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,o){const a=i.length,l=o.length,s=a<l?a:l;for(let u=0;u<s;++u)if(i[u]!==o[u])return i[u]<o[u]?-1:1;return a===l?0:a<l?-1:1}(fy(e),fy(t));case"Array":return function(i,o){const a=i.length,l=o.length,s=a<l?a:l;for(let u=0;u<s;++u){const d=Nt(i[u],o[u]);if(d!==0)return d}return a===l?0:a<l?-1:1}(e,t)}}catch{}return NaN}function dy(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=kp(e);return n==="ArrayBuffer"?"binary":n}function fy(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class UP{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,at.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,at.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Di(n.algorithm,t)}_iterate(t,n){return _s(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&jt(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>_s(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Hi(r,!0))return i.count({trans:n,query:{index:fu(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var o=0;return _s(r,()=>(++o,!1),n,i).then(()=>o)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(u,d){return d?a(u[r[d]],d-1):u[i]}var l=this._ctx.dir==="next"?1:-1;function s(u,d){var c=a(u,o),f=a(d,o);return c<f?-l:c>f?l:0}return this.toArray(function(u){return u.sort(s)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Hi(r,!0)&&r.limit>0){const{valueMapper:i}=r,o=fu(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:a})=>i?a.map(i):a)}{const i=[];return _s(r,o=>i.push(o),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Hi(n)?zd(n,()=>{var r=t;return(i,o)=>r===0||(r===1?(--r,!1):(o(()=>{i.advance(r),r=0}),!1))}):zd(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),zd(this._ctx,()=>{var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this}until(t,n){return Bd(this._ctx,function(r,i,o){return!t(r.value)||(i(o),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Bd(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=Di(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Hi(n,!0)&&n.limit>0)return this._read(i=>{var o=fu(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Bd(this._ctx,function(i){var o=i.primaryKey.toString(),a=nn(r,o);return r[o]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var o=rt(t),a=o.length;i=function(y){for(var w=!1,v=0;v<a;++v){var g=o[v],m=t[g];fr(y,g)!==m&&(jn(y,g,m),w=!0)}return w}}const l=n.table.core,{outbound:s,extractKey:u}=l.schema.primaryKey,d=this.db._options.modifyChunkSize||200,c=[];let f=0;const p=[],h=(y,w)=>{const{failures:v,numFailures:g}=w;f+=y-g;for(let m of rt(v))c.push(v[m])};return this.clone().primaryKeys().then(y=>{const w=v=>{const g=Math.min(d,y.length-v);return l.getMany({trans:r,keys:y.slice(v,v+g),cache:"immutable"}).then(m=>{const b=[],k=[],S=s?[]:null,C=[];for(let D=0;D<g;++D){const P=m[D],j={value:Wl(P),primKey:y[v+D]};i.call(j,j.value,j)!==!1&&(j.value==null?C.push(y[v+D]):s||Nt(u(P),u(j.value))===0?(k.push(j.value),s&&S.push(y[v+D])):(C.push(y[v+D]),b.push(j.value)))}const N=Hi(n)&&n.limit===1/0&&(typeof t!="function"||t===Ud)&&{index:n.index,range:n.range};return Promise.resolve(b.length>0&&l.mutate({trans:r,type:"add",values:b}).then(D=>{for(let P in D.failures)C.splice(parseInt(P),1);h(b.length,D)})).then(()=>(k.length>0||N&&typeof t=="object")&&l.mutate({trans:r,type:"put",keys:S,values:k,criteria:N,changeSpec:typeof t!="function"&&t}).then(D=>h(k.length,D))).then(()=>(C.length>0||N&&t===Ud)&&l.mutate({trans:r,type:"delete",keys:C,criteria:N}).then(D=>h(C.length,D))).then(()=>y.length>v+g&&w(v+d))})};return w(0).then(()=>{if(c.length>0)throw new Gu("Error modifying one or more objects",c,f,p);return y.length})})})}delete(){var t=this._ctx,n=t.range;return Hi(t)&&(t.isPrimKey&&!BP||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:l,lastResult:s,results:u,numFailures:d})=>{if(d)throw new Gu("Could not delete some values",Object.keys(l).map(c=>l[c]),a-d);return a-d}))}):this.modify(Ud)}}const Ud=(e,t)=>t.value=null;function HP(e,t){return e<t?-1:e===t?0:1}function qP(e,t){return e>t?-1:e===t?0:1}function Wt(e,t,n){var r=e instanceof ib?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function qi(e){return new e.Collection(e,()=>rb("")).limit(0)}function VP(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),l=-1,s=0;s<a;++s){var u=t[s];if(u!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):l>=0?e.substr(0,l)+t[l]+n.substr(l+1):null;i(e[s],u)<0&&(l=s)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):l<0?null:e.substr(0,l)+r[l]+n.substr(l+1)}function Fs(e,t,n,r){var i,o,a,l,s,u,d,c=n.length;if(!n.every(y=>typeof y=="string"))return Wt(e,eb);function f(y){i=function(v){return v==="next"?g=>g.toUpperCase():g=>g.toLowerCase()}(y),o=function(v){return v==="next"?g=>g.toLowerCase():g=>g.toUpperCase()}(y),a=y==="next"?HP:qP;var w=n.map(function(v){return{lower:o(v),upper:i(v)}}).sort(function(v,g){return a(v.lower,g.lower)});l=w.map(function(v){return v.upper}),s=w.map(function(v){return v.lower}),u=y,d=y==="next"?"":r}f("next");var p=new e.Collection(e,()=>Er(l[0],s[c-1]+r));p._ondirectionchange=function(y){f(y)};var h=0;return p._addAlgorithm(function(y,w,v){var g=y.key;if(typeof g!="string")return!1;var m=o(g);if(t(m,s,h))return!0;for(var b=null,k=h;k<c;++k){var S=VP(g,m,l[k],s[k],a,u);S===null&&b===null?h=k+1:(b===null||a(b,S)>0)&&(b=S)}return w(b!==null?function(){y.continue(b+d)}:v),!1}),p}function Er(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function rb(e){return{type:1,lower:e,upper:e}}class ib{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?qi(this):new this.Collection(this,()=>Er(t,n,!r,!i))}catch{return Wt(this,er)}}equals(t){return t==null?Wt(this,er):new this.Collection(this,()=>rb(t))}above(t){return t==null?Wt(this,er):new this.Collection(this,()=>Er(t,void 0,!0))}aboveOrEqual(t){return t==null?Wt(this,er):new this.Collection(this,()=>Er(t,void 0,!1))}below(t){return t==null?Wt(this,er):new this.Collection(this,()=>Er(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Wt(this,er):new this.Collection(this,()=>Er(void 0,t))}startsWith(t){return typeof t!="string"?Wt(this,eb):this.between(t,t+yi,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Fs(this,(n,r)=>n.indexOf(r[0])===0,[t],yi)}equalsIgnoreCase(t){return Fs(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=ar.apply(Ji,arguments);return t.length===0?qi(this):Fs(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=ar.apply(Ji,arguments);return t.length===0?qi(this):Fs(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,yi)}anyOf(){const t=ar.apply(Ji,arguments);let n=this._cmp;try{t.sort(n)}catch{return Wt(this,er)}if(t.length===0)return qi(this);const r=new this.Collection(this,()=>Er(t[0],t[t.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((o,a,l)=>{const s=o.key;for(;n(s,t[i])>0;)if(++i,i===t.length)return a(l),!1;return n(s,t[i])===0||(a(()=>{o.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[$p,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=ar.apply(Ji,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Wt(this,er)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[$p,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,o=this._descending,a=this._min,l=this._max;if(t.length===0)return qi(this);if(!t.every(g=>g[0]!==void 0&&g[1]!==void 0&&i(g[0],g[1])<=0))return Wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",he.InvalidArgument);const s=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let d,c=i;function f(g,m){return c(g[0],m[0])}try{d=t.reduce(function(g,m){let b=0,k=g.length;for(;b<k;++b){const S=g[b];if(r(m[0],S[1])<0&&r(m[1],S[0])>0){S[0]=a(S[0],m[0]),S[1]=l(S[1],m[1]);break}}return b===k&&g.push(m),g},[]),d.sort(f)}catch{return Wt(this,er)}let p=0;const h=u?g=>i(g,d[p][1])>0:g=>i(g,d[p][1])>=0,y=s?g=>o(g,d[p][0])>0:g=>o(g,d[p][0])>=0;let w=h;const v=new this.Collection(this,()=>Er(d[0][0],d[d.length-1][1],!s,!u));return v._ondirectionchange=g=>{g==="next"?(w=h,c=i):(w=y,c=o),d.sort(f)},v._addAlgorithm((g,m,b)=>{for(var k=g.key;w(k);)if(++p,p===d.length)return m(b),!1;return!!function(S){return!h(S)&&!y(S)}(k)||(this._cmp(k,d[p][1])===0||this._cmp(k,d[p][0])===0||m(()=>{c===i?g.continue(d[p][0]):g.continue(d[p][1])}),!1)}),v}startsWithAnyOf(){const t=ar.apply(Ji,arguments);return t.every(n=>typeof n=="string")?t.length===0?qi(this):this.inAnyRange(t.map(n=>[n,n+yi])):Wt(this,"startsWithAnyOf() only works with strings")}}function Un(e){return He(function(t){return Sl(t),e(t.target.error),!1})}function Sl(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const kl="storagemutated",Nr="x-storagemutated-1",Xr=Ga(null,kl);class WP{_lock(){return Na(!ue.global),++this._reculock,this._reculock!==1||ue.global||(ue.lockOwnerFor=this),this}_unlock(){if(Na(!ue.global),--this._reculock==0)for(ue.global||(ue.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Zo(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&ue.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Na(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new he.DatabaseClosed(r);case"MissingAPIError":throw new he.MissingAPI(r.message,r);default:throw new he.OpenFailed(r)}if(!this.active)throw new he.TransactionInactive;return Na(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=He(i=>{Sl(i),this._reject(t.error)}),t.onabort=He(i=>{Sl(i),this.active&&this._reject(new he.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=He(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Xr.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return at(new he.ReadOnly("Transaction is readonly"));if(!this.active)return at(new he.TransactionInactive);if(this._locked())return new ae((o,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(o,a)},ue])});if(r)return Yr(()=>{var o=new ae((a,l)=>{this._lock();const s=n(a,l,this);s&&s.then&&s.then(a,l)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new ae((o,a)=>{var l=n(o,a,this);l&&l.then&&l.then(o,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=ae.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new ae((a,l)=>{r.then(s=>n._waitingQueue.push(He(a.bind(null,s))),s=>n._waitingQueue.push(He(l.bind(null,s)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new he.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(nn(n,t))return n[t];const r=this.schema[t];if(!r)throw new he.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function _p(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+ob(t)}}function ob(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function ab(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Fx(n,r=>[r.name,r])}}let El=e=>{try{return e.only([[]]),El=()=>[[]],[[]]}catch{return El=()=>yi,yi}};function Fp(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>fr(r,t)}(e):t=>fr(t,e)}function py(e){return[].slice.call(e)}let GP=0;function Ka(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function KP(e,t,n){function r(s){if(s.type===3)return null;if(s.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:d,lowerOpen:c,upperOpen:f}=s;return u===void 0?d===void 0?null:t.upperBound(d,!!f):d===void 0?t.lowerBound(u,!!c):t.bound(u,d,!!c,!!f)}const{schema:i,hasGetAll:o}=function(s,u){const d=py(s.objectStoreNames);return{schema:{name:s.name,tables:d.map(c=>u.objectStore(c)).map(c=>{const{keyPath:f,autoIncrement:p}=c,h=kt(f),y=f==null,w={},v={name:c.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:y,compound:h,keyPath:f,autoIncrement:p,unique:!0,extractKey:Fp(f)},indexes:py(c.indexNames).map(g=>c.index(g)).map(g=>{const{name:m,unique:b,multiEntry:k,keyPath:S}=g,C={name:m,compound:kt(S),keyPath:S,unique:b,multiEntry:k,extractKey:Fp(S)};return w[Ka(S)]=C,C}),getIndexByKeyPath:g=>w[Ka(g)]};return w[":id"]=v.primaryKey,f!=null&&(w[Ka(f)]=v.primaryKey),v})},hasGetAll:d.length>0&&"getAll"in u.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.tables.map(s=>function(u){const d=u.name;return{name:d,schema:u,mutate:function({trans:c,type:f,keys:p,values:h,range:y}){return new Promise((w,v)=>{w=He(w);const g=c.objectStore(d),m=g.keyPath==null,b=f==="put"||f==="add";if(!b&&f!=="delete"&&f!=="deleteRange")throw new Error("Invalid operation type: "+f);const{length:k}=p||h||{length:1};if(p&&h&&p.length!==h.length)throw new Error("Given keys array must have same length as given values array.");if(k===0)return w({numFailures:0,failures:{},results:[],lastResult:void 0});let S;const C=[],N=[];let D=0;const P=A=>{++D,Sl(A)};if(f==="deleteRange"){if(y.type===4)return w({numFailures:D,failures:N,results:[],lastResult:void 0});y.type===3?C.push(S=g.clear()):C.push(S=g.delete(r(y)))}else{const[A,I]=b?m?[h,p]:[h,null]:[p,null];if(b)for(let R=0;R<k;++R)C.push(S=I&&I[R]!==void 0?g[f](A[R],I[R]):g[f](A[R])),S.onerror=P;else for(let R=0;R<k;++R)C.push(S=g[f](A[R])),S.onerror=P}const j=A=>{const I=A.target.result;C.forEach((R,$)=>R.error!=null&&(N[$]=R.error)),w({numFailures:D,failures:N,results:f==="delete"?p:C.map(R=>R.result),lastResult:I})};S.onerror=A=>{P(A),j(A)},S.onsuccess=j})},getMany:({trans:c,keys:f})=>new Promise((p,h)=>{p=He(p);const y=c.objectStore(d),w=f.length,v=new Array(w);let g,m=0,b=0;const k=C=>{const N=C.target;v[N._pos]=N.result,++b===m&&p(v)},S=Un(h);for(let C=0;C<w;++C)f[C]!=null&&(g=y.get(f[C]),g._pos=C,g.onsuccess=k,g.onerror=S,++m);m===0&&p(v)}),get:({trans:c,key:f})=>new Promise((p,h)=>{p=He(p);const y=c.objectStore(d).get(f);y.onsuccess=w=>p(w.target.result),y.onerror=Un(h)}),query:function(c){return f=>new Promise((p,h)=>{p=He(p);const{trans:y,values:w,limit:v,query:g}=f,m=v===1/0?void 0:v,{index:b,range:k}=g,S=y.objectStore(d),C=b.isPrimaryKey?S:S.index(b.name),N=r(k);if(v===0)return p({result:[]});if(c){const D=w?C.getAll(N,m):C.getAllKeys(N,m);D.onsuccess=P=>p({result:P.target.result}),D.onerror=Un(h)}else{let D=0;const P=w||!("openKeyCursor"in C)?C.openCursor(N):C.openKeyCursor(N),j=[];P.onsuccess=A=>{const I=P.result;return I?(j.push(w?I.value:I.primaryKey),++D===v?p({result:j}):void I.continue()):p({result:j})},P.onerror=Un(h)}})}(o),openCursor:function({trans:c,values:f,query:p,reverse:h,unique:y}){return new Promise((w,v)=>{w=He(w);const{index:g,range:m}=p,b=c.objectStore(d),k=g.isPrimaryKey?b:b.index(g.name),S=h?y?"prevunique":"prev":y?"nextunique":"next",C=f||!("openKeyCursor"in k)?k.openCursor(r(m),S):k.openKeyCursor(r(m),S);C.onerror=Un(v),C.onsuccess=He(N=>{const D=C.result;if(!D)return void w(null);D.___id=++GP,D.done=!1;const P=D.continue.bind(D);let j=D.continuePrimaryKey;j&&(j=j.bind(D));const A=D.advance.bind(D),I=()=>{throw new Error("Cursor not stopped")};D.trans=c,D.stop=D.continue=D.continuePrimaryKey=D.advance=()=>{throw new Error("Cursor not started")},D.fail=He(v),D.next=function(){let R=1;return this.start(()=>R--?this.continue():this.stop()).then(()=>this)},D.start=R=>{const $=new Promise((z,_)=>{z=He(z),C.onerror=Un(_),D.fail=_,D.stop=U=>{D.stop=D.continue=D.continuePrimaryKey=D.advance=I,z(U)}}),q=()=>{if(C.result)try{R()}catch(z){D.fail(z)}else D.done=!0,D.start=()=>{throw new Error("Cursor behind last entry")},D.stop()};return C.onsuccess=He(z=>{C.onsuccess=q,q()}),D.continue=P,D.continuePrimaryKey=j,D.advance=A,q(),$},w(D)},v)})},count({query:c,trans:f}){const{index:p,range:h}=c;return new Promise((y,w)=>{const v=f.objectStore(d),g=p.isPrimaryKey?v:v.index(p.name),m=r(h),b=m?g.count(m):g.count();b.onsuccess=He(k=>y(k.target.result)),b.onerror=Un(w)})}}}(s)),l={};return a.forEach(s=>l[s.name]=s),{stack:"dbcore",transaction:e.transaction.bind(e),table(s){if(!l[s])throw new Error(`Table '${s}' not found`);return l[s]},MIN_KEY:-1/0,MAX_KEY:El(t),schema:i}}function Lp({_novip:e},t){const n=t.db,r=function(i,o,{IDBKeyRange:a,indexedDB:l},s){return{dbcore:function(d,c){return c.reduce((f,{create:p})=>({...f,...p(f)}),d)}(KP(o,a,s),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const o=i.name;e.core.schema.tables.some(a=>a.name===o)&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function Xu({_novip:e},t,n,r){n.forEach(i=>{const o=r[i];t.forEach(a=>{const l=bg(a,i);(!l||"value"in l&&l.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?dr(a,i,{get(){return this.table(i)},set(s){Ox(this,i,{value:s,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,o))})})}function Mp({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function QP(e,t){return e._cfg.version-t._cfg.version}function YP(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const a=o._reject.bind(o),l=ue.transless||ue;Yr(()=>{ue.trans=o,ue.transless=l,t===0?(rt(i).forEach(s=>{Hd(n,s,i[s].primKey,i[s].indexes)}),Lp(e,n),ae.follow(()=>e.on.populate.fire(o)).catch(a)):function({_novip:s},u,d,c){const f=[],p=s._versions;let h=s._dbSchema=zp(s,s.idbdb,c),y=!1;const w=p.filter(g=>g._cfg.version>=u);function v(){return f.length?ae.resolve(f.shift()(d.idbtrans)).then(v):ae.resolve()}return w.forEach(g=>{f.push(()=>{const m=h,b=g._cfg.dbschema;Up(s,m,c),Up(s,b,c),h=s._dbSchema=b;const k=lb(m,b);k.add.forEach(C=>{Hd(c,C[0],C[1].primKey,C[1].indexes)}),k.change.forEach(C=>{if(C.recreate)throw new he.Upgrade("Not yet support for changing primary key");{const N=c.objectStore(C.name);C.add.forEach(D=>Bp(N,D)),C.change.forEach(D=>{N.deleteIndex(D.name),Bp(N,D)}),C.del.forEach(D=>N.deleteIndex(D))}});const S=g._cfg.contentUpgrade;if(S&&g._cfg.version>u){Lp(s,c),d._memoizedTables={},y=!0;let C=Lx(b);k.del.forEach(j=>{C[j]=m[j]}),Mp(s,[s.Transaction.prototype]),Xu(s,[s.Transaction.prototype],rt(C),C),d.schema=C;const N=Sg(S);let D;N&&Xo();const P=ae.follow(()=>{if(D=S(d),D&&N){var j=vr.bind(null,null);D.then(j,j)}});return D&&typeof D.then=="function"?ae.resolve(D):P.then(()=>D)}}),f.push(m=>{(!y||!MP)&&function(b,k){[].slice.call(k.db.objectStoreNames).forEach(S=>b[S]==null&&k.db.deleteObjectStore(S))}(g._cfg.dbschema,m),Mp(s,[s.Transaction.prototype]),Xu(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),d.schema=s._dbSchema})}),v().then(()=>{var g,m;m=c,rt(g=h).forEach(b=>{m.db.objectStoreNames.contains(b)||Hd(m,b,g[b].primKey,g[b].indexes)})})}(e,t,o,n).catch(a)})}function lb(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!_c)a.recreate=!0,n.change.push(a);else{const l=i.idxByName,s=o.idxByName;let u;for(u in l)s[u]||a.del.push(u);for(u in s){const d=l[u],c=s[u];d?d.src!==c.src&&a.change.push(c):a.add.push(c)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}function Hd(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>Bp(i,o)),i}function Bp(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function zp(e,t,n){const r={};return Wu(t.objectStoreNames,0).forEach(i=>{const o=n.objectStore(i);let a=o.keyPath;const l=_p(ob(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),s=[];for(let d=0;d<o.indexNames.length;++d){const c=o.index(o.indexNames[d]);a=c.keyPath;var u=_p(c.name,a,!!c.unique,!!c.multiEntry,!1,a&&typeof a!="string",!1);s.push(u)}r[i]=ab(i,l,s)}),r}function Up({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(let l=0;l<a.indexNames.length;++l){const s=a.indexNames[l],u=a.index(s).keyPath,d=typeof u=="string"?u:"["+Wu(u).join("+")+"]";if(t[o]){const c=t[o].idxByName[d];c&&(c.name=s,delete t[o].idxByName[d],t[o].idxByName[s]=c)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ze.WorkerGlobalScope&&ze instanceof ze.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class JP{_parseStoresSpec(t,n){rt(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((a,l)=>{const s=(a=a.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(s)?s.match(/^\[(.*)\]$/)[1].split("+"):s;return _p(s,u||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),kt(u),l===0)}),o=i.shift();if(o.multi)throw new he.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new he.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new he.Schema("Index must have a name and cannot be an empty string")}),n[r]=ab(r,o,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?jt(this._cfg.storesSource,t):t;const r=n._versions,i={};let o={};return r.forEach(a=>{jt(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,Mp(n,[n._allTables,n,n.Transaction.prototype]),Xu(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],rt(o),o),n._storeNames=rt(o),this}upgrade(t){return this._cfg.contentUpgrade=Cg(this._cfg.contentUpgrade||$e,t),this}}function Tg(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Kn(Fc,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Ng(e){return e&&typeof e.databases=="function"}function Hp(e){return Yr(function(){return ue.letThrough=!0,e()})}function XP(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function ZP(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?at(t.dbOpenError):e);Qn&&(t.openCanceller._stackHolder=Mi()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new he.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,a=null,l=!1;const s=()=>new ae((u,d)=>{if(i(),!n)throw new he.MissingAPI;const c=e.name,f=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!f)throw new he.MissingAPI;f.onerror=Un(d),f.onblocked=He(e._fireOnBlocked),f.onupgradeneeded=He(p=>{if(a=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=Sl,a.abort(),f.result.close();const y=n.deleteDatabase(c);y.onsuccess=y.onerror=He(()=>{d(new he.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{a.onerror=Un(d);var h=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;l=h<1,e._novip.idbdb=f.result,YP(e,h/10,a,d)}},d),f.onsuccess=He(()=>{a=null;const p=e._novip.idbdb=f.result,h=Wu(p.objectStoreNames);if(h.length>0)try{const w=p.transaction((y=h).length===1?y[0]:y,"readonly");t.autoSchema?function({_novip:v},g,m){v.verno=g.version/10;const b=v._dbSchema=zp(0,g,m);v._storeNames=Wu(g.objectStoreNames,0),Xu(v,[v._allTables],rt(b),b)}(e,p,w):(Up(e,e._dbSchema,w),function(v,g){const m=lb(zp(0,v.idbdb,g),v._dbSchema);return!(m.add.length||m.change.some(b=>b.add.length||b.change.length))}(e,w)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Lp(e,w)}catch{}var y;Wa.push(e),p.onversionchange=He(w=>{t.vcFired=!0,e.on("versionchange").fire(w)}),p.onclose=He(w=>{e.on("close").fire(w)}),l&&function({indexedDB:w,IDBKeyRange:v},g){!Ng(w)&&g!==Fc&&Tg(w,v).put({name:g}).catch($e)}(e._deps,c),u()},d)}).catch(u=>u&&u.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),s()):ae.reject(u));return ae.race([r,(typeof navigator>"u"?ae.resolve():XP()).then(s)]).then(()=>(i(),t.onReadyBeingFired=[],ae.resolve(Hp(()=>e.on.ready.fire(e.vip))).then(function u(){if(t.onReadyBeingFired.length>0){let d=t.onReadyBeingFired.reduce(Cg,$e);return t.onReadyBeingFired=[],ae.resolve(Hp(()=>d(e.vip))).then(u)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(u=>{t.dbOpenError=u;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),at(u)}).finally(()=>{t.openComplete=!0,o()})}function qp(e){var t=o=>e.next(o),n=i(t),r=i(o=>e.throw(o));function i(o){return a=>{var l=o(a),s=l.value;return l.done?s:s&&typeof s.then=="function"?s.then(n,r):kt(s)?Promise.all(s).then(n,r):n(s)}}return i(t)()}function eA(e,t,n){var r=arguments.length;if(r<2)throw new he.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,Mx(i),n]}function sb(e,t,n,r,i){return ae.resolve().then(()=>{const o=ue.transless||ue,a=e._createTransaction(t,n,e._dbSchema,r),l={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(c){return c.name===Eg.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>sb(e,t,n,null,i))):at(c)}const s=Sg(i);let u;s&&Xo();const d=ae.follow(()=>{if(u=i.call(a,a),u)if(s){var c=vr.bind(null,null);u.then(c,c)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=qp(u))},l);return(u&&typeof u.then=="function"?ae.resolve(u).then(c=>a.active?c:at(new he.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):d.then(()=>u)).then(c=>(r&&a._resolve(),a._completion.then(()=>c))).catch(c=>(a._reject(c),at(c)))})}function Ls(e,t,n){const r=kt(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const tA={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},o=[];function a(d,c,f){const p=Ka(d),h=i[p]=i[p]||[],y=d==null?0:typeof d=="string"?1:d.length,w=c>0,v={...f,isVirtual:w,keyTail:c,keyLength:y,extractKey:Fp(d),unique:!w&&f.unique};return h.push(v),v.isPrimaryKey||o.push(v),y>1&&a(y===2?d[0]:d.slice(0,y-1),c+1,f),h.sort((g,m)=>g.keyTail-m.keyTail),v}const l=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[l];for(const d of r.indexes)a(d.keyPath,0,d);function s(d){const c=d.query.index;return c.isVirtual?{...d,query:{index:c,range:(f=d.query.range,p=c.keyTail,{type:f.type===1?2:f.type,lower:Ls(f.lower,f.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:Ls(f.upper,f.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:d;var f,p}return{...n,schema:{...r,primaryKey:l,indexes:o,getIndexByKeyPath:function(d){const c=i[Ka(d)];return c&&c[0]}},count:d=>n.count(s(d)),query:d=>n.query(s(d)),openCursor(d){const{keyTail:c,isVirtual:f,keyLength:p}=d.query.index;return f?n.openCursor(s(d)).then(h=>h&&function(y){return Object.create(y,{continue:{value:function(v){v!=null?y.continue(Ls(v,d.reverse?e.MAX_KEY:e.MIN_KEY,c)):d.unique?y.continue(y.key.slice(0,p).concat(d.reverse?e.MIN_KEY:e.MAX_KEY,c)):y.continue()}},continuePrimaryKey:{value(v,g){y.continuePrimaryKey(Ls(v,e.MAX_KEY,c),g)}},primaryKey:{get:()=>y.primaryKey},key:{get(){const v=y.key;return p===1?v[0]:v.slice(0,p)}},value:{get:()=>y.value}})}(h)):n.openCursor(d)}}}}}};function Dg(e,t,n,r){return n=n||{},r=r||"",rt(e).forEach(i=>{if(nn(t,i)){var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){const l=kp(o);l!==kp(a)?n[r+i]=t[i]:l==="Object"?Dg(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}else n[r+i]=void 0}),rt(t).forEach(i=>{nn(e,i)||(n[r+i]=t[i])}),n}const nA={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(o){const a=ue.trans,{deleting:l,creating:s,updating:u}=a.table(t).hook;switch(o.type){case"add":if(s.fire===$e)break;return a._promise("readwrite",()=>d(o),!0);case"put":if(s.fire===$e&&u.fire===$e)break;return a._promise("readwrite",()=>d(o),!0);case"delete":if(l.fire===$e)break;return a._promise("readwrite",()=>d(o),!0);case"deleteRange":if(l.fire===$e)break;return a._promise("readwrite",()=>function(f){return c(f.trans,f.range,1e4)}(o),!0)}return n.mutate(o);function d(f){const p=ue.trans,h=f.keys||function(y,w){return w.type==="delete"?w.keys:w.keys||w.values.map(y.extractKey)}(r,f);if(!h)throw new Error("Keys missing");return(f=f.type==="add"||f.type==="put"?{...f,keys:h}:{...f}).type!=="delete"&&(f.values=[...f.values]),f.keys&&(f.keys=[...f.keys]),function(y,w,v){return w.type==="add"?Promise.resolve([]):y.getMany({trans:w.trans,keys:v,cache:"immutable"})}(n,f,h).then(y=>{const w=h.map((v,g)=>{const m=y[g],b={onerror:null,onsuccess:null};if(f.type==="delete")l.fire.call(b,v,m,p);else if(f.type==="add"||m===void 0){const k=s.fire.call(b,v,f.values[g],p);v==null&&k!=null&&(v=k,f.keys[g]=v,r.outbound||jn(f.values[g],r.keyPath,v))}else{const k=Dg(m,f.values[g]),S=u.fire.call(b,k,v,m,p);if(S){const C=f.values[g];Object.keys(S).forEach(N=>{nn(C,N)?C[N]=S[N]:jn(C,N,S[N])})}}return b});return n.mutate(f).then(({failures:v,results:g,numFailures:m,lastResult:b})=>{for(let k=0;k<h.length;++k){const S=g?g[k]:h[k],C=w[k];S==null?C.onerror&&C.onerror(v[k]):C.onsuccess&&C.onsuccess(f.type==="put"&&y[k]?f.values[k]:S)}return{failures:v,results:g,numFailures:m,lastResult:b}}).catch(v=>(w.forEach(g=>g.onerror&&g.onerror(v)),Promise.reject(v)))})}function c(f,p,h){return n.query({trans:f,values:!1,query:{index:r,range:p},limit:h}).then(({result:y})=>d({type:"delete",keys:y,trans:f}).then(w=>w.numFailures>0?Promise.reject(w.failures[0]):y.length<h?{failures:[],numFailures:0,lastResult:void 0}:c(f,{...p,lower:y[y.length-1],lowerOpen:!0},h)))}}}}})};function ub(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)Nt(t.keys[i],e[o])===0&&(r.push(n?Wl(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}const rA={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=ub(r.keys,r.trans._cache,r.cache==="clone");return i?ae.resolve(i):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Wl(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Rg(e){return!("from"in e)}const rr=function(e,t){if(!this){const n=new rr;return e&&"d"in e&&jt(n,e),n}jt(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Cl(e,t,n){const r=Nt(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Rg(e))return jt(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(Nt(n,e.from)<0)return i?Cl(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},hy(e);if(Nt(t,e.to)>0)return o?Cl(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},hy(e);Nt(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Nt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&Zu(e,i),o&&a&&Zu(e,o)}function Zu(e,t){Rg(t)||function n(r,{from:i,to:o,l:a,r:l}){Cl(r,i,o),a&&n(r,a),l&&n(r,l)}(e,t)}function iA(e,t){const n=Vp(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=Vp(e);let a=o.next(i.from),l=a.value;for(;!r.done&&!a.done;){if(Nt(l.from,i.to)<=0&&Nt(l.to,i.from)>=0)return!0;Nt(i.from,l.from)<0?i=(r=n.next(l.from)).value:l=(a=o.next(i.from)).value}return!1}function Vp(e){let t=Rg(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Nt(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Nt(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function hy(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const o=i==="r"?"l":"r",a={...e},l=e[i];e.from=l.from,e.to=l.to,e[i]=l[i],a[i]=l[o],e[o]=a,a.d=gy(a)}e.d=gy(e)}function gy({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Lo(rr.prototype,{add(e){return Zu(this,e),this},addKey(e){return Cl(this,e,e),this},addKeys(e){return e.forEach(t=>Cl(this,t,t)),this},[Ep](){return Vp(this)}});const oA={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new rr(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:o}=i,{primaryKey:a}=o,{extractKey:l,outbound:s}=a,u={...i,mutate:f=>{const p=f.trans,h=p.mutatedParts||(p.mutatedParts={}),y=S=>{const C=`idb://${t}/${r}/${S}`;return h[C]||(h[C]=new rr)},w=y(""),v=y(":dels"),{type:g}=f;let[m,b]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[];const k=f.trans._cache;return i.mutate(f).then(S=>{if(kt(m)){g!=="delete"&&(m=S.results),w.addKeys(m);const C=ub(m,k);C||g==="add"||v.addKeys(m),(C||b)&&function(N,D,P,j){function A(I){const R=N(I.name||"");function $(z){return z!=null?I.extractKey(z):null}const q=z=>I.multiEntry&&kt(z)?z.forEach(_=>R.addKey(_)):R.addKey(z);(P||j).forEach((z,_)=>{const U=P&&$(P[_]),T=j&&$(j[_]);Nt(U,T)!==0&&(U!=null&&q(U),T!=null&&q(T))})}D.indexes.forEach(A)}(y,o,C,b)}else if(m){const C={from:m.lower,to:m.upper};v.add(C),w.add(C)}else w.add(n),v.add(n),o.indexes.forEach(C=>y(C.name).add(n));return S})}},d=({query:{index:f,range:p}})=>{var h,y;return[f,new rr((h=p.lower)!==null&&h!==void 0?h:e.MIN_KEY,(y=p.upper)!==null&&y!==void 0?y:e.MAX_KEY)]},c={get:f=>[a,new rr(f.key)],getMany:f=>[a,new rr().addKeys(f.keys)],count:d,query:d,openCursor:d};return rt(c).forEach(f=>{u[f]=function(p){const{subscr:h}=ue;if(h){const y=b=>{const k=`idb://${t}/${r}/${b}`;return h[k]||(h[k]=new rr)},w=y(""),v=y(":dels"),[g,m]=c[f](p);if(y(g.name||"").add(m),!g.isPrimaryKey){if(f!=="count"){const b=f==="query"&&s&&p.values&&i.query({...p,values:!1});return i[f].apply(this,arguments).then(k=>{if(f==="query"){if(s&&p.values)return b.then(({result:C})=>(w.addKeys(C),k));const S=p.values?k.result.map(l):k.result;p.values?w.addKeys(S):v.addKeys(S)}else if(f==="openCursor"){const S=k,C=p.values;return S&&Object.create(S,{key:{get:()=>(v.addKey(S.primaryKey),S.key)},primaryKey:{get(){const N=S.primaryKey;return v.addKey(N),N}},value:{get:()=>(C&&w.addKey(S.primaryKey),S.value)}})}return k})}v.add(n)}}return i[f].apply(this,arguments)}}),u}}}};class Kn{constructor(t,n){this._middlewares={},this.verno=0;const r=Kn.dependencies;this._options=n={addons:Kn.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$e,dbReadyPromise:null,cancelOpen:$e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new ae(l=>{o.dbReadyResolve=l}),o.openCanceller=new ae((l,s)=>{o.cancelOpen=s}),this._state=o,this.name=t,this.on=Ga(this,"populate","blocked","versionchange","close",{ready:[Cg,$e]}),this.on.ready.subscribe=$x(this.on.ready.subscribe,l=>(s,u)=>{Kn.vip(()=>{const d=this._state;if(d.openComplete)d.dbOpenError||ae.resolve().then(s),u&&l(s);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(s),u&&l(s);else{l(s);const c=this;u||l(function f(){c.on.ready.unsubscribe(s),c.on.ready.unsubscribe(f)})}})}),this.Collection=(a=this,ya(UP.prototype,function(l,s){this.db=a;let u=nb,d=null;if(s)try{u=s()}catch(h){d=h}const c=l._ctx,f=c.table,p=f.hook.reading.fire;this._ctx={table:f,index:c.index,isPrimKey:!c.index||f.schema.primKey.keyPath&&c.index===f.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:d,or:c.or,valueMapper:p!==xl?p:null}})),this.Table=function(l){return ya(zP.prototype,function(s,u,d){this.db=l,this._tx=d,this.name=s,this.schema=u,this.hook=l._allTables[s]?l._allTables[s].hook:Ga(null,{creating:[TP,$e],reading:[AP,xl],updating:[DP,$e],deleting:[NP,$e]})})}(this),this.Transaction=function(l){return ya(WP.prototype,function(s,u,d,c,f){this.db=l,this.mode=s,this.storeNames=u,this.schema=d,this.chromeTransactionDurability=c,this.idbtrans=null,this.on=Ga(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ae((p,h)=>{this._resolve=p,this._reject=h}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var h=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):h&&this.idbtrans&&this.idbtrans.abort(),at(p)})})}(this),this.Version=function(l){return ya(JP.prototype,function(s){this.db=l,this._cfg={version:s,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return ya(ib.prototype,function(s,u,d){this.db=l,this._ctx={table:s,index:u===":id"?null:u,or:d};const c=l._deps.indexedDB;if(!c)throw new he.MissingAPI;this._cmp=this._ascending=c.cmp.bind(c),this._descending=(f,p)=>c.cmp(p,f),this._max=(f,p)=>c.cmp(f,p)>0?f:p,this._min=(f,p)=>c.cmp(f,p)<0?f:p,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${l.oldVersion/10}`)}),this._maxKey=El(n.IDBKeyRange),this._createTransaction=(l,s,u,d)=>new this.Transaction(l,s,u,this._options.chromeTransactionDurability,d),this._fireOnBlocked=l=>{this.on("blocked").fire(l),Wa.filter(s=>s.name===this.name&&s!==this&&!s._state.vcFired).map(s=>s.on("versionchange").fire(l))},this.use(tA),this.use(nA),this.use(oA),this.use(rA),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(l=>l(this))}version(t){if(isNaN(t)||t<.1)throw new he.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new he.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(QP),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||ue.letThrough||this._vip)?t():new ae((n,r)=>{if(this._state.openComplete)return r(new he.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new he.DatabaseClosed);this.open().catch($e)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:r??10,name:i}),o.sort((a,l)=>a.level-l.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return ZP(this)}_close(){const t=this._state,n=Wa.indexOf(this);if(n>=0&&Wa.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new ae(r=>{t.dbReadyResolve=r}),t.openCanceller=new ae((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new he.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new ae((r,i)=>{const o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=He(()=>{(function({indexedDB:l,IDBKeyRange:s},u){!Ng(l)&&u!==Fc&&Tg(l,s).delete(u).catch($e)})(this._deps,this.name),r()}),a.onerror=Un(i),a.onblocked=this._fireOnBlocked};if(t)throw new he.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return rt(this._allTables).map(t=>this._allTables[t])}transaction(){const t=eA.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=ue.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const o=t.indexOf("?")!==-1;let a,l;t=t.replace("!","").replace("?","");try{if(l=n.map(u=>{var d=u instanceof this.Table?u.name:u;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===Ld)a=Ld;else{if(t!="rw"&&t!=Md)throw new he.InvalidArgument("Invalid transaction mode: "+t);a=Md}if(i){if(i.mode===Ld&&a===Md){if(!o)throw new he.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&l.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!o)throw new he.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(d,c)=>{c(u)}):at(u)}const s=sb.bind(null,this,a,l,i,r);return i?i._promise(a,s,"lock"):ue.trans?Zo(ue.transless,()=>this._whenReady(s)):this._whenReady(s)}table(t){if(!nn(this._allTables,t))throw new he.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const aA=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class lA{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[aA](){return this}}function cb(e,t){return rt(t).forEach(n=>{Zu(e[n]||(e[n]=new rr),t[n])}),e}function sA(e){let t,n=!1;const r=new lA(i=>{const o=Sg(e);let a=!1,l={},s={};const u={get closed(){return a},unsubscribe:()=>{a=!0,Xr.storagemutated.unsubscribe(p)}};i.start&&i.start(u);let d=!1,c=!1;function f(){return rt(s).some(y=>l[y]&&iA(l[y],s[y]))}const p=y=>{cb(l,y),f()&&h()},h=()=>{if(d||a)return;l={};const y={},w=function(v){o&&Xo();const g=()=>Yr(e,{subscr:v,trans:null}),m=ue.trans?Zo(ue.transless,g):g();return o&&m.then(vr,vr),m}(y);c||(Xr(kl,p),c=!0),d=!0,Promise.resolve(w).then(v=>{n=!0,t=v,d=!1,a||(f()?h():(l={},s=y,i.next&&i.next(v)))},v=>{d=!1,n=!1,i.error&&i.error(v),u.unsubscribe()})};return h(),u});return r.hasValue=()=>n,r.getValue=()=>t,r}let Wp;try{Wp={indexedDB:ze.indexedDB||ze.mozIndexedDB||ze.webkitIndexedDB||ze.msIndexedDB,IDBKeyRange:ze.IDBKeyRange||ze.webkitIDBKeyRange}}catch{Wp={indexedDB:null,IDBKeyRange:null}}const ai=Kn;function pu(e){let t=ur;try{ur=!0,Xr.storagemutated.fire(e)}finally{ur=t}}Lo(ai,{...lu,delete:e=>new ai(e,{addons:[]}).delete(),exists:e=>new ai(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Ng(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==Fc)):Tg(t,n).toCollection().primaryKeys()}(ai.dependencies).then(e)}catch{return at(new he.MissingAPI)}},defineClass:()=>function(e){jt(this,e)},ignoreTransaction:e=>ue.trans?Zo(ue.transless,e):e(),vip:Hp,async:function(e){return function(){try{var t=qp(e.apply(this,arguments));return t&&typeof t.then=="function"?t:ae.resolve(t)}catch(n){return at(n)}}},spawn:function(e,t,n){try{var r=qp(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:ae.resolve(r)}catch(i){return at(i)}},currentTransaction:{get:()=>ue.trans||null},waitFor:function(e,t){const n=ae.resolve(typeof e=="function"?ai.ignoreTransaction(e):e).timeout(t||6e4);return ue.trans?ue.trans.waitFor(n):n},Promise:ae,debug:{get:()=>Qn,set:e=>{zx(e,e==="dexie"?()=>!0:tb)}},derive:wo,extend:jt,props:Lo,override:$x,Events:Ga,on:Xr,liveQuery:sA,extendObservabilitySet:cb,getByKeyPath:fr,setByKeyPath:jn,delByKeyPath:function(e,t){typeof t=="string"?jn(e,t,void 0):"length"in t&&[].map.call(t,function(n){jn(e,n,void 0)})},shallowClone:Lx,deepClone:Wl,getObjectDiff:Dg,cmp:Nt,asap:_x,minKey:$p,addons:[],connections:Wa,errnames:Eg,dependencies:Wp,semVer:sy,version:sy.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),ai.maxKey=El(ai.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Xr(kl,e=>{if(!ur){let t;_c?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Nr,!0,!0,e)):t=new CustomEvent(Nr,{detail:e}),ur=!0,dispatchEvent(t),ur=!1}}),addEventListener(Nr,({detail:e})=>{ur||pu(e)}));let ur=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(Nr);typeof e.unref=="function"&&e.unref(),Xr(kl,t=>{ur||e.postMessage(t)}),e.onmessage=t=>{t.data&&pu(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Xr(kl,t=>{try{ur||(typeof localStorage<"u"&&localStorage.setItem(Nr,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Nr,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===Nr){const n=JSON.parse(t.newValue);n&&pu(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===Nr&&pu(t.changedParts)})}ae.rejectionMapper=function(e,t){if(!e||e instanceof xo||e instanceof TypeError||e instanceof SyntaxError||!e.name||!iy[e.name])return e;var n=new iy[e.name](t||e.message,e);return"stack"in e&&dr(n,"stack",{get:function(){return this.inner.stack}}),n},zx(Qn,tb);class uA extends Kn{constructor(){super("ReaderDatabase");We(this,"feeds");We(this,"entries");We(this,"folders");We(this,"savedSearches");this.version(62020).stores({feeds:"++id, url, folderId",entries:"++id, feedId, publishDate, isRead, readDate, isStarred, starredDate, isListened, listenedDate, lastChatDate, content_aiSummary, chatHistory, requestProcessingStatus, [feedId+link]",folders:"++id, parentId",savedSearches:"++id, query, createdAt, lastUpdated, mostRecentResult"}).upgrade(async a=>{await a.table("entries").toCollection().modify(l=>{if(l.content_rssAbstract||(l.content_rssAbstract=l.content||""),!l.content_fullArticle&&l.content&&l.content!==l.content_rssAbstract&&(l.content_fullArticle=l.content),!l.content_aiSummary&&l.aiSummary&&(l.content_aiSummary=l.aiSummary),delete l.content,delete l.aiSummary,l.requestProcessingStatus||(l.requestProcessingStatus="pending"),l.isStarred&&!l.starredDate&&(l.starredDate=new Date),l.isListened&&!l.listenedDate&&(l.listenedDate=new Date),l.isRead&&!l.readDate&&(l.readDate=new Date),l.chatHistory&&l.chatHistory.length>0&&!l.lastChatDate){const s=l.chatHistory.reduce((u,d)=>d.timestamp>u?d.timestamp:u,new Date(0));l.lastChatDate=s}l.requestProcessingStatus==="failed"&&!l.requestError&&(l.requestError={message:"Unknown error from previous version",code:"UNKNOWN"}),l.requestProcessingStatus==="processing"&&(l.requestProcessingStatus="pending",l.lastRequestAttempt=null)}),await a.table("savedSearches").toCollection().modify(l=>{l.createdAt||(l.createdAt=new Date),l.lastUpdated||(l.lastUpdated=l.createdAt),l.mostRecentResult===void 0&&(l.mostRecentResult=null),l.createdAt=new Date(l.createdAt),l.lastUpdated=new Date(l.lastUpdated),l.mostRecentResult&&(l.mostRecentResult=new Date(l.mostRecentResult))})})}}let Sr=null;const Gp=new Set;function cA(e){return Gp.add(e),()=>Gp.delete(e)}function fi(e){Gp.forEach(t=>t(e))}function dA(){return Sr||(Sr=new uA,Sr.on("blocked",()=>{console.warn("Database blocked - another instance needs to upgrade")}),Sr.on("versionchange",e=>{console.log("Database version changed:",e),Sr&&(Sr.close(),Sr=null,window.location.reload())})),Sr}const X=dA();async function fA(e,t,n){try{return await X.feeds.add({url:e,title:t,folderId:n,lastUpdated:new Date})}catch(r){throw console.error("Error adding feed:",r),r instanceof Kn.DatabaseClosedError&&window.location.reload(),r}}async function db(e){try{const t=await X.entries.where("[feedId+link]").equals([e.feedId,e.link]).first();if(!t){const n=await X.entries.add({...e,isListened:!1,requestProcessingStatus:e.requestProcessingStatus||"pending",lastRequestAttempt:e.lastRequestAttempt||void 0});return Og().catch(r=>{console.error("Error updating search results after adding entry:",r)}),n}return t.id}catch(t){throw console.error("Error adding entry:",t),t instanceof Kn.DatabaseClosedError&&window.location.reload(),t}}const fb=async e=>{try{return await e()}catch(t){throw console.error("Database operation error:",t),t instanceof Kn.DatabaseClosedError&&window.location.reload(),t}},Kp=async(e,t)=>{await X.entries.update(e,{isRead:t??!0,readDate:t??!0?new Date:void 0})};async function pA(e){const t=await X.entries.update(e,{isListened:!0,listenedDate:new Date});return fi(e),t}async function hA(e){const t=await X.entries.get(e);if(t){const n=!t.isStarred,r=await X.entries.update(e,{isStarred:n,starredDate:n?new Date:void 0});return fi(e),r}}async function my(e){return e==null?await X.feeds.filter(t=>t.folderId===void 0||t.folderId===null).toArray():await X.feeds.where("folderId").equals(e).toArray()}async function gA(e){let t=X.entries.filter(n=>!n.isRead);return e&&(t=t.filter(n=>n.feedId===e)),await t.reverse().sortBy("publishDate")}const So=new Map;async function mA(e){const n=[...new Set(e)].filter(r=>!So.has(r));n.length>0&&(await X.feeds.where("id").anyOf(n).toArray()).forEach(i=>{So.set(i.id,i.isDeleted?`${i.title} (Deleted)`:i.title)})}async function pb(e){if(So.has(e))return So.get(e);const t=await X.feeds.get(e),n=t?t.isDeleted?`${t.title} (Deleted)`:t.title:"Unknown Feed";return So.set(e,n),n}async function ea(e){const t=[...new Set(e.map(n=>n.feedId).filter(n=>n!=null))];return await mA(t),e.map(n=>({...n,feedTitle:n.feedId&&So.get(n.feedId)||"Unknown Feed",publishDate:new Date(n.publishDate),readDate:n.readDate?new Date(n.readDate):void 0,starredDate:n.starredDate?new Date(n.starredDate):void 0,listenedDate:n.listenedDate?new Date(n.listenedDate):void 0,lastChatDate:n.lastChatDate?new Date(n.lastChatDate):void 0}))}async function Ln(e,t=1,n=20){const r=(t-1)*n,[i,o]=await Promise.all([X.entries.where("feedId").equals(e).reverse().offset(r).limit(n).sortBy("publishDate"),X.entries.where("feedId").equals(e).count()]);return{entries:await ea(i),total:o,page:t,pageSize:n,totalPages:Math.ceil(o/n)}}async function Vi(e=1,t=20){const n=(e-1)*t,[r,i]=await Promise.all([X.entries.orderBy("publishDate").reverse().offset(n).limit(t).toArray(),X.entries.count()]);return{entries:await ea(r),total:i,page:e,pageSize:t,totalPages:Math.ceil(i/t)}}async function wa(){const e=await X.entries.filter(n=>n.isStarred).toArray();return(await ea(e)).sort((n,r)=>n.starredDate&&r.starredDate?r.starredDate.getTime()-n.starredDate.getTime():r.publishDate.getTime()-n.publishDate.getTime())}async function xa(){const e=await X.entries.filter(t=>t.isListened===!0).toArray();return ea(e)}async function vA(){return(await X.folders.toArray()).sort((t,n)=>(t.order||0)-(n.order||0))}async function Ms(e=!1){let t=X.feeds.toCollection();return e||(t=t.filter(n=>!n.isDeleted)),await t.toArray()}async function jg(e){const t=e.toLowerCase().split(" "),n=await X.entries.filter(r=>{const i=(r.title+" "+r.content_rssAbstract+" "+(r.content_fullArticle||"")+" "+(r.content_aiSummary||"")).toLowerCase();return t.every(o=>i.includes(o))}).reverse().sortBy("publishDate");return ea(n)}async function yA(e){const t=e.toLowerCase().trim(),n=await jg(e),r=n.length;let i=null;if(n.length>0){const u=n.map(d=>{try{const c=d.publishDate instanceof Date?d.publishDate:new Date(d.publishDate);return isNaN(c.getTime())?null:c}catch{return console.warn("Invalid date for entry:",d.title,d.publishDate),null}}).filter(d=>d!==null);u.length>0&&(i=u.reduce((d,c)=>c>d?c:d))}const o=await X.savedSearches.where("query").equals(t).first(),a=new Date;if(o){const u={lastUpdated:a,resultCount:r,mostRecentResult:i};return await X.savedSearches.update(o.id,u),o.id}const l=`Search: ${e}`,s={query:t,title:l,createdAt:a,resultCount:r,lastUpdated:a,mostRecentResult:i};return await X.savedSearches.add(s)}async function wA(){console.log("Getting saved searches from DB");const e=await X.savedSearches.toArray();return console.log("Raw searches from DB:",e),e.map(n=>{console.log("Hydrating search:",n.query,{rawMostRecent:n.mostRecentResult,type:typeof n.mostRecentResult});const r=new Date(n.createdAt),i=n.lastUpdated?new Date(n.lastUpdated):void 0;let o=null;if(n.mostRecentResult)try{o=new Date(n.mostRecentResult),isNaN(o.getTime())&&(console.warn("Invalid mostRecentResult date for search:",n.query,n.mostRecentResult),o=null)}catch(l){console.error("Error converting mostRecentResult date:",l),o=null}const a={...n,createdAt:r,lastUpdated:i,mostRecentResult:o};return console.log("Hydrated search:",n.query,{mostRecentResult:a.mostRecentResult,isDate:a.mostRecentResult instanceof Date}),a})}async function vy(e){return await X.savedSearches.delete(e)}async function xA(){const e=await X.entries.where("aiSummary").notEqual("").toArray(),t=e.map(n=>X.entries.update(n.id,{aiSummary:null}));return await Promise.all(t),e.length}async function bA(e){await X.transaction("rw",[X.feeds,X.entries],async()=>{var r;if(!await X.feeds.get(e))return;await X.feeds.update(e,{isDeleted:!0,deletedAt:new Date});const n=await X.entries.where("feedId").equals(e).toArray();for(const i of n)!i.isStarred&&!i.isListened&&!((r=i.chatHistory)!=null&&r.length)&&await X.entries.delete(i.id)})}async function SA(){console.log("Getting entries with chats...");const e=await X.entries.filter(r=>{if(!r.chatHistory||r.chatHistory.length===0)return console.log("Entry has no chat history:",r.id),!1;const i=r.chatHistory.some(a=>a.role==="user"),o=r.chatHistory.some(a=>a.role==="assistant"&&a.content.trim()!=="");return console.log("Chat history for entry",r.id,{hasUserMessage:i,hasAssistantMessage:o,messageCount:r.chatHistory.length,messages:r.chatHistory.map(a=>({role:a.role,contentLength:a.content.length,timestamp:a.timestamp}))}),i&&o}).toArray();console.log("Found entries with chats:",e.length);const n=(await ea(e)).sort((r,i)=>{if(r.lastChatDate&&i.lastChatDate)return i.lastChatDate.getTime()-r.lastChatDate.getTime();const o=r.chatHistory.reduce((l,s)=>s.timestamp>l?s.timestamp:l,new Date(0));return i.chatHistory.reduce((l,s)=>s.timestamp>l?s.timestamp:l,new Date(0)).getTime()-o.getTime()});return console.log("Sorted entries:",n.map(r=>{var i;return{id:r.id,title:r.title,lastChatDate:r.lastChatDate,messageCount:(i=r.chatHistory)==null?void 0:i.length}})),n}async function Og(){const e=await X.savedSearches.toArray(),t=new Date,n=5;for(let r=0;r<e.length;r+=n){const i=e.slice(r,r+n);await Promise.all(i.map(async o=>{const a=await jg(o.query);let l=null;return a.length>0&&(l=a.reduce((s,u)=>{const d=u.publishDate;return d>s?d:s},a[0].publishDate)),X.savedSearches.update(o.id,{resultCount:a.length,lastUpdated:t,mostRecentResult:l})}))}}async function kA(e){return await X.transaction("rw",X.feeds,async()=>{try{await Promise.all(e.map(async t=>{const n=await X.feeds.get(t.feedId);n&&await X.feeds.update(n.id,{folderId:t.folderId,order:t.order})}))}catch(t){throw console.error("Error in updateFeedOrder transaction:",t),t}})}async function EA(e){return await X.transaction("rw",X.folders,async()=>{try{await Promise.all(e.map(async t=>{const n=await X.folders.get(t.folderId);n&&await X.folders.update(n.id,{order:t.order})}))}catch(t){throw console.error("Error in updateFolderOrder transaction:",t),t}})}async function CA(e){return await X.transaction("rw",[X.folders,X.feeds],async()=>{await X.feeds.where("folderId").equals(e).modify({folderId:null}),await X.folders.delete(e)})}async function qd(e,t,n){const r={requestProcessingStatus:t,lastRequestAttempt:new Date};return n?r.requestError=n:r.requestError=void 0,await X.entries.update(e,r)}async function IA(e){return await X.entries.where("feedId").equals(e).reverse().sortBy("publishDate").then(t=>t[0])}async function PA(e,t){return await fb(async()=>{if(!await X.feeds.get(e))throw new Error("Feed not found");return await X.feeds.update(e,{title:t})})}async function AA(e,t){return await fb(async()=>{if(!await X.folders.get(e))throw new Error("Folder not found");return await X.folders.update(e,{name:t})})}async function TA(e){return await X.entries.where("feedId").equals(e).filter(t=>!t.isRead).count()}var hb={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(s,u,d){this.fn=s,this.context=u,this.once=d||!1}function o(s,u,d,c,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,c||s,f),h=n?n+u:u;return s._events[h]?s._events[h].fn?s._events[h]=[s._events[h],p]:s._events[h].push(p):(s._events[h]=p,s._eventsCount++),s}function a(s,u){--s._eventsCount===0?s._events=new r:delete s._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,c;if(this._eventsCount===0)return u;for(c in d=this._events)t.call(d,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,c=this._events[d];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,p=c.length,h=new Array(p);f<p;f++)h[f]=c[f].fn;return h},l.prototype.listenerCount=function(u){var d=n?n+u:u,c=this._events[d];return c?c.fn?1:c.length:0},l.prototype.emit=function(u,d,c,f,p,h){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],v=arguments.length,g,m;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,c),!0;case 4:return w.fn.call(w.context,d,c,f),!0;case 5:return w.fn.call(w.context,d,c,f,p),!0;case 6:return w.fn.call(w.context,d,c,f,p,h),!0}for(m=1,g=new Array(v-1);m<v;m++)g[m-1]=arguments[m];w.fn.apply(w.context,g)}else{var b=w.length,k;for(m=0;m<b;m++)switch(w[m].once&&this.removeListener(u,w[m].fn,void 0,!0),v){case 1:w[m].fn.call(w[m].context);break;case 2:w[m].fn.call(w[m].context,d);break;case 3:w[m].fn.call(w[m].context,d,c);break;case 4:w[m].fn.call(w[m].context,d,c,f);break;default:if(!g)for(k=1,g=new Array(v-1);k<v;k++)g[k-1]=arguments[k];w[m].fn.apply(w[m].context,g)}}return!0},l.prototype.on=function(u,d,c){return o(this,u,d,c,!1)},l.prototype.once=function(u,d,c){return o(this,u,d,c,!0)},l.prototype.removeListener=function(u,d,c,f){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var h=this._events[p];if(h.fn)h.fn===d&&(!f||h.once)&&(!c||h.context===c)&&a(this,p);else{for(var y=0,w=[],v=h.length;y<v;y++)(h[y].fn!==d||f&&!h[y].once||c&&h[y].context!==c)&&w.push(h[y]);w.length?this._events[p]=w.length===1?w[0]:w:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(hb);var NA=hb.exports;const DA=Go(NA);class gb extends Error{constructor(t){super(t),this.name="TimeoutError"}}class RA extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const yy=e=>globalThis.DOMException===void 0?new RA(e):new DOMException(e),wy=e=>{const t=e.reason===void 0?yy("This operation was aborted."):e.reason;return t instanceof Error?t:yy(t)};function jA(e,t){const{milliseconds:n,fallback:r,message:i,customTimers:o={setTimeout,clearTimeout}}=t;let a;const s=new Promise((u,d)=>{if(typeof n!="number"||Math.sign(n)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${n}\``);if(t.signal){const{signal:f}=t;f.aborted&&d(wy(f));const p=()=>{d(wy(f))};f.addEventListener("abort",p,{once:!0}),e.finally(()=>{f.removeEventListener("abort",p)})}if(n===Number.POSITIVE_INFINITY){e.then(u,d);return}const c=new gb;a=o.setTimeout.call(void 0,()=>{if(r){try{u(r())}catch(f){d(f)}return}typeof e.cancel=="function"&&e.cancel(),i===!1?u():i instanceof Error?d(i):(c.message=i??`Promise timed out after ${n} milliseconds`,d(c))},n),(async()=>{try{u(await e)}catch(f){d(f)}})()}).finally(()=>{s.clear()});return s.clear=()=>{o.clearTimeout.call(void 0,a),a=void 0},s}function OA(e,t,n){let r=0,i=e.length;for(;i>0;){const o=Math.trunc(i/2);let a=r+o;n(e[a],t)<=0?(r=++a,i-=o+1):i=o}return r}var Hn;class $A{constructor(){ft(this,Hn,[])}enqueue(t,n){n={priority:0,...n};const r={priority:n.priority,run:t};if(this.size&&de(this,Hn)[this.size-1].priority>=n.priority){de(this,Hn).push(r);return}const i=OA(de(this,Hn),r,(o,a)=>a.priority-o.priority);de(this,Hn).splice(i,0,r)}dequeue(){const t=de(this,Hn).shift();return t==null?void 0:t.run}filter(t){return de(this,Hn).filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return de(this,Hn).length}}Hn=new WeakMap;var Io,Po,Dr,$l,Ao,_l,sn,To,Lt,Fl,un,No,or,Ll,Te,mb,vb,yb,wb,xb,hu,Qp,Yp,gu,bb,mu;class _A extends DA{constructor(n){var r,i;super();ft(this,Te);ft(this,Io);ft(this,Po);ft(this,Dr,0);ft(this,$l);ft(this,Ao);ft(this,_l,0);ft(this,sn);ft(this,To);ft(this,Lt);ft(this,Fl);ft(this,un,0);ft(this,No);ft(this,or);ft(this,Ll);We(this,"timeout");if(n={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:$A,...n},!(typeof n.intervalCap=="number"&&n.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${((r=n.intervalCap)==null?void 0:r.toString())??""}\` (${typeof n.intervalCap})`);if(n.interval===void 0||!(Number.isFinite(n.interval)&&n.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${((i=n.interval)==null?void 0:i.toString())??""}\` (${typeof n.interval})`);Ye(this,Io,n.carryoverConcurrencyCount),Ye(this,Po,n.intervalCap===Number.POSITIVE_INFINITY||n.interval===0),Ye(this,$l,n.intervalCap),Ye(this,Ao,n.interval),Ye(this,Lt,new n.queueClass),Ye(this,Fl,n.queueClass),this.concurrency=n.concurrency,this.timeout=n.timeout,Ye(this,Ll,n.throwOnTimeout===!0),Ye(this,or,n.autoStart===!1)}get concurrency(){return de(this,No)}set concurrency(n){if(!(typeof n=="number"&&n>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${n}\` (${typeof n})`);Ye(this,No,n),pt(this,Te,gu).call(this)}async add(n,r={}){return r={timeout:this.timeout,throwOnTimeout:de(this,Ll),...r},new Promise((i,o)=>{de(this,Lt).enqueue(async()=>{var a;hs(this,un)._++,hs(this,Dr)._++;try{(a=r.signal)==null||a.throwIfAborted();let l=n({signal:r.signal});r.timeout&&(l=jA(Promise.resolve(l),{milliseconds:r.timeout})),r.signal&&(l=Promise.race([l,pt(this,Te,bb).call(this,r.signal)]));const s=await l;i(s),this.emit("completed",s)}catch(l){if(l instanceof gb&&!r.throwOnTimeout){i();return}o(l),this.emit("error",l)}finally{pt(this,Te,yb).call(this)}},r),this.emit("add"),pt(this,Te,hu).call(this)})}async addAll(n,r){return Promise.all(n.map(async i=>this.add(i,r)))}start(){return de(this,or)?(Ye(this,or,!1),pt(this,Te,gu).call(this),this):this}pause(){Ye(this,or,!0)}clear(){Ye(this,Lt,new(de(this,Fl)))}async onEmpty(){de(this,Lt).size!==0&&await pt(this,Te,mu).call(this,"empty")}async onSizeLessThan(n){de(this,Lt).size<n||await pt(this,Te,mu).call(this,"next",()=>de(this,Lt).size<n)}async onIdle(){de(this,un)===0&&de(this,Lt).size===0||await pt(this,Te,mu).call(this,"idle")}get size(){return de(this,Lt).size}sizeBy(n){return de(this,Lt).filter(n).length}get pending(){return de(this,un)}get isPaused(){return de(this,or)}}Io=new WeakMap,Po=new WeakMap,Dr=new WeakMap,$l=new WeakMap,Ao=new WeakMap,_l=new WeakMap,sn=new WeakMap,To=new WeakMap,Lt=new WeakMap,Fl=new WeakMap,un=new WeakMap,No=new WeakMap,or=new WeakMap,Ll=new WeakMap,Te=new WeakSet,mb=function(){return de(this,Po)||de(this,Dr)<de(this,$l)},vb=function(){return de(this,un)<de(this,No)},yb=function(){hs(this,un)._--,pt(this,Te,hu).call(this),this.emit("next")},wb=function(){pt(this,Te,Yp).call(this),pt(this,Te,Qp).call(this),Ye(this,To,void 0)},xb=function(){const n=Date.now();if(de(this,sn)===void 0){const r=de(this,_l)-n;if(r<0)Ye(this,Dr,de(this,Io)?de(this,un):0);else return de(this,To)===void 0&&Ye(this,To,setTimeout(()=>{pt(this,Te,wb).call(this)},r)),!0}return!1},hu=function(){if(de(this,Lt).size===0)return de(this,sn)&&clearInterval(de(this,sn)),Ye(this,sn,void 0),this.emit("empty"),de(this,un)===0&&this.emit("idle"),!1;if(!de(this,or)){const n=!de(this,Te,xb);if(de(this,Te,mb)&&de(this,Te,vb)){const r=de(this,Lt).dequeue();return r?(this.emit("active"),r(),n&&pt(this,Te,Qp).call(this),!0):!1}}return!1},Qp=function(){de(this,Po)||de(this,sn)!==void 0||(Ye(this,sn,setInterval(()=>{pt(this,Te,Yp).call(this)},de(this,Ao))),Ye(this,_l,Date.now()+de(this,Ao)))},Yp=function(){de(this,Dr)===0&&de(this,un)===0&&de(this,sn)&&(clearInterval(de(this,sn)),Ye(this,sn,void 0)),Ye(this,Dr,de(this,Io)?de(this,un):0),pt(this,Te,gu).call(this)},gu=function(){for(;pt(this,Te,hu).call(this););},bb=async function(n){return new Promise((r,i)=>{n.addEventListener("abort",()=>{i(n.reason)},{once:!0})})},mu=async function(n,r){return new Promise(i=>{const o=()=>{r&&!r()||(this.off(n,o),i())};this.on(n,o)})};let Ie=null,fn=[],Bt=[],ir=[];const $g=(e=2)=>{if(Ie){if(Ie.concurrency===e){console.log("Queue already initialized with same concurrency:",e);return}console.log("Reinitializing queue with new concurrency:",e)}else console.log("Initializing new queue with concurrency:",e);Ie=new _A({concurrency:e}),Ie.on("active",()=>{console.log("Queue event - active. Queue size:",Ie==null?void 0:Ie.size),console.log("Request state - Queued:",fn.length,"Processing:",Bt.length,"Failed:",ir.length)}),Ie.on("idle",()=>{console.log("Queue event - idle. Queue size:",Ie==null?void 0:Ie.size),console.log("Request state - Queued:",fn.length,"Processing:",Bt.length,"Failed:",ir.length)}),Ie.on("add",()=>{console.log("Queue event - add. Queue size:",Ie==null?void 0:Ie.size),console.log("Request state - Queued:",fn.length,"Processing:",Bt.length,"Failed:",ir.length)}),Ie.on("next",()=>{console.log("Queue event - next. Queue size:",Ie==null?void 0:Ie.size),console.log("Request state - Queued:",fn.length,"Processing:",Bt.length,"Failed:",ir.length)}),Ie.on("completed",()=>{console.log("Queue event - completed. Queue size:",Ie==null?void 0:Ie.size),console.log("Request state - Queued:",fn.length,"Processing:",Bt.length,"Failed:",ir.length)}),Ie.on("error",()=>{console.log("Queue event - error. Queue size:",Ie==null?void 0:Ie.size),console.log("Request state - Queued:",fn.length,"Processing:",Bt.length,"Failed:",ir.length)})},ko=e=>({entryId:e.entryId,feedId:e.feedId,feedTitle:e.feedTitle,entryTitle:e.entryTitle,status:e.status,addedAt:e.addedAt,type:e.type,error:e.error}),Sb=async(e,t,n=0)=>{Ie||(console.log("Queue not initialized, creating with default concurrency"),$g());let r={status:"queued",addedAt:new Date,type:t?"summary":"unknown"};if(typeof t=="number")try{console.log("Getting entry information for:",t);const o=await X.entries.get(t);if(!o)return console.error("Entry not found:",t),Promise.reject(new Error("Entry not found"));console.log("Getting feed information for feedId:",o.feedId);const a=await X.feeds.get(o.feedId);if(!a)return console.error("Feed not found:",o.feedId),Promise.reject(new Error("Feed not found"));r={entryId:t,feedId:o.feedId,feedTitle:a.title,entryTitle:o.title,status:"queued",addedAt:new Date,type:"summary"},await qd(t,"pending")}catch(o){return console.error("Error checking entry status:",o),Promise.reject(o)}const i=ko(r);fn.push(i),qr(),window.dispatchEvent(new CustomEvent("queueChanged"));try{return await Ie.add(async()=>{const a=fn.findIndex(l=>l.entryId===r.entryId&&l.feedId===r.feedId);if(a!==-1){const l=ko({...r,status:"processing"});Bt.push(l),fn.splice(a,1),window.dispatchEvent(new CustomEvent("queueChanged"))}try{const l=await e();return r.entryId&&await qd(r.entryId,"success"),Bt=Bt.filter(s=>!(s.entryId===r.entryId&&s.feedId===r.feedId)),window.dispatchEvent(new CustomEvent("entryProcessingComplete",{detail:{entryId:r.entryId}})),l}catch(l){if(r.entryId){const u={message:l instanceof Error?l.message:"Unknown error",code:l.code,details:l.details};await qd(r.entryId,"failed",u)}const s=ko({...r,status:"failed",error:l instanceof Error?l.message:"Unknown error"});throw ir.push(s),Bt=Bt.filter(u=>!(u.entryId===r.entryId&&u.feedId===r.feedId)),window.dispatchEvent(new CustomEvent("queueChanged")),l}},{priority:n})}catch(o){throw console.error("Request failed:",o),o}},qr=()=>{if(!Ie)return{size:0,pending:0,requests:[]};const e=[...fn.map(ko),...Bt.map(ko),...ir.map(ko)];return{size:fn.length,pending:Bt.length,concurrency:Ie.concurrency,requests:e}},FA=()=>{Ie&&(console.log("Clearing queue. Stats before clear:",qr()),Ie.clear(),fn=[],Bt=[],ir=[],console.log("Queue cleared. New stats:",qr()))};function LA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function Jp(e,t){return Array(t+1).join(e)}function MA(e){return e.replace(/^\n*/,"")}function BA(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var zA=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function _g(e){return Fg(e,zA)}var kb=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Eb(e){return Fg(e,kb)}function UA(e){return Ib(e,kb)}var Cb=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function HA(e){return Fg(e,Cb)}function qA(e){return Ib(e,Cb)}function Fg(e,t){return t.indexOf(e.nodeName)>=0}function Ib(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var It={};It.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};It.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};It.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=Jp(r===1?"=":"-",e.length);return`

`+e+`
`+i+`

`}else return`

`+Jp("#",r)+" "+e+`

`}};It.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};It.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};It.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var o=i.getAttribute("start"),a=Array.prototype.indexOf.call(i.children,t);r=(o?Number(o)+a:a+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};It.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};It.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,a=n.fence.charAt(0),l=3,s=new RegExp("^"+a+"{3,}","gm"),u;u=s.exec(o);)u[0].length>=l&&(l=u[0].length+1);var d=Jp(a,l);return`

`+d+i+`
`+o.replace(/\n$/,"")+`
`+d+`

`}};It.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};It.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=ec(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}};It.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=ec(t.getAttribute("title"));i&&(i=' "'+i+'"');var o,a;switch(n.linkReferenceStyle){case"collapsed":o="["+e+"][]",a="["+e+"]: "+r+i;break;case"shortcut":o="["+e+"]",a="["+e+"]: "+r+i;break;default:var l=this.references.length+1;o="["+e+"]["+l+"]",a="["+l+"]: "+r+i}return this.references.push(a),o},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};It.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};It.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};It.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};It.image={filter:"img",replacement:function(e,t){var n=ec(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=ec(t.getAttribute("title")),o=i?' "'+i+'"':"";return r?"!["+n+"]("+r+o+")":""}};function ec(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function Pb(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}Pb.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=Vd(this.array,e,this.options))||(t=Vd(this._keep,e,this.options))||(t=Vd(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function Vd(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(VA(i,t,n))return i}}function VA(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function WA(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(c){return c.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var o=null,a=!1,l=null,s=xy(l,t,i);s!==t;){if(s.nodeType===3||s.nodeType===4){var u=s.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!a&&u[0]===" "&&(u=u.substr(1)),!u){s=Wd(s);continue}s.data=u,o=s}else if(s.nodeType===1)n(s)||s.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,a=!1):r(s)||i(s)?(o=null,a=!0):o&&(a=!1);else{s=Wd(s);continue}var d=xy(l,s,i);l=s,s=d}o&&(o.data=o.data.replace(/ $/,""),o.data||Wd(o))}}function Wd(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function xy(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var Lg=typeof window<"u"?window:{};function GA(){var e=Lg.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function KA(){var e=function(){};return QA()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function QA(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{Lg.ActiveXObject&&(e=!0)}return e}var YA=GA()?Lg.DOMParser:KA();function JA(e,t){var n;if(typeof e=="string"){var r=XA().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return WA({element:n,isBlock:_g,isVoid:Eb,isPre:t.preformattedCode?ZA:null}),n}var Gd;function XA(){return Gd=Gd||new YA,Gd}function ZA(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function eT(e,t){return e.isBlock=_g(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=tT(e),e.flankingWhitespace=nT(e,t),e}function tT(e){return!Eb(e)&&!HA(e)&&/^\s*$/i.test(e.textContent)&&!UA(e)&&!qA(e)}function nT(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=rT(e.textContent);return n.leadingAscii&&by("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&by("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function rT(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function by(e,t,n){var r,i,o;return e==="left"?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(r.nodeType===3?o=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?o=!1:r.nodeType===1&&!_g(r)&&(o=i.test(r.textContent))),o}var iT=Array.prototype.reduce,oT=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Il(e){if(!(this instanceof Il))return new Il(e);var t={rules:It,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=LA({},t,e),this.rules=new Pb(this.options)}Il.prototype={turndown:function(e){if(!sT(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=Ab.call(this,new JA(e,this.options));return aT.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return oT.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function Ab(e){var t=this;return iT.call(e.childNodes,function(n,r){r=new eT(r,t.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(i=lT.call(t,r)),Tb(n,i)},"")}function aT(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=Tb(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function lT(e){var t=this.rules.forNode(e),n=Ab.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function Tb(e,t){var n=BA(e),r=MA(t),i=Math.max(e.length-n.length,t.length-r.length),o=`

`.substring(0,i);return n+o+r}function sT(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}const uT=async e=>{try{if(!(await fetch(`${e}/api/tags`)).ok)throw new Error("Failed to connect to Ollama server");return!0}catch(t){return console.error("Failed to connect to Ollama server:",t),!1}},cT=async e=>{try{const t=await fetch(`${e}/api/tags`);if(!t.ok)throw new Error("Failed to fetch models");return(await t.json()).models||[]}catch(t){return console.error("Failed to fetch models:",t),[]}},Eo=()=>{const e=localStorage.getItem("ollamaConfig");return e?JSON.parse(e):null},dT=e=>{localStorage.setItem("ollamaConfig",JSON.stringify(e)),console.log("Saving Ollama config, updating queue concurrency:",e.maxConcurrentRequests),$g(e.maxConcurrentRequests)},fT=async(e,t,n,r,i)=>Sb(async()=>{try{const o=r?l=>{requestAnimationFrame(()=>r(l))}:void 0,a=await fetch(`${n.serverUrl}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:n.summaryModel,prompt:e,system:n.summarySystemPrompt,stream:!!o})});if(!a.ok)throw new Error("Failed to generate summary");if(!(o&&a.body))return(await a.json()).response||""}catch(o){throw console.error("Failed to generate summary:",o),o}},i),pT="http://localhost:3000/api",hT=new Il({headingStyle:"atx",hr:"---",bulletListMarker:"-",codeBlockStyle:"fenced"});async function gT(e,t){return Sb(async()=>{try{console.log("Fetching article content for:",e);const n=await fetch(`${pT}/fetch-article`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","Accept-Language":"en-US,en;q=0.5"}})});if(!n.ok){const a=await n.text();console.error("Server response:",a);let l;n.status===403?l="Access denied - this might be a paywall or login-required article":n.status===404?l="Article not found - the URL might have changed or been removed":n.status===429?l="Too many requests - the website is limiting our access":l=`Failed to fetch article: ${a}`;const s=new Error(l);throw s.code=n.status.toString(),s}const r=await n.json();if(!r.content||r.content.trim().length===0){const a=new Error("No article content found - the website might be blocking content extraction");throw a.code="EMPTY_CONTENT",a}const o=hT.turndown(r.content).replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).trim();if(o.length<500){const a=new Error("Article content seems incomplete - might be hitting a paywall or content restriction");throw a.code="SHORT_CONTENT",a.details=`Content length: ${o.length} characters`,a}return console.log("Successfully fetched and converted article content, length:",o.length),{content:o,isFullContent:!0}}catch(n){if(console.error("Error fetching article:",n),n instanceof Error){const i=n;throw i.code||(i.code="UNKNOWN",n.message.includes("fetch")&&(i.code="NETWORK",i.message="Network error - could not reach the article website")),i}const r=new Error("Unknown error while fetching article");throw r.code="UNKNOWN",r}},t)}const mT="http://localhost:3000/api",vT=new Il({headingStyle:"atx",hr:"---",bulletListMarker:"-",codeBlockStyle:"fenced"});function Nb(e){return vT.turndown(e).replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).trim()}async function Db(e,t){return!await X.entries.where(["feedId","link"]).equals([e,t]).first()}async function tc(e){const t=await X.entries.get(e);if(!t)throw new Error("Entry not found");try{if(t.requestProcessingStatus==="pending"&&t.lastRequestAttempt){console.log("Entry is already being processed:",t.title);return}await X.entries.update(e,{requestProcessingStatus:"pending",lastRequestAttempt:new Date,requestError:void 0,content_aiSummary:void 0,aiSummaryMetadata:void 0}),fi(e);let n,r=!0;if(t.content_fullArticle)console.log("Using existing full article content for:",t.title),n={content:t.content_fullArticle,isFullContent:!0};else try{console.log("Fetching article content for:",t.title),n=await gT(t.link,e),console.log("Successfully fetched article content for:",t.title),await X.entries.update(e,{content_fullArticle:n.content}),fi(e)}catch(a){console.log("Failed to fetch full article, falling back to RSS content:",a),n={content:t.content_rssAbstract,isFullContent:!1},r=!1}console.log("Loading Ollama config for:",t.title);const i=Eo();if(!i||!i.serverUrl||!i.summaryModel){console.log("Ollama not configured, skipping summary generation for:",t.title),await X.entries.update(e,{requestProcessingStatus:"failed",lastRequestAttempt:new Date,requestError:{message:"Ollama not configured - please configure Ollama settings first",code:"NO_CONFIG",details:"Open settings to configure Ollama server and models"}}),fi(e);return}console.log("Generating summary for:",t.title,"using model:",i.summaryModel);const o=await fT(n.content,t.link,i,void 0,e);return console.log("Successfully generated summary for:",t.title),await X.entries.update(e,{content_aiSummary:o,aiSummaryMetadata:{isFullContent:r,model:i.summaryModel,contentLength:n.content.length},requestProcessingStatus:"success",lastRequestAttempt:new Date,requestError:void 0}),fi(e),!0}catch(n){throw console.error("Failed to process entry:",n),await X.entries.update(e,{requestProcessingStatus:"failed",lastRequestAttempt:new Date,requestError:{message:n instanceof Error?n.message:"Unknown error",code:n.code,details:n.details}}),fi(e),n}}async function Rb(e){const t=await fetch(`${mT}/parse-feed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!t.ok){const n=await t.text();throw console.error("Server error:",n),new Error("Failed to fetch feed")}return t.json()}async function yT(e,t,n){const r=[];for(const o of n)await Db(e,o.link)&&r.push({feedId:e,title:o.title,content_rssAbstract:Nb(o.content),link:o.link,publishDate:new Date(o.pubDate),isRead:!1,isStarred:!1,requestProcessingStatus:"pending",isListened:!1,lastRequestAttempt:void 0,requestError:void 0,content_aiSummary:void 0,aiSummaryMetadata:void 0});if(r.length===0)return[];const i=await Promise.all(r.map(o=>db(o)));return await Promise.all(i.map(o=>tc(o))),i}const jb=async e=>{if(qr().requests.some(o=>o.entryId===e&&(o.status==="queued"||o.status==="processing"))){console.log("Entry already in queue:",e);return}const r=await X.entries.get(e);if(!r)throw new Error("Entry not found");const i=Eo();if(!i||!i.serverUrl||!i.summaryModel)throw new Error("Ollama not configured - please configure Ollama settings first");return await X.entries.update(e,{requestProcessingStatus:"pending",lastRequestAttempt:null,requestError:null,content_aiSummary:null,content_fullArticle:r.content_fullArticle,aiSummaryMetadata:null}),tc(e)};async function Ob(e,t){try{if(await X.feeds.where("url").equals(e).first())throw new Error("Feed already exists");const r=await Rb(e),i=await fA(e,r.title||"Untitled Feed",t);return yT(i,r.title||"Untitled Feed",r.items).catch(o=>console.error("Error processing new entries:",o)),i}catch(n){throw console.error("Error adding feed:",n),n instanceof Error?n:new Error("Failed to add feed")}}async function $b(e){console.log("Starting parallel refresh for",e.length,"feeds");for(const r of e)try{const i=await X.entries.where("feedId").equals(r.id).filter(o=>o.requestProcessingStatus==="pending"&&!o.content_aiSummary&&(!o.lastRequestAttempt||new Date().getTime()-new Date(o.lastRequestAttempt).getTime()>3e5)).toArray();i.length>0&&(console.log("Found stalled entries for feed:",r.title,i.length),await Promise.all(i.map(o=>tc(o.id).catch(a=>{console.error("Error reprocessing stalled entry:",a)}))))}catch(i){console.error("Error checking for stalled entries:",i)}const t=e.map(async r=>{try{console.log("Starting refresh for feed:",r.title);const i=await Rb(r.url),o=[];for(const a of i.items)if(await Db(r.id,a.link)){const s=await db({feedId:r.id,title:a.title,content_rssAbstract:Nb(a.content),link:a.link,publishDate:new Date(a.pubDate),isRead:!1,isStarred:!1,requestProcessingStatus:"pending",isListened:!1,lastRequestAttempt:void 0,requestError:void 0,content_aiSummary:void 0,aiSummaryMetadata:void 0});s&&o.push(s)}if(o.length>0){const l=(await Promise.all(o.map(s=>X.entries.get(s)))).filter(s=>s!==void 0).sort((s,u)=>u.publishDate.getTime()-s.publishDate.getTime());console.log("Processing",l.length,"entries for feed:",r.title),await Promise.all(l.map(s=>tc(s.id).catch(u=>{console.error("Error processing entry:",u)})))}return window.dispatchEvent(new CustomEvent("feedRefreshed",{detail:{feedId:r.id}})),{feed:r,newEntryIds:o}}catch(i){return console.error("Error refreshing feed:",r.title,i),{feed:r,newEntryIds:[]}}});return await Promise.all(t)}async function _b(e){try{return(await $b([e]))[0]}catch(t){throw console.error("Error refreshing single feed:",t),t}}const Fb=({isOpen:e,onClose:t,onSuccess:n,isDarkMode:r})=>{const[i,o]=E.useState(""),[a,l]=E.useState(!1),[s,u]=E.useState(null),d=E.useRef(null);if(E.useEffect(()=>{e?setTimeout(()=>{var h;(h=d.current)==null||h.focus()},0):(o(""),u(null))},[e]),!e)return null;const c=async h=>{h.preventDefault(),l(!0),u(null);try{await Ob(i),n(),t()}catch(y){y instanceof Error&&y.message==="Feed already exists"?u("This feed has already been subscribed to."):u("Failed to add feed. Please check the URL and try again.")}finally{l(!1)}},f=`w-full px-3 py-2 rounded border focus:outline-none focus:ring-2 focus:ring-reader-blue
    ${r?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,p=`block text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`;return x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:t}),x.jsxs("div",{className:`relative z-50 rounded-lg p-6 w-full max-w-md border-2 shadow-xl
        ${r?"bg-gray-800 border-gray-600":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:`text-xl font-semibold mb-4 ${r?"text-white":"text-gray-900"}`,children:"Add New Feed"}),x.jsxs("form",{onSubmit:c,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"url",className:p,children:"Feed URL"}),x.jsx("input",{ref:d,type:"url",id:"url",value:i,onChange:h=>o(h.target.value),className:f,placeholder:"https://example.com/feed.xml",required:!0})]}),s&&x.jsx("div",{className:`mb-4 text-sm ${r?"text-red-400":"text-red-600"}`,children:s}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx("button",{type:"button",onClick:t,className:`btn ${r?"bg-gray-700 border-gray-600 hover:bg-gray-600 text-gray-300":"bg-white border-gray-300 hover:bg-gray-100 text-gray-700"} border`,disabled:a,children:"Cancel"}),x.jsx("button",{type:"submit",className:"btn btn-blue",disabled:a,children:a?"Adding...":"Add Feed"})]})]})]})]})};class wT{constructor(){We(this,"queue",[]);We(this,"isPlaying",!1);We(this,"isPaused",!1);We(this,"currentUtterance",null);We(this,"voice",null);We(this,"rate",1);We(this,"currentArticle",null);We(this,"currentArticleIndex",-1);We(this,"listeners",new Set);We(this,"audioContext",null);this.audioContext=new AudioContext;const t=localStorage.getItem("selectedVoice"),n=localStorage.getItem("speechRate");n&&(this.rate=parseFloat(n));const r=()=>{if(t){const i=window.speechSynthesis.getVoices();this.voice=i.find(o=>o.name===t)||null}};r(),window.speechSynthesis.onvoiceschanged=r}cleanTextForSpeech(t){const n=document.createElement("div");n.innerHTML=t;const r=n.getElementsByTagName("script"),i=n.getElementsByTagName("style");for(;r.length>0;)r[0].remove();for(;i.length>0;)i[0].remove();let o=n.textContent||n.innerText||"";return o=o.replace(/https?:\/\/[^\s]+/g,""),o=o.replace(/#\w+/g,""),o=o.replace(/[\w\.-]+@[\w\.-]+\.\w+/g,""),o=o.replace(/\[([^\]]+)\]\([^\)]+\)/g,"$1").replace(/^#{1,6}\s+/gm,"").replace(/```[\s\S]*?```/g,"").replace(/`[^`]+`/g,"").replace(/(\*\*|__)(.*?)\1/g,"$2").replace(/(\*|_)(.*?)\1/g,"$2").replace(/^[\s]*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/^>\s+/gm,"").replace(/^([-*_]){3,}\s*$/gm,"").replace(/^[\s]*- \[[x ]\]\s*/gm,"").replace(/\|/g," "),o=o.replace(/\s+/g," "),o=o.replace(/\.\w{2,4}\b/g,""),o=o.replace(/\b(function|const|let|var|if|else|for|while|return)\b/g,""),o=o.replace(/[{}[\]()]/g,""),o=o.replace(/&[^;]+;/g,""),o=o.replace(/([.!?])\s+/g,"$1. ").replace(/([,;:])\s+/g,"$1, "),o=o.trim().replace(/\s+/g," "),o}addListener(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>t())}updateVoice(t){this.voice=t}updateRate(t){this.rate=t}playAddToQueueSound(){if(!this.audioContext)return;const t=this.audioContext.createOscillator(),n=this.audioContext.createGain();t.type="sine",t.frequency.setValueAtTime(880,this.audioContext.currentTime),t.frequency.setValueAtTime(1108.73,this.audioContext.currentTime+.1),n.gain.setValueAtTime(0,this.audioContext.currentTime),n.gain.linearRampToValueAtTime(.2,this.audioContext.currentTime+.02),n.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+.2),t.connect(n),n.connect(this.audioContext.destination),t.start(),t.stop(this.audioContext.currentTime+.2)}playDuplicateSound(){if(!this.audioContext)return;const t=this.audioContext.createOscillator(),n=this.audioContext.createGain();t.type="sine",t.frequency.setValueAtTime(440,this.audioContext.currentTime),t.frequency.linearRampToValueAtTime(330,this.audioContext.currentTime+.2),n.gain.setValueAtTime(0,this.audioContext.currentTime),n.gain.linearRampToValueAtTime(.2,this.audioContext.currentTime+.02),n.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+.3),t.connect(n),n.connect(this.audioContext.destination),t.start(),t.stop(this.audioContext.currentTime+.3)}async addToQueue(t){var a;if(((a=this.currentArticle)==null?void 0:a.id)===t.id){this.playDuplicateSound();return}if(this.queue.some(l=>l.id!==void 0&&l.id===t.id)){this.playDuplicateSound();return}let n="";t.content_fullArticle?n=t.content_fullArticle:t.content_rssAbstract&&(n=t.content_rssAbstract);const r=this.cleanTextForSpeech(n),i=t.content_aiSummary?this.cleanTextForSpeech(t.content_aiSummary):void 0,o={id:t.id,title:t.title,source:t.feedTitle||"Unknown Feed",summary:i,content:r};this.queue.push(o),this.notifyListeners(),this.playAddToQueueSound(),this.isPlaying||(this.currentArticleIndex=this.queue.length-1,this.playNext())}async playNext(){if(this.queue.length===0){this.isPlaying=!1,this.isPaused=!1,this.currentArticle=null,this.currentArticleIndex=-1,this.notifyListeners();return}this.currentArticleIndex===-1&&(this.currentArticleIndex=0);const t=this.queue[this.currentArticleIndex];await this.playArticle(t)}async playArticle(t){this.isPlaying=!0,this.currentArticle=t,this.notifyListeners();const n=new SpeechSynthesisUtterance(`Now reading: ${t.title} from ${t.source}`);this.voice&&(n.voice=this.voice),n.rate=this.rate;let r=null;t.summary&&(r=new SpeechSynthesisUtterance(`Summary: ${t.summary}`),this.voice&&(r.voice=this.voice),r.rate=this.rate);const i=new SpeechSynthesisUtterance(t.content);this.voice&&(i.voice=this.voice),i.rate=this.rate,i.onend=async()=>{await pA(t.id),this.queue=this.queue.filter((o,a)=>a!==this.currentArticleIndex),this.queue.length>0?(this.currentArticleIndex>=this.queue.length&&(this.currentArticleIndex=0),this.playNext()):(this.isPlaying=!1,this.isPaused=!1,this.currentUtterance=null,this.currentArticle=null,this.currentArticleIndex=-1,this.notifyListeners())},i.onerror=o=>{console.error("TTS Error:",o),this.queue=this.queue.filter((a,l)=>l!==this.currentArticleIndex),this.queue.length>0?(this.currentArticleIndex>=this.queue.length&&(this.currentArticleIndex=0),this.playNext()):(this.isPlaying=!1,this.isPaused=!1,this.currentUtterance=null,this.currentArticle=null,this.currentArticleIndex=-1,this.notifyListeners())},this.currentUtterance=n,window.speechSynthesis.speak(n),n.onend=()=>{r?(this.currentUtterance=r,window.speechSynthesis.speak(r),r.onend=()=>{this.currentUtterance=i,window.speechSynthesis.speak(i)}):(this.currentUtterance=i,window.speechSynthesis.speak(i))}}togglePlayPause(){if(!this.isPlaying&&!this.isPaused){this.queue.length>0&&this.playNext();return}this.isPaused?(window.speechSynthesis.resume(),this.isPaused=!1,this.isPlaying=!0):(window.speechSynthesis.pause(),this.isPaused=!0,this.isPlaying=!0),this.notifyListeners()}next(){if(this.currentArticleIndex<this.queue.length-1){this.currentArticleIndex>=0&&(this.queue=this.queue.filter((n,r)=>r!==this.currentArticleIndex)),window.speechSynthesis.cancel();const t=this.queue[this.currentArticleIndex];t?this.playArticle(t):this.stop()}else this.clearQueue()}previous(){this.currentArticleIndex>0&&(this.currentArticleIndex--,this.stop(),this.playArticle(this.queue[this.currentArticleIndex]))}stop(){window.speechSynthesis.cancel(),this.isPlaying=!1,this.isPaused=!1,this.currentUtterance=null,this.currentArticle=null,this.currentArticleIndex=-1,this.notifyListeners()}clearQueue(){this.queue=[],this.stop(),this.currentArticleIndex=-1,this.notifyListeners()}getQueueLength(){return this.queue.length}getCurrentArticle(){return this.currentArticle}getQueuedArticles(){return[...this.queue]}isCurrentlyPlaying(){return this.isPlaying}isPausedState(){return this.isPaused}getCurrentIndex(){return this.currentArticleIndex}}const je=new wT;function xT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const bT=E.forwardRef(xT);function ST({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const kT=E.forwardRef(ST);function ET({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const CT=E.forwardRef(ET);function IT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Lb=E.forwardRef(IT);function PT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Mb=E.forwardRef(PT);function AT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const TT=E.forwardRef(AT);function NT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const DT=E.forwardRef(NT);function RT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Bb=E.forwardRef(RT);function jT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const OT=E.forwardRef(jT);function $T({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const _T=E.forwardRef($T);function FT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.75 19.5v-.75a7.5 7.5 0 0 0-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const LT=E.forwardRef(FT);function MT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const BT=E.forwardRef(MT);function zT({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const zb=E.forwardRef(zT),Sy=({path:e,title:t,isActive:n,isSelected:r,isDarkMode:i,index:o,onSelect:a,onFocusChange:l,isGunFeed:s,pubKey:u})=>{const d=`
    block px-4 py-2 text-sm transition-colors
    ${n?i?"bg-gray-700":"bg-reader-hover":""}
    ${r?"ring-2 ring-reader-blue ring-opacity-50":""}
    ${i?"hover:bg-gray-700":"hover:bg-reader-hover"}
  `;return x.jsx(jx,{to:e,"data-index":o,className:d,onClick:()=>{a(o),l(!1)},children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{children:t}),s&&u&&x.jsxs("div",{className:"group relative",children:[x.jsx(TT,{className:`h-4 w-4 ${i?"text-gray-400":"text-gray-500"} hover:text-reader-blue transition-colors`}),x.jsx("div",{className:`absolute z-50 left-1/2 -translate-x-1/2 bottom-full mb-2 px-2 py-1 text-xs rounded shadow-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${i?"bg-gray-700 text-gray-200":"bg-white text-gray-700"}`,children:u})]})]})})},UT=(e,t)=>{if(console.log("Getting badge color for timestamp:",{timestamp:e,isDate:e instanceof Date,type:e?typeof e:"null"}),!e)return console.log("No timestamp, using default color"),t?"bg-gray-600 text-white":"bg-gray-200 text-gray-600";const i=(new Date().getTime()-e.getTime())/(1e3*60*60);return console.log("Time difference in hours:",i),i<=1?(console.log("Less than 1 hour - using purple"),"bg-purple-700 text-white"):i<=24?(console.log("Less than 24 hours - using dark blue"),"bg-blue-600 text-white"):i<=168?(console.log("Less than a week - using light blue"),"bg-blue-400 text-white"):(console.log("Older than a week - using gray"),"bg-gray-500 text-white")},HT=({path:e,title:t,isActive:n,isSelected:r,isDarkMode:i,index:o,onSelect:a,onFocusChange:l,onDelete:s,hits:u,timestamp:d})=>{const c=d instanceof Date?d:null;console.log("SidebarSearchItem props:",{title:t,hits:u,rawTimestamp:d,validTimestamp:c,type:d?typeof d:"null",isDate:d instanceof Date});const f=`
    block px-4 py-2 text-sm transition-colors
    ${n?i?"bg-gray-700":"bg-reader-hover":""}
    ${r?"ring-2 ring-reader-blue ring-opacity-50":""}
    ${i?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-600"}
  `;return x.jsx("div",{className:"group relative",children:x.jsx(jx,{to:e,"data-index":o,className:f,onClick:()=>{a(o),l(!1)},children:x.jsxs("div",{className:"flex items-center w-full",children:[x.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),x.jsx("span",{className:"truncate",children:t})]}),x.jsxs("div",{className:"flex items-center justify-end flex-shrink-0 relative",children:[typeof u=="number"&&x.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full
                ${UT(c,i)}
                ${s?"group-hover:opacity-0":""} transition-opacity`,children:u}),s&&x.jsx("button",{onClick:p=>{p.preventDefault(),p.stopPropagation(),s()},className:`absolute right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded ${i?"hover:bg-gray-600 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"}`,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})})})},qT=(e,t)=>{if(!e)return t?"bg-gray-600 text-white":"bg-gray-200 text-gray-600";const i=(new Date().getTime()-e.getTime())/(1e3*60*60);return i<=1?"bg-purple-700 text-white":i<=24?"bg-blue-600 text-white":i<=168?"bg-blue-400 text-white":"bg-gray-500 text-white"},Ub=({id:e,path:t,title:n,isActive:r,isSelected:i,isDarkMode:o,index:a,onSelect:l,onFocusChange:s,onUnreadCountChange:u})=>{const[d,c]=E.useState(0),[f,p]=E.useState(!1),[h,y]=E.useState(null),w=E.useCallback(async()=>{const v=await TA(e);c(v),u==null||u(e,v);const g=await IA(e);y((g==null?void 0:g.publishDate)||null)},[e,u]);return E.useEffect(()=>{const v=m=>{m.detail.feedId===e&&p(!0)},g=m=>{m.detail.feedId===e&&(p(!1),w())};return window.addEventListener("feedRefreshStart",v),window.addEventListener("feedRefreshComplete",g),window.addEventListener("entryReadChanged",w),w(),()=>{window.removeEventListener("feedRefreshStart",v),window.removeEventListener("feedRefreshComplete",g),window.removeEventListener("entryReadChanged",w)}},[e,w]),x.jsxs("div",{className:`group flex items-center justify-between px-4 py-2 text-sm transition-colors cursor-pointer
        ${o?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-600"}
        ${i?"ring-2 ring-reader-blue ring-opacity-50":""}
      `,onClick:()=>{l(a),s(!0)},"data-index":a,children:[x.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[f&&x.jsx(kT,{className:"w-4 h-4 animate-spin"}),x.jsx("span",{className:"truncate",children:n})]}),x.jsx("div",{className:"flex items-center gap-2",children:d>0&&x.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${qT(h,o)}`,children:d})})]})};function Xp(e,t){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Xp(e,t)}function Hb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xp(e,t)}function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(null,arguments)}function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function VT(e,t){if(Pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WT(e){var t=VT(e,"string");return Pl(t)=="symbol"?t:t+""}function GT(e,t,n){return(t=WT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(n),!0).forEach(function(r){GT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ft(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Cy=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Kd=function(){return Math.random().toString(36).substring(7).split("").join(".")},Iy={INIT:"@@redux/INIT"+Kd(),REPLACE:"@@redux/REPLACE"+Kd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Kd()}};function KT(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qb(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ft(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ft(1));return n(qb)(e,t)}if(typeof e!="function")throw new Error(Ft(2));var i=e,o=t,a=[],l=a,s=!1;function u(){l===a&&(l=a.slice())}function d(){if(s)throw new Error(Ft(3));return o}function c(y){if(typeof y!="function")throw new Error(Ft(4));if(s)throw new Error(Ft(5));var w=!0;return u(),l.push(y),function(){if(w){if(s)throw new Error(Ft(6));w=!1,u();var g=l.indexOf(y);l.splice(g,1),a=null}}}function f(y){if(!KT(y))throw new Error(Ft(7));if(typeof y.type>"u")throw new Error(Ft(8));if(s)throw new Error(Ft(9));try{s=!0,o=i(o,y)}finally{s=!1}for(var w=a=l,v=0;v<w.length;v++){var g=w[v];g()}return y}function p(y){if(typeof y!="function")throw new Error(Ft(10));i=y,f({type:Iy.REPLACE})}function h(){var y,w=c;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Ft(11));function m(){g.next&&g.next(d())}m();var b=w(m);return{unsubscribe:b}}},y[Cy]=function(){return this},y}return f({type:Iy.INIT}),r={dispatch:f,subscribe:c,getState:d,replaceReducer:p},r[Cy]=h,r}function Py(e,t){return function(){return t(e.apply(this,arguments))}}function Ay(e,t){if(typeof e=="function")return Py(e,t);if(typeof e!="object"||e===null)throw new Error(Ft(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=Py(i,t))}return n}function Vb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function QT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Ft(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=t.map(function(s){return s(a)});return o=Vb.apply(void 0,l)(i.dispatch),Ey(Ey({},i),{},{dispatch:o})}}}var Wb=xe.createContext(null);function YT(e){e()}var Gb=YT,JT=function(t){return Gb=t},XT=function(){return Gb};function ZT(){var e=XT(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,a=n={callback:i,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!o||t===null||(o=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Ty={notify:function(){},get:function(){return[]}};function Kb(e,t){var n,r=Ty;function i(c){return s(),r.subscribe(c)}function o(){r.notify()}function a(){d.onStateChange&&d.onStateChange()}function l(){return!!n}function s(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=ZT())}function u(){n&&(n(),n=void 0,r.clear(),r=Ty)}var d={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:l,trySubscribe:s,tryUnsubscribe:u,getListeners:function(){return r}};return d}var Qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function eN(e){var t=e.store,n=e.context,r=e.children,i=E.useMemo(function(){var l=Kb(t);return{store:t,subscription:l}},[t]),o=E.useMemo(function(){return t.getState()},[t]);Qb(function(){var l=i.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[i,o]);var a=n||Wb;return xe.createElement(a.Provider,{value:i},r)}function nc(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Yb={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt=typeof Symbol=="function"&&Symbol.for,Mg=dt?Symbol.for("react.element"):60103,Bg=dt?Symbol.for("react.portal"):60106,Lc=dt?Symbol.for("react.fragment"):60107,Mc=dt?Symbol.for("react.strict_mode"):60108,Bc=dt?Symbol.for("react.profiler"):60114,zc=dt?Symbol.for("react.provider"):60109,Uc=dt?Symbol.for("react.context"):60110,zg=dt?Symbol.for("react.async_mode"):60111,Hc=dt?Symbol.for("react.concurrent_mode"):60111,qc=dt?Symbol.for("react.forward_ref"):60112,Vc=dt?Symbol.for("react.suspense"):60113,tN=dt?Symbol.for("react.suspense_list"):60120,Wc=dt?Symbol.for("react.memo"):60115,Gc=dt?Symbol.for("react.lazy"):60116,nN=dt?Symbol.for("react.block"):60121,rN=dt?Symbol.for("react.fundamental"):60117,iN=dt?Symbol.for("react.responder"):60118,oN=dt?Symbol.for("react.scope"):60119;function an(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mg:switch(e=e.type,e){case zg:case Hc:case Lc:case Bc:case Mc:case Vc:return e;default:switch(e=e&&e.$$typeof,e){case Uc:case qc:case Gc:case Wc:case zc:return e;default:return t}}case Bg:return t}}}function Jb(e){return an(e)===Hc}Re.AsyncMode=zg;Re.ConcurrentMode=Hc;Re.ContextConsumer=Uc;Re.ContextProvider=zc;Re.Element=Mg;Re.ForwardRef=qc;Re.Fragment=Lc;Re.Lazy=Gc;Re.Memo=Wc;Re.Portal=Bg;Re.Profiler=Bc;Re.StrictMode=Mc;Re.Suspense=Vc;Re.isAsyncMode=function(e){return Jb(e)||an(e)===zg};Re.isConcurrentMode=Jb;Re.isContextConsumer=function(e){return an(e)===Uc};Re.isContextProvider=function(e){return an(e)===zc};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mg};Re.isForwardRef=function(e){return an(e)===qc};Re.isFragment=function(e){return an(e)===Lc};Re.isLazy=function(e){return an(e)===Gc};Re.isMemo=function(e){return an(e)===Wc};Re.isPortal=function(e){return an(e)===Bg};Re.isProfiler=function(e){return an(e)===Bc};Re.isStrictMode=function(e){return an(e)===Mc};Re.isSuspense=function(e){return an(e)===Vc};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lc||e===Hc||e===Bc||e===Mc||e===Vc||e===tN||typeof e=="object"&&e!==null&&(e.$$typeof===Gc||e.$$typeof===Wc||e.$$typeof===zc||e.$$typeof===Uc||e.$$typeof===qc||e.$$typeof===rN||e.$$typeof===iN||e.$$typeof===oN||e.$$typeof===nN)};Re.typeOf=an;Yb.exports=Re;var aN=Yb.exports,Ug=aN,lN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Xb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hg={};Hg[Ug.ForwardRef]=uN;Hg[Ug.Memo]=Xb;function Ny(e){return Ug.isMemo(e)?Xb:Hg[e.$$typeof]||lN}var cN=Object.defineProperty,dN=Object.getOwnPropertyNames,Dy=Object.getOwnPropertySymbols,fN=Object.getOwnPropertyDescriptor,pN=Object.getPrototypeOf,Ry=Object.prototype;function Zb(e,t,n){if(typeof t!="string"){if(Ry){var r=pN(t);r&&r!==Ry&&Zb(e,r,n)}var i=dN(t);Dy&&(i=i.concat(Dy(t)));for(var o=Ny(e),a=Ny(t),l=0;l<i.length;++l){var s=i[l];if(!sN[s]&&!(n&&n[s])&&!(a&&a[s])&&!(o&&o[s])){var u=fN(t,s);try{cN(e,s,u)}catch{}}}}return e}var hN=Zb;const jy=Go(hN);var eS={exports:{}},Fe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=60103,Qc=60106,Ql=60107,Yl=60108,Jl=60114,Xl=60109,Zl=60110,es=60112,ts=60113,qg=60120,ns=60115,rs=60116,tS=60121,nS=60122,rS=60117,iS=60129,oS=60131;if(typeof Symbol=="function"&&Symbol.for){var ht=Symbol.for;Kc=ht("react.element"),Qc=ht("react.portal"),Ql=ht("react.fragment"),Yl=ht("react.strict_mode"),Jl=ht("react.profiler"),Xl=ht("react.provider"),Zl=ht("react.context"),es=ht("react.forward_ref"),ts=ht("react.suspense"),qg=ht("react.suspense_list"),ns=ht("react.memo"),rs=ht("react.lazy"),tS=ht("react.block"),nS=ht("react.server.block"),rS=ht("react.fundamental"),iS=ht("react.debug_trace_mode"),oS=ht("react.legacy_hidden")}function _n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Kc:switch(e=e.type,e){case Ql:case Jl:case Yl:case ts:case qg:return e;default:switch(e=e&&e.$$typeof,e){case Zl:case es:case rs:case ns:case Xl:return e;default:return t}}case Qc:return t}}}var gN=Xl,mN=Kc,vN=es,yN=Ql,wN=rs,xN=ns,bN=Qc,SN=Jl,kN=Yl,EN=ts;Fe.ContextConsumer=Zl;Fe.ContextProvider=gN;Fe.Element=mN;Fe.ForwardRef=vN;Fe.Fragment=yN;Fe.Lazy=wN;Fe.Memo=xN;Fe.Portal=bN;Fe.Profiler=SN;Fe.StrictMode=kN;Fe.Suspense=EN;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(e){return _n(e)===Zl};Fe.isContextProvider=function(e){return _n(e)===Xl};Fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kc};Fe.isForwardRef=function(e){return _n(e)===es};Fe.isFragment=function(e){return _n(e)===Ql};Fe.isLazy=function(e){return _n(e)===rs};Fe.isMemo=function(e){return _n(e)===ns};Fe.isPortal=function(e){return _n(e)===Qc};Fe.isProfiler=function(e){return _n(e)===Jl};Fe.isStrictMode=function(e){return _n(e)===Yl};Fe.isSuspense=function(e){return _n(e)===ts};Fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ql||e===Jl||e===iS||e===Yl||e===ts||e===qg||e===oS||typeof e=="object"&&e!==null&&(e.$$typeof===rs||e.$$typeof===ns||e.$$typeof===Xl||e.$$typeof===Zl||e.$$typeof===es||e.$$typeof===rS||e.$$typeof===tS||e[0]===nS)};Fe.typeOf=_n;eS.exports=Fe;var CN=eS.exports,IN=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],PN=["reactReduxForwardedRef"],AN=[],TN=[null,null];function NN(e,t){var n=e[1];return[t.payload,n+1]}function Oy(e,t,n){Qb(function(){return e.apply(void 0,t)},n)}function DN(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function RN(e,t,n,r,i,o,a,l,s,u){if(e){var d=!1,c=null,f=function(){if(!d){var y=t.getState(),w,v;try{w=r(y,i.current)}catch(g){v=g,c=g}v||(c=null),w===o.current?a.current||s():(o.current=w,l.current=w,a.current=!0,u({type:"STORE_UPDATED",payload:{error:v}}))}};n.onStateChange=f,n.trySubscribe(),f();var p=function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,c)throw c};return p}}var jN=function(){return[null,0]};function ON(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(m){return"ConnectAdvanced("+m+")"}:r,o=n.methodName,a=o===void 0?"connectAdvanced":o,l=n.renderCountProp,s=l===void 0?void 0:l,u=n.shouldHandleStateChanges,d=u===void 0?!0:u,c=n.storeKey,f=c===void 0?"store":c;n.withRef;var p=n.forwardRef,h=p===void 0?!1:p,y=n.context,w=y===void 0?Wb:y,v=nc(n,IN),g=w;return function(b){var k=b.displayName||b.name||"Component",S=i(k),C=pe({},v,{getDisplayName:i,methodName:a,renderCountProp:s,shouldHandleStateChanges:d,storeKey:f,displayName:S,wrappedComponentName:k,WrappedComponent:b}),N=v.pure;function D(R){return e(R.dispatch,C)}var P=N?E.useMemo:function(R){return R()};function j(R){var $=E.useMemo(function(){var ge=R.reactReduxForwardedRef,Ne=nc(R,PN);return[R.context,ge,Ne]},[R]),q=$[0],z=$[1],_=$[2],U=E.useMemo(function(){return q&&q.Consumer&&CN.isContextConsumer(xe.createElement(q.Consumer,null))?q:g},[q,g]),T=E.useContext(U),W=!!R.store&&!!R.store.getState&&!!R.store.dispatch;T&&T.store;var K=W?R.store:T.store,O=E.useMemo(function(){return D(K)},[K]),B=E.useMemo(function(){if(!d)return TN;var ge=Kb(K,W?null:T.subscription),Ne=ge.notifyNestedSubs.bind(ge);return[ge,Ne]},[K,W,T]),L=B[0],F=B[1],H=E.useMemo(function(){return W?T:pe({},T,{subscription:L})},[W,T,L]),G=E.useReducer(NN,AN,jN),Z=G[0],V=Z[0],oe=G[1];if(V&&V.error)throw V.error;var J=E.useRef(),M=E.useRef(_),Q=E.useRef(),ne=E.useRef(!1),me=P(function(){return Q.current&&_===M.current?Q.current:O(K.getState(),_)},[K,V,_]);Oy(DN,[M,J,ne,_,me,Q,F]),Oy(RN,[d,K,L,O,M,J,ne,Q,F,oe],[K,L,O]);var ce=E.useMemo(function(){return xe.createElement(b,pe({},me,{ref:z}))},[z,b,me]),ke=E.useMemo(function(){return d?xe.createElement(U.Provider,{value:H},ce):ce},[U,ce,H]);return ke}var A=N?xe.memo(j):j;if(A.WrappedComponent=b,A.displayName=j.displayName=S,h){var I=xe.forwardRef(function($,q){return xe.createElement(A,pe({},$,{reactReduxForwardedRef:q}))});return I.displayName=S,I.WrappedComponent=b,jy(I,b)}return jy(A,b)}}function $y(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Qd(e,t){if($y(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!$y(e[n[i]],t[n[i]]))return!1;return!0}function $N(e,t){var n={},r=function(a){var l=e[a];typeof l=="function"&&(n[a]=function(){return t(l.apply(void 0,arguments))})};for(var i in e)r(i);return n}function Vg(e){return function(n,r){var i=e(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function _y(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function aS(e,t){return function(r,i){i.displayName;var o=function(l,s){return o.dependsOnOwnProps?o.mapToProps(l,s):o.mapToProps(l)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,s){o.mapToProps=e,o.dependsOnOwnProps=_y(e);var u=o(l,s);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=_y(u),u=o(l,s)),u},o}}function _N(e){return typeof e=="function"?aS(e):void 0}function FN(e){return e?void 0:Vg(function(t){return{dispatch:t}})}function LN(e){return e&&typeof e=="object"?Vg(function(t){return $N(e,t)}):void 0}const MN=[_N,FN,LN];function BN(e){return typeof e=="function"?aS(e):void 0}function zN(e){return e?void 0:Vg(function(){return{}})}const UN=[BN,zN];function HN(e,t,n){return pe({},n,e,t)}function qN(e){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,a=!1,l;return function(u,d,c){var f=e(u,d,c);return a?(!i||!o(f,l))&&(l=f):(a=!0,l=f),l}}}function VN(e){return typeof e=="function"?qN(e):void 0}function WN(e){return e?void 0:function(){return HN}}const GN=[VN,WN];var KN=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function QN(e,t,n,r){return function(o,a){return n(e(o,a),t(r,a),a)}}function YN(e,t,n,r,i){var o=i.areStatesEqual,a=i.areOwnPropsEqual,l=i.areStatePropsEqual,s=!1,u,d,c,f,p;function h(m,b){return u=m,d=b,c=e(u,d),f=t(r,d),p=n(c,f,d),s=!0,p}function y(){return c=e(u,d),t.dependsOnOwnProps&&(f=t(r,d)),p=n(c,f,d),p}function w(){return e.dependsOnOwnProps&&(c=e(u,d)),t.dependsOnOwnProps&&(f=t(r,d)),p=n(c,f,d),p}function v(){var m=e(u,d),b=!l(m,c);return c=m,b&&(p=n(c,f,d)),p}function g(m,b){var k=!a(b,d),S=!o(m,u,b,d);return u=m,d=b,k&&S?y():k?w():S?v():p}return function(b,k){return s?g(b,k):h(b,k)}}function JN(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=nc(t,KN),a=n(e,o),l=r(e,o),s=i(e,o),u=o.pure?YN:QN;return u(a,l,s,e,o)}var XN=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Yd(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(o,a){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+a.wrappedComponentName+".")}}function ZN(e,t){return e===t}function eD(e){var t={},n=t.connectHOC,r=n===void 0?ON:n,i=t.mapStateToPropsFactories,o=i===void 0?UN:i,a=t.mapDispatchToPropsFactories,l=a===void 0?MN:a,s=t.mergePropsFactories,u=s===void 0?GN:s,d=t.selectorFactory,c=d===void 0?JN:d;return function(p,h,y,w){w===void 0&&(w={});var v=w,g=v.pure,m=g===void 0?!0:g,b=v.areStatesEqual,k=b===void 0?ZN:b,S=v.areOwnPropsEqual,C=S===void 0?Qd:S,N=v.areStatePropsEqual,D=N===void 0?Qd:N,P=v.areMergedPropsEqual,j=P===void 0?Qd:P,A=nc(v,XN),I=Yd(p,o,"mapStateToProps"),R=Yd(h,l,"mapDispatchToProps"),$=Yd(y,u,"mergeProps");return r(c,pe({methodName:"connect",getDisplayName:function(z){return"Connect("+z+")"},shouldHandleStateChanges:!!p,initMapStateToProps:I,initMapDispatchToProps:R,initMergeProps:$,pure:m,areStatesEqual:k,areOwnPropsEqual:C,areStatePropsEqual:D,areMergedPropsEqual:j},A))}}const lS=eD();JT(vg.unstable_batchedUpdates);function tD(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function sS(e,t){var n=E.useState(function(){return{inputs:t,result:e()}})[0],r=E.useRef(!0),i=E.useRef(n),o=r.current||!!(t&&i.current.inputs&&tD(t,i.current.inputs)),a=o?i.current:{inputs:t,result:e()};return E.useEffect(function(){r.current=!1,i.current=a},[a]),a.result}function nD(e,t){return sS(function(){return e},t)}var Pe=sS,se=nD,rD="Invariant failed";function iD(e,t){throw new Error(rD)}var Nn=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,a=r-o,l=i-n,s={top:n,right:r,bottom:i,left:o,width:a,height:l,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return s},Wg=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Fy=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},oD=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Jd={top:0,right:0,bottom:0,left:0},Gg=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Jd:r,o=t.border,a=o===void 0?Jd:o,l=t.padding,s=l===void 0?Jd:l,u=Nn(Wg(n,i)),d=Nn(Fy(n,a)),c=Nn(Fy(d,s));return{marginBox:u,borderBox:Nn(n),paddingBox:d,contentBox:c,margin:i,border:a,padding:s}},ln=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&iD(),i},aD=function(){return{x:window.pageXOffset,y:window.pageYOffset}},rc=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,a=t.padding,l=oD(r,n);return Gg({borderBox:l,border:i,margin:o,padding:a})},ic=function(t,n){return n===void 0&&(n=aD()),rc(t,n)},uS=function(t,n){var r={top:ln(n.marginTop),right:ln(n.marginRight),bottom:ln(n.marginBottom),left:ln(n.marginLeft)},i={top:ln(n.paddingTop),right:ln(n.paddingRight),bottom:ln(n.paddingBottom),left:ln(n.paddingLeft)},o={top:ln(n.borderTopWidth),right:ln(n.borderRightWidth),bottom:ln(n.borderBottomWidth),left:ln(n.borderLeftWidth)};return Gg({borderBox:t,margin:r,padding:i,border:o})},cS=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return uS(n,r)},Ly=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function lD(e,t){return!!(e===t||Ly(e)&&Ly(t))}function sD(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!lD(e[n],t[n]))return!1;return!0}function ut(e,t){t===void 0&&(t=sD);var n,r=[],i,o=!1;function a(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return o&&n===this&&t(l,r)||(i=e.apply(this,l),o=!0,n=this,r=l),i}return a}var Al=function(t){var n=[],r=null,i=function(){for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function dS(e,t){}dS.bind(null,"warn");dS.bind(null,"error");function Vr(){}function uD(e,t){return pe({},e,{},t)}function mn(e,t,n){var r=t.map(function(i){var o=uD(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var cD="Invariant failed";function oc(e){this.message=e}oc.prototype.toString=function(){return this.message};function re(e,t){throw new oc(cD)}var dD=function(e){Hb(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,r.callbacks=null,r.unbind=Vr,r.onWindowError=function(l){var s=r.getCallbacks();s.isDragging()&&s.tryAbort();var u=l.error;u instanceof oc&&l.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(l){r.callbacks=l},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=mn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof oc){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(xe.Component),fD=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ac=function(t){return t+1},pD=function(t){return`
  You have lifted an item in position `+ac(t.source.index)+`
`},fS=function(t,n){var r=t.droppableId===n.droppableId,i=ac(t.index),o=ac(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},pS=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},hD=function(t){var n=t.destination;if(n)return fS(t.source,n);var r=t.combine;return r?pS(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},My=function(t){return`
  The item has returned to its starting position
  of `+ac(t.index)+`
`},gD=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+My(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+fS(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+pS(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+My(t.source)+`
  `},vu={dragHandleUsageInstructions:fD,onDragStart:pD,onDragUpdate:hD,onDragEnd:gD},ct={x:0,y:0},mt=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},Yt=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Wr=function(t,n){return t.x===n.x&&t.y===n.y},ta=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Ri=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},Tl=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},By=function(t,n){return Math.min.apply(Math,n.map(function(r){return Tl(t,r)}))},hS=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},mD=function(e,t){var n=Nn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},is=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},zy=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},vD={top:0,right:0,bottom:0,left:0},yD=function(t,n){return n?is(t,n.scroll.diff.displacement):t},wD=function(t,n,r){if(r&&r.increasedBy){var i;return pe({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},xD=function(t,n){return n&&n.shouldClipSubject?mD(n.pageMarginBox,t):Nn(t)},Mo=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=yD(t.marginBox,i),a=wD(o,r,n),l=xD(a,i);return{page:t,withPlaceholder:n,active:l}},Kg=function(e,t){e.frame||re();var n=e.frame,r=Yt(t,n.scroll.initial),i=ta(r),o=pe({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),a=Mo({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),l=pe({},e,{frame:o,subject:a});return l};function lc(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Qg(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function ri(e,t){if(e.find)return e.find(t);var n=Qg(e,t);if(n!==-1)return e[n]}function gS(e){return Array.prototype.slice.call(e)}var mS=ut(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),vS=ut(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Yc=ut(function(e){return lc(e)}),bD=ut(function(e){return lc(e)}),na=ut(function(e,t){var n=bD(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function Yg(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Jc(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Xc=ut(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),SD=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;var a=Yg(o);if(!a)return null;function l(y){var w={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return pe({},o,{at:w})}var s=o.displaced.all,u=s.length?s[0]:null;if(t)return u?l(u):null;var d=Xc(n,i);if(!u){if(!d.length)return null;var c=d[d.length-1];return l(c.descriptor.id)}var f=Qg(d,function(y){return y.descriptor.id===u});f===-1&&re();var p=f-1;if(p<0)return null;var h=d[p];return l(h.descriptor.id)},ra=function(e,t){return e.descriptor.droppableId===t.descriptor.id},yS={point:ct,value:0},Nl={invisible:{},visible:{},all:[]},kD={displaced:Nl,displacedBy:yS,at:null},yn=function(e,t){return function(n){return e<=n&&n<=t}},wS=function(e){var t=yn(e.top,e.bottom),n=yn(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right),l=o&&a;if(l)return!0;var s=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right,d=s&&u;if(d)return!0;var c=s&&a||u&&o;return c}},ED=function(e){var t=yn(e.top,e.bottom),n=yn(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},Jg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xS={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},CD=function(e){return function(t){var n=yn(t.top,t.bottom),r=yn(t.left,t.right);return function(i){return e===Jg?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},ID=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:ct;return is(t,r)},PD=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},AD=function(t,n,r){return r(n)(t)},Xg=function(t){var n=t.target,r=t.destination,i=t.viewport,o=t.withDroppableDisplacement,a=t.isVisibleThroughFrameFn,l=o?ID(n,r):n;return PD(l,r,a)&&AD(l,i,a)},TD=function(t){return Xg(pe({},t,{isVisibleThroughFrameFn:wS}))},bS=function(t){return Xg(pe({},t,{isVisibleThroughFrameFn:ED}))},ND=function(t){return Xg(pe({},t,{isVisibleThroughFrameFn:CD(t.destination.axis)}))},DD=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[t])return!1;var a=o[t];return a?a.shouldAnimate:!0};function RD(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Nn(Wg(n,r))}function Dl(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce(function(s,u){var d=RD(u,r),c=u.descriptor.id;s.all.push(c);var f=TD({target:d,destination:n,viewport:i,withDroppableDisplacement:!0});if(!f)return s.invisible[u.descriptor.id]=!0,s;var p=DD(c,a,o),h={draggableId:c,shouldAnimate:p};return s.visible[c]=h,s},{all:[],visible:{},invisible:{}})}function jD(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function Uy(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=jD(t,{inHomeList:n});return{displaced:Nl,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function sc(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,l=e.index,s=e.forceShouldAnimate,u=ra(t,r);if(l==null)return Uy({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var d=ri(n,function(y){return y.descriptor.index===l});if(!d)return Uy({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var c=Xc(t,n),f=n.indexOf(d),p=c.slice(f),h=Dl({afterDragging:p,destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:s});return{displaced:h,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function Zr(e,t){return!!t.effected[e]}var OD=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,l=r[a],s=l.descriptor.index,u=Zr(a,o);return u?t?s:s-1:t?s+1:s},$D=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,l=r[0].descriptor.index,s=r[r.length-1].descriptor.index,u=n?s:s+1;return a<l||a>u?null:a},_D=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,l=e.previousImpact,s=e.viewport,u=e.afterCritical,d=l.at;if(d||re(),d.type==="REORDER"){var c=$D({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:a});return c==null?null:sc({draggable:r,insideDestination:a,destination:o,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:c})}var f=OD({isMovingForward:t,destination:o,displaced:l.displaced,draggables:i,combine:d.combine,afterCritical:u});return f==null?null:sc({draggable:r,insideDestination:a,destination:o,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:f})},FD=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=!!(t.visible[r]||t.invisible[r]);return Zr(r,n)?o?ct:ta(i.point):o?i.point:ct},LD=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=Jc(n);i||re();var o=i.draggableId,a=r[o].page.borderBox.center,l=FD({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return mt(a,l)},SS=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},MD=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},Zg=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},Hy=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Ri(n.line,r.marginBox[n.end]+SS(n,i),Zg(n,r.marginBox,i))},qy=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Ri(n.line,r.marginBox[n.start]-MD(n,i),Zg(n,r.marginBox,i))},BD=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return Ri(n.line,r.contentBox[n.start]+SS(n,i),Zg(n,r.contentBox,i))},zD=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=na(i.descriptor.id,r),l=n.page,s=i.axis;if(!a.length)return BD({axis:s,moveInto:i.page,isMoving:l});var u=t.displaced,d=t.displacedBy,c=u.all[0];if(c){var f=r[c];if(Zr(c,o))return qy({axis:s,moveRelativeTo:f.page,isMoving:l});var p=rc(f.page,d.point);return qy({axis:s,moveRelativeTo:p,isMoving:l})}var h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return l.borderBox.center;if(Zr(h.descriptor.id,o)){var y=rc(h.page,ta(o.displacedBy.point));return Hy({axis:s,moveRelativeTo:y,isMoving:l})}return Hy({axis:s,moveRelativeTo:h.page,isMoving:l})},Zp=function(e,t){var n=e.frame;return n?mt(t,n.scroll.diff.displacement):t},UD=function(t){var n=t.impact,r=t.draggable,i=t.droppable,o=t.draggables,a=t.afterCritical,l=r.page.borderBox.center,s=n.at;return!i||!s?l:s.type==="REORDER"?zD({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:a}):LD({impact:n,draggables:o,afterCritical:a})},Zc=function(e){var t=UD(e),n=e.droppable,r=n?Zp(n,t):t;return r},kS=function(e,t){var n=Yt(t,e.scroll.initial),r=ta(n),i=Nn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return o};function Vy(e,t){return e.map(function(n){return t[n]})}function HD(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var qD=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=kS(n,mt(n.scroll.current,o)),l=r.frame?Kg(r,mt(r.frame.scroll.current,o)):r,s=t.displaced,u=Dl({afterDragging:Vy(s.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:s,forceShouldAnimate:!1}),d=Dl({afterDragging:Vy(s.all,i),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:s,forceShouldAnimate:!1}),c={},f={},p=[s,u,d];s.all.forEach(function(y){var w=HD(y,p);if(w){f[y]=w;return}c[y]=!0});var h=pe({},t,{displaced:{all:s.all,invisible:c,visible:f}});return h},VD=function(e,t){return mt(e.scroll.diff.displacement,t)},em=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=VD(r,t),o=Yt(i,n.page.borderBox.center);return mt(n.client.borderBox.center,o)},ES=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=a===void 0?!1:a,s=Yt(r,t.page.borderBox.center),u=is(t.page.borderBox,s),d={target:u,destination:n,withDroppableDisplacement:o,viewport:i};return l?ND(d):bS(d)},WD=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,s=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var d=na(r.descriptor.id,i),c=ra(n,r),f=SD({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:o})||_D({isMovingForward:t,isInHomeList:c,draggable:n,draggables:i,destination:r,insideDestination:d,previousImpact:o,viewport:a,afterCritical:u});if(!f)return null;var p=Zc({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:u}),h=ES({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(h){var y=em({pageBorderBoxCenter:p,draggable:n,viewport:a});return{clientSelection:y,impact:f,scrollJumpRequest:null}}var w=Yt(p,l),v=qD({impact:f,viewport:a,destination:r,draggables:i,maxScrollChange:w});return{clientSelection:s,impact:v,scrollJumpRequest:w}},At=function(t){var n=t.subject.active;return n||re(),n},GD=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var l=r.axis,s=yn(a[l.start],a[l.end]),u=Yc(i).filter(function(c){return c!==r}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return wS(o.frame)(At(c))}).filter(function(c){var f=At(c);return t?a[l.crossAxisEnd]<f[l.crossAxisEnd]:f[l.crossAxisStart]<a[l.crossAxisStart]}).filter(function(c){var f=At(c),p=yn(f[l.start],f[l.end]);return s(f[l.start])||s(f[l.end])||p(a[l.start])||p(a[l.end])}).sort(function(c,f){var p=At(c)[l.crossAxisStart],h=At(f)[l.crossAxisStart];return t?p-h:h-p}).filter(function(c,f,p){return At(c)[l.crossAxisStart]===At(p[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(c){var f=yn(At(c)[l.start],At(c)[l.end]);return f(n[l.line])});return d.length===1?d[0]:d.length>1?d.sort(function(c,f){return At(c)[l.start]-At(f)[l.start]})[0]:u.sort(function(c,f){var p=By(n,zy(At(c))),h=By(n,zy(At(f)));return p!==h?p-h:At(c)[l.start]-At(f)[l.start]})[0]},Wy=function(t,n){var r=t.page.borderBox.center;return Zr(t.descriptor.id,n)?Yt(r,n.displacedBy.point):r},KD=function(t,n){var r=t.page.borderBox;return Zr(t.descriptor.id,n)?is(r,ta(n.displacedBy.point)):r},QD=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter(function(l){return bS({target:KD(l,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(l,s){var u=Tl(t,Zp(r,Wy(l,o))),d=Tl(t,Zp(r,Wy(s,o)));return u<d?-1:d<u?1:l.descriptor.index-s.descriptor.index});return a[0]||null},os=ut(function(t,n){var r=n[t.line];return{value:r,point:Ri(t.line,r)}}),YD=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return Ri(i.line,n[i.line]);var o=t.subject.page.contentBox[i.size],a=na(t.descriptor.id,r),l=a.reduce(function(d,c){return d+c.client.marginBox[i.size]},0),s=l+n[i.line],u=s-o;return u<=0?null:Ri(i.line,u)},CS=function(t,n){return pe({},t,{scroll:pe({},t.scroll,{max:n})})},IS=function(t,n,r){var i=t.frame;ra(n,t)&&re(),t.subject.withPlaceholder&&re();var o=os(t.axis,n.displaceBy).point,a=YD(t,o,r),l={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var s=Mo({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return pe({},t,{subject:s})}var u=a?mt(i.scroll.max,a):i.scroll.max,d=CS(i,u),c=Mo({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:d});return pe({},t,{subject:c,frame:d})},JD=function(t){var n=t.subject.withPlaceholder;n||re();var r=t.frame;if(!r){var i=Mo({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return pe({},t,{subject:i})}var o=n.oldFrameMaxScroll;o||re();var a=CS(r,o),l=Mo({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return pe({},t,{subject:l,frame:a})},XD=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,l=e.viewport,s=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:Nl,displacedBy:yS,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},d=Zc({impact:u,draggable:i,droppable:a,draggables:o,afterCritical:s}),c=ra(i,a)?a:IS(a,i,o),f=ES({draggable:i,destination:c,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?u:null}var p=t[a.axis.line]<=n.page.borderBox.center[a.axis.line],h=function(){var w=n.descriptor.index;return n.descriptor.id===i.descriptor.id||p?w:w+1}(),y=os(a.axis,i.displaceBy);return sc({draggable:i,insideDestination:r,destination:a,viewport:l,displacedBy:y,last:Nl,index:h})},ZD=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,l=e.viewport,s=e.afterCritical,u=GD({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:l});if(!u)return null;var d=na(u.descriptor.id,o),c=QD({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:d,afterCritical:s}),f=XD({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:c,insideDestination:d,viewport:l,afterCritical:s});if(!f)return null;var p=Zc({impact:f,draggable:r,droppable:u,draggables:o,afterCritical:s}),h=em({pageBorderBoxCenter:p,draggable:r,viewport:l});return{clientSelection:h,impact:f,scrollJumpRequest:null}},Xt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},eR=function(t,n){var r=Xt(t);return r?n[r]:null},tR=function(e){var t=e.state,n=e.type,r=eR(t.impact,t.dimensions.droppables),i=!!r,o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,l=a.axis.direction,s=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(s&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],c=t.current.page.borderBoxCenter,f=t.dimensions,p=f.draggables,h=f.droppables;return s?WD({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:d,destination:a,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):ZD({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:d,isOver:a,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function di(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function PS(e){var t=yn(e.top,e.bottom),n=yn(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function nR(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function rR(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map(function(a){var l=a.axis,s=Ri(a.axis.line,t.center[l.line],a.page.borderBox.center[l.crossAxisLine]);return{id:a.descriptor.id,distance:Tl(i,s)}}).sort(function(a,l){return l.distance-a.distance});return o[0]?o[0].id:null}function iR(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=Yc(r).filter(function(o){if(!o.isEnabled)return!1;var a=o.subject.active;if(!a||!nR(t,a))return!1;if(PS(a)(t.center))return!0;var l=o.axis,s=a.center[l.crossAxisLine],u=t[l.crossAxisStart],d=t[l.crossAxisEnd],c=yn(a[l.crossAxisStart],a[l.crossAxisEnd]),f=c(u),p=c(d);return!f&&!p?!0:f?u<s:d>s});return i.length?i.length===1?i[0].descriptor.id:rR({pageBorderBox:t,draggable:n,candidates:i}):null}var AS=function(t,n){return Nn(is(t,n))},oR=function(e,t){var n=e.frame;return n?AS(t,n.scroll.diff.value):t};function TS(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function aR(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var lR=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,l=e.afterCritical,s=r.axis,u=os(r.axis,n.displaceBy),d=u.value,c=t[s.start],f=t[s.end],p=Xc(n,i),h=ri(p,function(w){var v=w.descriptor.id,g=w.page.borderBox.center[s.line],m=Zr(v,l),b=TS({displaced:o,id:v});return m?b?f<=g:c<g-d:b?f<=g+d:c<g}),y=aR({draggable:n,closest:h,inHomeList:ra(n,r)});return sc({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:u,index:y})},sR=4,uR=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var l=i.axis,s=os(i.axis,t.displaceBy),u=s.value,d=n[l.start],c=n[l.end],f=Xc(t,o),p=ri(f,function(y){var w=y.descriptor.id,v=y.page.borderBox,g=v[l.size],m=g/sR,b=Zr(w,a),k=TS({displaced:r.displaced,id:w});return b?k?c>v[l.start]+m&&c<v[l.end]-m:d>v[l.start]-u+m&&d<v[l.end]-u-m:k?c>v[l.start]+u+m&&c<v[l.end]+u-m:d>v[l.start]+m&&d<v[l.end]-m});if(!p)return null;var h={displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}};return h},NS=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,l=e.afterCritical,s=AS(n.page.borderBox,t),u=iR({pageBorderBox:s,draggable:n,droppables:i});if(!u)return kD;var d=i[u],c=na(d.descriptor.id,r),f=oR(d,s);return uR({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:d,insideDestination:c,afterCritical:l})||lR({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:d,insideDestination:c,last:o.displaced,viewport:a,afterCritical:l})},tm=function(e,t){var n;return pe({},e,(n={},n[t.descriptor.id]=t,n))},cR=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,o=Xt(n),a=Xt(r);if(!o||o===a)return i;var l=i[o];if(!l.subject.withPlaceholder)return i;var s=JD(l);return tm(i,s)},dR=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=cR({previousImpact:i,impact:o,droppables:r}),l=Xt(o);if(!l)return a;var s=r[l];if(ra(t,s)||s.subject.withPlaceholder)return a;var u=IS(s,t,n);return tm(a,u)},Qa=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,l=i||t.viewport,s=r||t.dimensions,u=n||t.current.client.selection,d=Yt(u,t.initial.client.selection),c={offset:d,selection:u,borderBoxCenter:mt(t.initial.client.borderBoxCenter,d)},f={selection:mt(c.selection,l.scroll.current),borderBoxCenter:mt(c.borderBoxCenter,l.scroll.current),offset:mt(c.offset,l.scroll.diff.value)},p={client:c,page:f};if(t.phase==="COLLECTING")return pe({phase:"COLLECTING"},t,{dimensions:s,viewport:l,current:p});var h=s.draggables[t.critical.draggable.id],y=o||NS({pageOffset:f.offset,draggable:h,draggables:s.draggables,droppables:s.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),w=dR({draggable:h,impact:y,previousImpact:t.impact,draggables:s.draggables,droppables:s.droppables}),v=pe({},t,{current:p,dimensions:{draggables:s.draggables,droppables:w},impact:y,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return v};function fR(e,t){return e.map(function(n){return t[n]})}var DS=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,l=fR(a.all,r),s=Dl({afterDragging:l,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return pe({},t,{displaced:s})},RS=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,l=Zc({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return em({pageBorderBoxCenter:l,draggable:n,viewport:o})},jS=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&re();var i=t.impact,o=r||t.viewport,a=n||t.dimensions,l=a.draggables,s=a.droppables,u=l[t.critical.draggable.id],d=Xt(i);d||re();var c=s[d],f=DS({impact:i,viewport:o,destination:c,draggables:l}),p=RS({impact:f,draggable:u,droppable:c,draggables:l,viewport:o,afterCritical:t.afterCritical});return Qa({impact:f,clientSelection:p,state:t,dimensions:a,viewport:o})},pR=function(e){return{index:e.index,droppableId:e.droppableId}},OS=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=os(n.axis,t.displaceBy),a=na(n.descriptor.id,r),l=a.indexOf(t);l===-1&&re();var s=a.slice(l+1),u=s.reduce(function(p,h){return p[h.descriptor.id]=!0,p},{}),d={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u},c=Dl({afterDragging:s,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:c,displacedBy:o,at:{type:"REORDER",destination:pR(t.descriptor)}};return{impact:f,afterCritical:d}},hR=function(e,t){return{draggables:e.draggables,droppables:tm(e.droppables,t)}},gR=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=rc(t.client,n),o=ic(i,r),a=pe({},t,{placeholder:pe({},t.placeholder,{client:i}),client:i,page:o});return a},mR=function(e){var t=e.frame;return t||re(),t},vR=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(o){var a=o.descriptor.droppableId,l=n[a],s=mR(l),u=s.scroll.diff.value,d=mt(i,u),c=gR({draggable:o,offset:d,initialWindowScroll:r.scroll.initial});return c})},yR=function(e){var t=e.state,n=e.published,r=n.modified.map(function(m){var b=t.dimensions.droppables[m.droppableId],k=Kg(b,m.scroll);return k}),i=pe({},t.dimensions.droppables,{},mS(r)),o=vS(vR({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=pe({},t.dimensions.draggables,{},o);n.removals.forEach(function(m){delete a[m]});var l={droppables:i,draggables:a},s=Xt(t.impact),u=s?l.droppables[s]:null,d=l.draggables[t.critical.draggable.id],c=l.droppables[t.critical.droppable.id],f=OS({draggable:d,home:c,draggables:a,viewport:t.viewport}),p=f.impact,h=f.afterCritical,y=u&&u.isCombineEnabled?t.impact:p,w=NS({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:t.viewport,afterCritical:h}),v=pe({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:w,onLiftImpact:p,dimensions:l,afterCritical:h,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return v;var g=pe({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return g},eh=function(t){return t.movementMode==="SNAP"},Xd=function(t,n,r){var i=hR(t.dimensions,n);return!eh(t)||r?Qa({state:t,dimensions:i}):jS({state:t,dimensions:i})};function Zd(e){return e.isDragging&&e.movementMode==="SNAP"?pe({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Gy={phase:"IDLE",completed:null,shouldFlush:!1},wR=function(e,t){if(e===void 0&&(e=Gy),t.type==="FLUSH")return pe({},Gy,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&re();var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,l=n.movementMode,s=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],d={selection:i,borderBoxCenter:s.client.borderBox.center,offset:ct},c={client:d,page:{selection:mt(d.selection,o.scroll.initial),borderBoxCenter:mt(d.selection,o.scroll.initial),offset:mt(d.selection,o.scroll.diff.value)}},f=Yc(a.droppables).every(function(oe){return!oe.isFixedOnPage}),p=OS({draggable:s,home:u,draggables:a.draggables,viewport:o}),h=p.impact,y=p.afterCritical,w={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:a,initial:c,current:c,isWindowScrollAllowed:f,impact:h,afterCritical:y,onLiftImpact:h,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return w}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&re();var v=pe({phase:"COLLECTING"},e,{phase:"COLLECTING"});return v}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||re(),yR({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;di(e)||re();var g=t.payload.client;return Wr(g,e.current.client.selection)?e:Qa({state:e,clientSelection:g,impact:eh(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Zd(e);di(e)||re();var m=t.payload,b=m.id,k=m.newScroll,S=e.dimensions.droppables[b];if(!S)return e;var C=Kg(S,k);return Xd(e,C,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;di(e)||re();var N=t.payload,D=N.id,P=N.isEnabled,j=e.dimensions.droppables[D];j||re(),j.isEnabled===P&&re();var A=pe({},j,{isEnabled:P});return Xd(e,A,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;di(e)||re();var I=t.payload,R=I.id,$=I.isCombineEnabled,q=e.dimensions.droppables[R];q||re(),q.isCombineEnabled===$&&re();var z=pe({},q,{isCombineEnabled:$});return Xd(e,z,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;di(e)||re(),e.isWindowScrollAllowed||re();var _=t.payload.newScroll;if(Wr(e.viewport.scroll.current,_))return Zd(e);var U=kS(e.viewport,_);return eh(e)?jS({state:e,viewport:U}):Qa({state:e,viewport:U})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!di(e))return e;var T=t.payload.maxScroll;if(Wr(T,e.viewport.scroll.max))return e;var W=pe({},e.viewport,{scroll:pe({},e.viewport.scroll,{max:T})});return pe({phase:"DRAGGING"},e,{viewport:W})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&re();var K=tR({state:e,type:t.type});return K?Qa({state:e,impact:K.impact,clientSelection:K.clientSelection,scrollJumpRequest:K.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var O=t.payload.reason;e.phase!=="COLLECTING"&&re();var B=pe({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:O});return B}if(t.type==="DROP_ANIMATE"){var L=t.payload,F=L.completed,H=L.dropDuration,G=L.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||re();var Z={phase:"DROP_ANIMATING",completed:F,dropDuration:H,newHomeClientOffset:G,dimensions:e.dimensions};return Z}if(t.type==="DROP_COMPLETE"){var V=t.payload.completed;return{phase:"IDLE",completed:V,shouldFlush:!1}}return e},xR=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},bR=function(t){return{type:"LIFT",payload:t}},SR=function(t){return{type:"INITIAL_PUBLISH",payload:t}},kR=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},ER=function(){return{type:"COLLECTION_STARTING",payload:null}},CR=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},IR=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},PR=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},$S=function(t){return{type:"MOVE",payload:t}},AR=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},TR=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},NR=function(){return{type:"MOVE_UP",payload:null}},DR=function(){return{type:"MOVE_DOWN",payload:null}},RR=function(){return{type:"MOVE_RIGHT",payload:null}},jR=function(){return{type:"MOVE_LEFT",payload:null}},nm=function(){return{type:"FLUSH",payload:null}},OR=function(t){return{type:"DROP_ANIMATE",payload:t}},rm=function(t){return{type:"DROP_COMPLETE",payload:t}},_S=function(t){return{type:"DROP",payload:t}},$R=function(t){return{type:"DROP_PENDING",payload:t}},FS=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},_R=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var a=o.payload,l=a.id,s=a.clientSelection,u=a.movementMode,d=n();d.phase==="DROP_ANIMATING"&&r(rm({completed:d.completed})),n().phase!=="IDLE"&&re(),r(nm()),r(xR({draggableId:l,movementMode:u}));var c={shouldPublishImmediately:u==="SNAP"},f={draggableId:l,scrollOptions:c},p=e.startPublishing(f),h=p.critical,y=p.dimensions,w=p.viewport;r(SR({critical:h,dimensions:y,clientSelection:s,movementMode:u,viewport:w}))}}}},FR=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},im={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Rl={opacity:{drop:0,combining:.7},scale:{drop:.75}},om={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},li=om.outOfTheWay+"s "+im.outOfTheWay,Ya={fluid:"opacity "+li,snap:"transform "+li+", opacity "+li,drop:function(t){var n=t+"s "+im.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+li,placeholder:"height "+li+", width "+li+", margin "+li},Ky=function(t){return Wr(t,ct)?null:"translate("+t.x+"px, "+t.y+"px)"},th={moveTo:Ky,drop:function(t,n){var r=Ky(t);return r?n?r+" scale("+Rl.scale.drop+")":r:null}},nh=om.minDropTime,LS=om.maxDropTime,LR=LS-nh,Qy=1500,MR=.6,BR=function(e){var t=e.current,n=e.destination,r=e.reason,i=Tl(t,n);if(i<=0)return nh;if(i>=Qy)return LS;var o=i/Qy,a=nh+LR*o,l=r==="CANCEL"?a*MR:a;return Number(l.toFixed(2))},zR=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,l=r.droppables,s=Xt(t),u=s?l[s]:null,d=l[n.descriptor.droppableId],c=RS({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:u||d,viewport:i}),f=Yt(c,n.client.borderBox.center);return f},UR=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;if(!r.at||n!=="DROP"){var l=DS({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var s=pe({},r,{displaced:Nl});return{impact:s,didDropInsideDroppable:!0}},HR=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=t(),a=i.payload.reason;if(o.phase==="COLLECTING"){n($R({reason:a}));return}if(o.phase!=="IDLE"){var l=o.phase==="DROP_PENDING"&&o.isWaiting;l&&re(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||re();var s=o.critical,u=o.dimensions,d=u.draggables[o.critical.draggable.id],c=UR({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=c.impact,p=c.didDropInsideDroppable,h=p?Yg(f):null,y=p?Jc(f):null,w={index:s.draggable.index,droppableId:s.droppable.id},v={draggableId:d.descriptor.id,type:d.descriptor.type,source:w,reason:a,mode:o.movementMode,destination:h,combine:y},g=zR({impact:f,draggable:d,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),m={critical:o.critical,afterCritical:o.afterCritical,result:v,impact:f},b=!Wr(o.current.client.offset,g)||!!v.combine;if(!b){n(rm({completed:m}));return}var k=BR({current:o.current.client.offset,destination:g,reason:a}),S={newHomeClientOffset:g,dropDuration:k,completed:m};n(OR(S))}}}},MS=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function qR(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function VR(e){var t=e.onWindowScroll;function n(){t(MS())}var r=Al(n),i=qR(r),o=Vr;function a(){return o!==Vr}function l(){a()&&re(),o=mn(window,[i])}function s(){a()||re(),r.cancel(),o(),o=Vr}return{start:l,stop:s,isActive:a}}var WR=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},GR=function(e){var t=VR({onWindowScroll:function(r){e.dispatch(AR({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&WR(r)&&t.stop(),n(r)}}},KR=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=function(){return t},i},QR=function(){var e=[],t=function(o){var a=Qg(e,function(u){return u.timerId===o});a===-1&&re();var l=e.splice(a,1),s=l[0];s.callback()},n=function(o){var a=setTimeout(function(){return t(a)}),l={timerId:a,callback:o};e.push(l)},r=function(){if(e.length){var o=[].concat(e);e.length=0,o.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:n,flush:r}},YR=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},JR=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},XR=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},ba=function(t,n){n()},Bs=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},ef=function(t,n,r,i){if(!t){r(i(n));return}var o=KR(r),a={announce:o};t(n,a),o.wasCalled()||r(i(n))},ZR=function(e,t){var n=QR(),r=null,i=function(f,p){r&&re(),ba("onBeforeCapture",function(){var h=e().onBeforeCapture;if(h){var y={draggableId:f,mode:p};h(y)}})},o=function(f,p){r&&re(),ba("onBeforeDragStart",function(){var h=e().onBeforeDragStart;h&&h(Bs(f,p))})},a=function(f,p){r&&re();var h=Bs(f,p);r={mode:p,lastCritical:f,lastLocation:h.source,lastCombine:null},n.add(function(){ba("onDragStart",function(){return ef(e().onDragStart,h,t,vu.onDragStart)})})},l=function(f,p){var h=Yg(p),y=Jc(p);r||re();var w=!XR(f,r.lastCritical);w&&(r.lastCritical=f);var v=!YR(r.lastLocation,h);v&&(r.lastLocation=h);var g=!JR(r.lastCombine,y);if(g&&(r.lastCombine=y),!(!w&&!v&&!g)){var m=pe({},Bs(f,r.mode),{combine:y,destination:h});n.add(function(){ba("onDragUpdate",function(){return ef(e().onDragUpdate,m,t,vu.onDragUpdate)})})}},s=function(){r||re(),n.flush()},u=function(f){r||re(),r=null,ba("onDragEnd",function(){return ef(e().onDragEnd,f,t,vu.onDragEnd)})},d=function(){if(r){var f=pe({},Bs(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(f)}};return{beforeCapture:i,beforeStart:o,start:a,update:l,flush:s,drop:u,abort:d}},e4=function(e,t){var n=ZR(e,t);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var l=o.payload.completed.result;n.flush(),i(o),n.drop(l);return}if(i(o),o.type==="FLUSH"){n.abort();return}var s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}}}},t4=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&re(),e.dispatch(rm({completed:r.completed}))}}},n4=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var s=e.getState();s.phase==="DROP_ANIMATING"&&e.dispatch(FS())}};n=requestAnimationFrame(function(){n=null,t=mn(window,[a])})}}}},r4=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},i4=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},o4=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},a4=function(e){return function(t){return function(n){return function(r){if(o4(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&re(),e.start(i);return}n(r),e.scroll(t.getState())}}}},l4=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(_S({reason:r.reason})))}}}},s4=Vb,u4=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,o=e.announce,a=e.autoScroller;return qb(wR,s4(QT(FR(r),r4(t),_R(t),HR,t4,n4,l4,a4(a),GR,i4(n),e4(i,o))))},tf=function(){return{additions:{},removals:{},modified:{}}};function c4(e){var t=e.registry,n=e.callbacks,r=tf(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var d=r,c=d.additions,f=d.removals,p=d.modified,h=Object.keys(c).map(function(v){return t.draggable.getById(v).getDimension(ct)}).sort(function(v,g){return v.descriptor.index-g.descriptor.index}),y=Object.keys(p).map(function(v){var g=t.droppable.getById(v),m=g.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:m}}),w={additions:h,removals:Object.keys(f),modified:y};r=tf(),n.publish(w)}))},a=function(d){var c=d.descriptor.id;r.additions[c]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],o()},l=function(d){var c=d.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],o()},s=function(){i&&(cancelAnimationFrame(i),i=null,r=tf())};return{add:a,remove:l,stop:s}}var BS=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=Yt({x:n,y:t},{x:i,y:r}),a={x:Math.max(0,o.x),y:Math.max(0,o.y)};return a},zS=function(){var e=document.documentElement;return e||re(),e},US=function(){var e=zS(),t=BS({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},d4=function(){var e=MS(),t=US(),n=e.y,r=e.x,i=zS(),o=i.clientWidth,a=i.clientHeight,l=r+o,s=n+a,u=Nn({top:n,left:r,right:l,bottom:s}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:ct,displacement:ct}}};return d},f4=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=d4(),o=i.scroll.current,a=t.droppable,l=r.droppable.getAllByType(a.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(o,n)}),s=r.draggable.getAllByType(t.draggable.type).map(function(c){return c.getDimension(o)}),u={draggables:vS(s),droppables:mS(l)},d={dimensions:u,critical:t,viewport:i};return d};function Yy(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var p4=function(e,t){var n=null,r=c4({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(p,h){e.droppable.exists(p)||re(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:h})},o=function(p,h){n&&(e.droppable.exists(p)||re(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:h}))},a=function(p,h){n&&(e.droppable.exists(p)||re(),t.updateDroppableScroll({id:p,newScroll:h}))},l=function(p,h){n&&e.droppable.getById(p).callbacks.scroll(h)},s=function(){if(n){r.stop();var p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(h){return h.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(p){n||re();var h=n.critical.draggable;p.type==="ADDITION"&&Yy(e,h,p.value)&&r.add(p.value),p.type==="REMOVAL"&&Yy(e,h,p.value)&&r.remove(p.value)},d=function(p){n&&re();var h=e.draggable.getById(p.draggableId),y=e.droppable.getById(h.descriptor.droppableId),w={draggable:h.descriptor,droppable:y.descriptor},v=e.subscribe(u);return n={critical:w,unsubscribe:v},f4({critical:w,registry:e,scrollOptions:p.scrollOptions})},c={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:l,updateDroppableScroll:a,startPublishing:d,stopPublishing:s};return c},HS=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},h4=function(e){window.scrollBy(e.x,e.y)},g4=ut(function(e){return Yc(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),m4=function(t,n){var r=ri(g4(n),function(i){return i.frame||re(),PS(i.frame.pageMarginBox)(t)});return r},v4=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=m4(t,r);return o},Gr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},y4=function(e,t){var n=e[t.size]*Gr.startFromPercentage,r=e[t.size]*Gr.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},qS=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var o=r-t,a=o/i;return a},am=1,w4=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Gr.maxPixelScroll;if(e===t.startScrollingFrom)return am;var n=qS({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=Gr.maxPixelScroll*Gr.ease(r);return Math.ceil(i)},Jy=Gr.durationDampening.accelerateAt,Xy=Gr.durationDampening.stopDampeningAt,x4=function(e,t){var n=t,r=Xy,i=Date.now(),o=i-n;if(o>=Xy)return e;if(o<Jy)return am;var a=qS({startOfRange:Jy,endOfRange:r,current:o}),l=e*Gr.ease(a);return Math.ceil(l)},Zy=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=w4(t,n);return o===0?0:i?Math.max(x4(o,r),am):o},e0=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=y4(t,i),l=n[i.end]<n[i.start];return l?Zy({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*Zy({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},b4=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},S4=hS(function(e){return e===0?0:e}),VS=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=e0({container:n,distanceToEdges:a,dragStartTime:t,axis:Jg,shouldUseTimeDampening:o}),s=e0({container:n,distanceToEdges:a,dragStartTime:t,axis:xS,shouldUseTimeDampening:o}),u=S4({x:s,y:l});if(Wr(u,ct))return null;var d=b4({container:n,subject:r,proposedScroll:u});return d?Wr(d,ct)?null:d:null},k4=hS(function(e){return e===0?0:e>0?1:-1}),lm=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,o=mt(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return Wr(a,ct)?null:a}}(),WS=function(t){var n=t.max,r=t.current,i=t.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},a=k4(i),l=lm({max:o,current:r,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},sm=function(t,n){return WS({current:t.scroll.current,max:t.scroll.max,change:n})},E4=function(t,n){if(!sm(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return lm({current:i,max:r,change:n})},um=function(t,n){var r=t.frame;return r?WS({current:r.scroll.current,max:r.scroll.max,change:n}):!1},C4=function(t,n){var r=t.frame;return!r||!um(t,n)?null:lm({current:r.scroll.current,max:r.scroll.max,change:n})},I4=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=VS({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&sm(t,a)?a:null},P4=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=VS({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return l&&um(t,l)?l:null},t0=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],s=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=I4({dragStartTime:n,viewport:u,subject:s,center:a,shouldUseTimeDampening:r});if(d){i(d);return}}var c=v4({center:a,destination:Xt(t.impact),droppables:t.dimensions.droppables});if(c){var f=P4({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});f&&o(c.descriptor.id,f)}},A4=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Al(t),i=Al(n),o=null,a=function(d){o||re();var c=o,f=c.shouldUseTimeDampening,p=c.dragStartTime;t0({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f})},l=function(d){o&&re();var c=Date.now(),f=!1,p=function(){f=!0};t0({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),o={dragStartTime:c,shouldUseTimeDampening:f},f&&a(d)},s=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:l,stop:s,scroll:a}},T4=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(u,d){var c=mt(u.current.client.selection,d);t({client:c})},o=function(u,d){if(!um(u,d))return d;var c=C4(u,d);if(!c)return n(u.descriptor.id,d),null;var f=Yt(d,c);n(u.descriptor.id,f);var p=Yt(d,f);return p},a=function(u,d,c){if(!u||!sm(d,c))return c;var f=E4(d,c);if(!f)return r(c),null;var p=Yt(c,f);r(p);var h=Yt(c,p);return h},l=function(u){var d=u.scrollJumpRequest;if(d){var c=Xt(u.impact);c||re();var f=o(u.dimensions.droppables[c],d);if(f){var p=u.viewport,h=a(u.isWindowScrollAllowed,p,f);h&&i(u,h)}}};return l},N4=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=A4({scrollWindow:n,scrollDroppable:t}),o=T4({move:r,scrollWindow:n,scrollDroppable:t}),a=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},l={scroll:a,start:i.start,stop:i.stop};return l},Bo="data-rbd",zo=function(){var e=Bo+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),rh=function(){var e=Bo+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),D4=function(){var e=Bo+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),n0={contextId:Bo+"-scroll-container-context-id"},R4=function(t){return function(n){return"["+n+'="'+t+'"]'}},Sa=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},j4="pointer-events: none;",O4=function(e){var t=R4(e),n=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(zo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:j4,dropAnimating:l}}}(),r=function(){var l=`
      transition: `+Ya.outOfTheWay+`;
    `;return{selector:t(rh.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),i={selector:t(D4.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[r,n,i,o];return{always:Sa(a,"always"),resting:Sa(a,"resting"),dragging:Sa(a,"dragging"),dropAnimating:Sa(a,"dropAnimating"),userCancel:Sa(a,"userCancel")}},Zt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect,nf=function(){var t=document.querySelector("head");return t||re(),t},r0=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function $4(e,t){var n=Pe(function(){return O4(e)},[e]),r=E.useRef(null),i=E.useRef(null),o=se(ut(function(c){var f=i.current;f||re(),f.textContent=c}),[]),a=se(function(c){var f=r.current;f||re(),f.textContent=c},[]);Zt(function(){!r.current&&!i.current||re();var c=r0(t),f=r0(t);return r.current=c,i.current=f,c.setAttribute(Bo+"-always",e),f.setAttribute(Bo+"-dynamic",e),nf().appendChild(c),nf().appendChild(f),a(n.always),o(n.resting),function(){var p=function(y){var w=y.current;w||re(),nf().removeChild(w),y.current=null};p(r),p(i)}},[t,a,o,n.always,n.resting,e]);var l=se(function(){return o(n.dragging)},[o,n.dragging]),s=se(function(c){if(c==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=se(function(){i.current&&o(n.resting)},[o,n.resting]),d=Pe(function(){return{dragging:l,dropping:s,resting:u}},[l,s,u]);return d}var GS=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ed(e){return e instanceof GS(e).HTMLElement}function _4(e,t){var n="["+zo.contextId+'="'+e+'"]',r=gS(document.querySelectorAll(n));if(!r.length)return null;var i=ri(r,function(o){return o.getAttribute(zo.draggableId)===t});return!i||!ed(i)?null:i}function F4(e){var t=E.useRef({}),n=E.useRef(null),r=E.useRef(null),i=E.useRef(!1),o=se(function(f,p){var h={id:f,focus:p};return t.current[f]=h,function(){var w=t.current,v=w[f];v!==h&&delete w[f]}},[]),a=se(function(f){var p=_4(e,f);p&&p!==document.activeElement&&p.focus()},[e]),l=se(function(f,p){n.current===f&&(n.current=p)},[]),s=se(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&a(f)}))},[a]),u=se(function(f){n.current=null;var p=document.activeElement;p&&p.getAttribute(zo.draggableId)===f&&(n.current=f)},[]);Zt(function(){return i.current=!0,function(){i.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var d=Pe(function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:s,tryShiftRecord:l}},[o,u,s,l]);return d}function L4(){var e={draggables:{},droppables:{}},t=[];function n(c){return t.push(c),function(){var p=t.indexOf(c);p!==-1&&t.splice(p,1)}}function r(c){t.length&&t.forEach(function(f){return f(c)})}function i(c){return e.draggables[c]||null}function o(c){var f=i(c);return f||re(),f}var a={register:function(f){e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,p){var h=e.draggables[p.descriptor.id];h&&h.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:function(f){var p=f.descriptor.id,h=i(p);h&&f.uniqueId===h.uniqueId&&(delete e.draggables[p],r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return lc(e.draggables).filter(function(p){return p.descriptor.type===f})}};function l(c){return e.droppables[c]||null}function s(c){var f=l(c);return f||re(),f}var u={register:function(f){e.droppables[f.descriptor.id]=f},unregister:function(f){var p=l(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},getById:s,findById:l,exists:function(f){return!!l(f)},getAllByType:function(f){return lc(e.droppables).filter(function(p){return p.descriptor.type===f})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:u,subscribe:n,clean:d}}function M4(){var e=Pe(L4,[]);return E.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var cm=xe.createContext(null),uc=function(){var e=document.body;return e||re(),e},B4={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},z4=function(t){return"rbd-announcement-"+t};function U4(e){var t=Pe(function(){return z4(e)},[e]),n=E.useRef(null);E.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),pe(o.style,B4),uc().appendChild(o),function(){setTimeout(function(){var s=uc();s.contains(o)&&s.removeChild(o),o===n.current&&(n.current=null)})}},[t]);var r=se(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var H4=0,q4={separator:"::"};function dm(e,t){return t===void 0&&(t=q4),Pe(function(){return""+e+t.separator+H4++},[t.separator,e])}function V4(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function W4(e){var t=e.contextId,n=e.text,r=dm("hidden-text",{separator:"-"}),i=Pe(function(){return V4({contextId:t,uniqueId:r})},[r,t]);return E.useEffect(function(){var a=document.createElement("div");return a.id=i,a.textContent=n,a.style.display="none",uc().appendChild(a),function(){var s=uc();s.contains(a)&&s.removeChild(a)}},[i,n]),i}var td=xe.createContext(null);function KS(e){var t=E.useRef(e);return E.useEffect(function(){t.current=e}),t}function G4(){var e=null;function t(){return!!e}function n(a){return a===e}function r(a){e&&re();var l={abandon:a};return e=l,l}function i(){e||re(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}var K4=9,Q4=13,fm=27,QS=32,Y4=33,J4=34,X4=35,Z4=36,ej=37,tj=38,nj=39,rj=40,zs,ij=(zs={},zs[Q4]=!0,zs[K4]=!0,zs),YS=function(e){ij[e.keyCode]&&e.preventDefault()},nd=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=ri(t,function(r){return"on"+r in document});return n||e}(),JS=0,i0=5;function oj(e,t){return Math.abs(t.x-e.x)>=i0||Math.abs(t.y-e.y)>=i0}var o0={type:"IDLE"};function aj(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(a){var l=a.button,s=a.clientX,u=a.clientY;if(l===JS){var d={x:s,y:u},c=r();if(c.type==="DRAGGING"){a.preventDefault(),c.actions.move(d);return}c.type!=="PENDING"&&re();var f=c.point;if(oj(f,d)){a.preventDefault();var p=c.actions.fluidLift(d);i({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(a){var l=r();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(a){r().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:function(a){var l=r();if(l.type==="PENDING"){t();return}if(a.keyCode===fm){a.preventDefault(),t();return}YS(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(a){var l=r();if(l.type==="IDLE"&&re(),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:nd,fn:t}]}function lj(e){var t=E.useRef(o0),n=E.useRef(Vr),r=Pe(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===JS&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var f=e.findClosestDraggableId(c);if(f){var p=e.tryGetLock(f,a,{sourceEvent:c});if(p){c.preventDefault();var h={x:c.clientX,y:c.clientY};n.current(),u(p,h)}}}}}},[e]),i=Pe(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var f=e.findClosestDraggableId(c);if(f){var p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&c.preventDefault())}}}}},[e]),o=se(function(){var c={passive:!1,capture:!0};n.current=mn(window,[i,r],c)},[i,r]),a=se(function(){var d=t.current;d.type!=="IDLE"&&(t.current=o0,n.current(),o())},[o]),l=se(function(){var d=t.current;a(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[a]),s=se(function(){var c={capture:!0,passive:!1},f=aj({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(h){t.current=h}});n.current=mn(window,f,c)},[l,a]),u=se(function(c,f){t.current.type!=="IDLE"&&re(),t.current={type:"PENDING",point:f,actions:c},s()},[s]);Zt(function(){return o(),function(){n.current()}},[o])}var Wi;function sj(){}var uj=(Wi={},Wi[J4]=!0,Wi[Y4]=!0,Wi[Z4]=!0,Wi[X4]=!0,Wi);function cj(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===fm){o.preventDefault(),n();return}if(o.keyCode===QS){o.preventDefault(),r();return}if(o.keyCode===rj){o.preventDefault(),e.moveDown();return}if(o.keyCode===tj){o.preventDefault(),e.moveUp();return}if(o.keyCode===nj){o.preventDefault(),e.moveRight();return}if(o.keyCode===ej){o.preventDefault(),e.moveLeft();return}if(uj[o.keyCode]){o.preventDefault();return}YS(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:nd,fn:n}]}function dj(e){var t=E.useRef(sj),n=Pe(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==QS)return;var a=e.findClosestDraggableId(o);if(!a)return;var l=e.tryGetLock(a,d,{sourceEvent:o});if(!l)return;o.preventDefault();var s=!0,u=l.snapLift();t.current();function d(){s||re(),s=!1,t.current(),r()}t.current=mn(window,cj(u,d),{capture:!0,passive:!1})}}},[e]),r=se(function(){var o={passive:!1,capture:!0};t.current=mn(window,[n],o)},[n]);Zt(function(){return r(),function(){t.current()}},[r])}var rf={type:"IDLE"},fj=120,pj=.15;function hj(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===fm&&i.preventDefault(),t()}},{eventName:nd,fn:t}]}function gj(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var a=r();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;var l=o.touches[0],s=l.clientX,u=l.clientY,d={x:s,y:u};o.preventDefault(),a.actions.move(d)}},{eventName:"touchend",fn:function(o){var a=r();if(a.type!=="DRAGGING"){t();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var a=r();a.type==="IDLE"&&re();var l=o.touches[0];if(l){var s=l.force>=pj;if(s){var u=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){u&&t();return}if(u){if(a.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:nd,fn:t}]}function mj(e){var t=E.useRef(rf),n=E.useRef(Vr),r=se(function(){return t.current},[]),i=se(function(p){t.current=p},[]),o=Pe(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var h=e.findClosestDraggableId(p);if(h){var y=e.tryGetLock(h,l,{sourceEvent:p});if(y){var w=p.touches[0],v=w.clientX,g=w.clientY,m={x:v,y:g};n.current(),c(y,m)}}}}}},[e]),a=se(function(){var p={capture:!0,passive:!1};n.current=mn(window,[o],p)},[o]),l=se(function(){var f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(rf),n.current(),a())},[a,i]),s=se(function(){var f=t.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),u=se(function(){var p={capture:!0,passive:!1},h={cancel:s,completed:l,getPhase:r},y=mn(window,gj(h),p),w=mn(window,hj(h),p);n.current=function(){y(),w()}},[s,r,l]),d=se(function(){var p=r();p.type!=="PENDING"&&re();var h=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:h,hasMoved:!1})},[r,i]),c=se(function(p,h){r().type!=="IDLE"&&re();var y=setTimeout(d,fj);i({type:"PENDING",point:h,actions:p,longPressTimerId:y}),u()},[u,r,i,d]);Zt(function(){return a(),function(){n.current();var h=r();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),i(rf))}},[r,a,i]),Zt(function(){var p=mn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var vj={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function XS(e,t){if(t==null)return!1;var n=!!vj[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:XS(e,t.parentElement)}function yj(e,t){var n=t.target;return ed(n)?XS(e,n):!1}var wj=function(e){return Nn(e.getBoundingClientRect()).center};function xj(e){return e instanceof GS(e).Element}var bj=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=ri(t,function(r){return r in Element.prototype});return n||e}();function ZS(e,t){return e==null?null:e[bj](t)?e:ZS(e.parentElement,t)}function Sj(e,t){return e.closest?e.closest(t):ZS(e,t)}function kj(e){return"["+zo.contextId+'="'+e+'"]'}function Ej(e,t){var n=t.target;if(!xj(n))return null;var r=kj(e),i=Sj(n,r);return!i||!ed(i)?null:i}function Cj(e,t){var n=Ej(e,t);return n?n.getAttribute(zo.draggableId):null}function Ij(e,t){var n="["+rh.contextId+'="'+e+'"]',r=gS(document.querySelectorAll(n)),i=ri(r,function(o){return o.getAttribute(rh.id)===t});return!i||!ed(i)?null:i}function Pj(e){e.preventDefault()}function Us(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function ek(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!HS(n.getState(),i))}function Aj(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent,s=ek({lockAPI:t,store:r,registry:i,draggableId:o});if(!s)return null;var u=i.draggable.getById(o),d=Ij(n,u.descriptor.id);if(!d||l&&!u.options.canDragInteractiveElements&&yj(d,l))return null;var c=t.claim(a||Vr),f="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function h(){return t.isActive(c)}function y(S,C){Us({expected:S,phase:f,isLockActive:h,shouldWarn:!0})&&r.dispatch(C())}var w=y.bind(null,"DRAGGING");function v(S){function C(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(C(),f!=="PRE_DRAG"&&re()),r.dispatch(bR(S.liftActionArgs)),f="DRAGGING";function N(D,P){if(P===void 0&&(P={shouldBlockNextClick:!1}),S.cleanup(),P.shouldBlockNextClick){var j=mn(window,[{eventName:"click",fn:Pj,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}C(),r.dispatch(_S({reason:D}))}return pe({isActive:function(){return Us({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(P){return N("DROP",P)},cancel:function(P){return N("CANCEL",P)}},S.actions)}function g(S){var C=Al(function(D){w(function(){return $S({client:D})})}),N=v({liftActionArgs:{id:o,clientSelection:S,movementMode:"FLUID"},cleanup:function(){return C.cancel()},actions:{move:C}});return pe({},N,{move:C})}function m(){var S={moveUp:function(){return w(NR)},moveRight:function(){return w(RR)},moveDown:function(){return w(DR)},moveLeft:function(){return w(jR)}};return v({liftActionArgs:{id:o,clientSelection:wj(d),movementMode:"SNAP"},cleanup:Vr,actions:S})}function b(){var S=Us({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0});S&&t.release()}var k={isActive:function(){return Us({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:g,snapLift:m,abort:b};return k}var Tj=[lj,dj,mj];function Nj(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,a=[].concat(o?Tj:[],i||[]),l=E.useState(function(){return G4()})[0],s=se(function(g,m){g.isDragging&&!m.isDragging&&l.tryAbandon()},[l]);Zt(function(){var g=n.getState(),m=n.subscribe(function(){var b=n.getState();s(g,b),g=b});return m},[l,n,s]),Zt(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=se(function(v){return ek({lockAPI:l,registry:r,store:n,draggableId:v})},[l,r,n]),d=se(function(v,g,m){return Aj({lockAPI:l,registry:r,contextId:t,store:n,draggableId:v,forceSensorStop:g,sourceEvent:m&&m.sourceEvent?m.sourceEvent:null})},[t,l,r,n]),c=se(function(v){return Cj(t,v)},[t]),f=se(function(v){var g=r.draggable.findById(v);return g?g.options:null},[r.draggable]),p=se(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(nm()))},[l,n]),h=se(l.isClaimed,[l]),y=Pe(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:c,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:h}},[u,d,c,f,p,h]),w=0;w<a.length;w++)a[w](y)}var Dj=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function ka(e){return e.current||re(),e.current}function Rj(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,o=e.dragHandleUsageInstructions,a=E.useRef(null),l=KS(e),s=se(function(){return Dj(l.current)},[l]),u=U4(t),d=W4({contextId:t,text:o}),c=$4(t,i),f=se(function(D){ka(a).dispatch(D)},[]),p=Pe(function(){return Ay({publishWhileDragging:kR,updateDroppableScroll:CR,updateDroppableIsEnabled:IR,updateDroppableIsCombineEnabled:PR,collectionStarting:ER},f)},[f]),h=M4(),y=Pe(function(){return p4(h,p)},[h,p]),w=Pe(function(){return N4(pe({scrollWindow:h4,scrollDroppable:y.scrollDroppable},Ay({move:$S},f)))},[y.scrollDroppable,f]),v=F4(t),g=Pe(function(){return u4({announce:u,autoScroller:w,dimensionMarshal:y,focusMarshal:v,getResponders:s,styleMarshal:c})},[u,w,y,v,s,c]);a.current=g;var m=se(function(){var D=ka(a),P=D.getState();P.phase!=="IDLE"&&D.dispatch(nm())},[]),b=se(function(){var D=ka(a).getState();return D.isDragging||D.phase==="DROP_ANIMATING"},[]),k=Pe(function(){return{isDragging:b,tryAbort:m}},[b,m]);n(k);var S=se(function(D){return HS(ka(a).getState(),D)},[]),C=se(function(){return di(ka(a).getState())},[]),N=Pe(function(){return{marshal:y,focus:v,contextId:t,canLift:S,isMovementAllowed:C,dragHandleUsageInstructionsId:d,registry:h}},[t,y,d,v,S,C,h]);return Nj({contextId:t,store:g,registry:h,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),E.useEffect(function(){return m},[m]),xe.createElement(td.Provider,{value:N},xe.createElement(eN,{context:cm,store:g},e.children))}var jj=0;function Oj(){return Pe(function(){return""+jj++},[])}function $j(e){var t=Oj(),n=e.dragHandleUsageInstructions||vu.dragHandleUsageInstructions;return xe.createElement(dD,null,function(r){return xe.createElement(Rj,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var tk=function(t){return function(n){return t===n}},_j=tk("scroll"),Fj=tk("auto"),a0=function(t,n){return n(t.overflowX)||n(t.overflowY)},Lj=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return a0(r,_j)||a0(r,Fj)},Mj=function(){return!1},Bj=function e(t){return t==null?null:t===document.body?Mj()?t:null:t===document.documentElement?null:Lj(t)?t:e(t.parentElement)},ih=function(e){return{x:e.scrollLeft,y:e.scrollTop}},zj=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},Uj=function(e){var t=Bj(e),n=zj(e);return{closestScrollable:t,isFixedOnPage:n}},Hj=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,l=e.page,s=e.closest,u=function(){if(!s)return null;var p=s.scrollSize,h=s.client,y=BS({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:h,scrollSize:p,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:y,diff:{value:ct,displacement:ct}}}}(),d=o==="vertical"?Jg:xS,c=Mo({page:l,withPlaceholder:null,axis:d,frame:u}),f={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:d,isEnabled:n,client:a,page:l,frame:u,subject:c};return f},qj=function(t,n){var r=cS(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,a=i+n.scrollHeight,l=o+n.scrollWidth,s={top:i,right:l,bottom:a,left:o},u=Wg(s,r.border),d=Gg({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return d},Vj=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,s=e.shouldClipSubject,u=r.closestScrollable,d=qj(t,u),c=ic(d,i),f=function(){if(!u)return null;var h=cS(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:h,page:ic(h,i),scroll:ih(u),scrollSize:y,shouldClipSubject:s}}(),p=Hj({descriptor:n,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:o,client:d,page:c,closest:f});return p},Wj={passive:!1},Gj={passive:!0},l0=function(e){return e.shouldPublishImmediately?Wj:Gj};function cc(e){var t=E.useContext(e);return t||re(),t}var Hs=function(t){return t&&t.env.closestScrollable||null};function Kj(e){var t=E.useRef(null),n=cc(td),r=dm("droppable"),i=n.registry,o=n.marshal,a=KS(e),l=Pe(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),s=E.useRef(l),u=Pe(function(){return ut(function(b,k){t.current||re();var S={x:b,y:k};o.updateDroppableScroll(l.id,S)})},[l.id,o]),d=se(function(){var b=t.current;return!b||!b.env.closestScrollable?ct:ih(b.env.closestScrollable)},[]),c=se(function(){var b=d();u(b.x,b.y)},[d,u]),f=Pe(function(){return Al(c)},[c]),p=se(function(){var b=t.current,k=Hs(b);b&&k||re();var S=b.scrollOptions;if(S.shouldPublishImmediately){c();return}f()},[f,c]),h=se(function(b,k){t.current&&re();var S=a.current,C=S.getDroppableRef();C||re();var N=Uj(C),D={ref:C,descriptor:l,env:N,scrollOptions:k};t.current=D;var P=Vj({ref:C,descriptor:l,env:N,windowScroll:b,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),j=N.closestScrollable;return j&&(j.setAttribute(n0.contextId,n.contextId),j.addEventListener("scroll",p,l0(D.scrollOptions))),P},[n.contextId,l,p,a]),y=se(function(){var b=t.current,k=Hs(b);return b&&k||re(),ih(k)},[]),w=se(function(){var b=t.current;b||re();var k=Hs(b);t.current=null,k&&(f.cancel(),k.removeAttribute(n0.contextId),k.removeEventListener("scroll",p,l0(b.scrollOptions)))},[p,f]),v=se(function(b){var k=t.current;k||re();var S=Hs(k);S||re(),S.scrollTop+=b.y,S.scrollLeft+=b.x},[]),g=Pe(function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:y,dragStopped:w,scroll:v}},[w,h,y,v]),m=Pe(function(){return{uniqueId:r,descriptor:l,callbacks:g}},[g,l,r]);Zt(function(){return s.current=m.descriptor,i.droppable.register(m),function(){t.current&&w(),i.droppable.unregister(m)}},[g,l,w,m,o,i.droppable]),Zt(function(){t.current&&o.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Zt(function(){t.current&&o.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function of(){}var s0={width:0,height:0,margin:vD},Qj=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?s0:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},Yj=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,o=Qj({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Ya.placeholder:null}};function Jj(e){var t=E.useRef(null),n=se(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,o=e.onClose,a=e.contextId,l=E.useState(e.animate==="open"),s=l[0],u=l[1];E.useEffect(function(){return s?r!=="open"?(n(),u(!1),of):t.current?of:(t.current=setTimeout(function(){t.current=null,u(!1)}),n):of},[r,s,n]);var d=se(function(f){f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),c=Yj({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return xe.createElement(e.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":a,onTransitionEnd:d,ref:e.innerRef})}var Xj=xe.memo(Jj),pm=xe.createContext(null),Zj=function(e){Hb(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(xe.PureComponent),u0={dragging:5e3,dropAnimating:4500},eO=function(t,n){return n?Ya.drop(n.duration):t?Ya.snap:Ya.fluid},tO=function(t,n){return t?n?Rl.opacity.drop:Rl.opacity.combining:null},nO=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function rO(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,o=e.dropping,a=!!i,l=nO(e),s=!!o,u=s?th.drop(r,a):th.moveTo(r),d={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:eO(l,o),transform:u,opacity:tO(a,s),zIndex:s?u0.dropAnimating:u0.dragging,pointerEvents:"none"};return d}function iO(e){return{transform:th.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function oO(e){return e.type==="DRAGGING"?rO(e):iO(e)}function aO(e,t,n){n===void 0&&(n=ct);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=uS(i,r),a=ic(o,n),l={client:o,tagName:t.tagName.toLowerCase(),display:r.display},s={x:o.marginBox.width,y:o.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:s,client:o,page:a};return u}function lO(e){var t=dm("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,s=Pe(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:a,isEnabled:l}},[o,l,a]),u=se(function(p){var h=i();return h||re(),aO(n,h,p)},[n,i]),d=Pe(function(){return{uniqueId:t,descriptor:n,options:s,getDimension:u}},[n,u,s,t]),c=E.useRef(d),f=E.useRef(!0);Zt(function(){return r.draggable.register(c.current),function(){return r.draggable.unregister(c.current)}},[r.draggable]),Zt(function(){if(f.current){f.current=!1;return}var p=c.current;c.current=d,r.draggable.update(d,p)},[d,r.draggable])}function sO(e){e.preventDefault()}function uO(e){var t=E.useRef(null),n=se(function(D){t.current=D},[]),r=se(function(){return t.current},[]),i=cc(td),o=i.contextId,a=i.dragHandleUsageInstructionsId,l=i.registry,s=cc(pm),u=s.type,d=s.droppableId,c=Pe(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),f=e.children,p=e.draggableId,h=e.isEnabled,y=e.shouldRespectForcePress,w=e.canDragInteractiveElements,v=e.isClone,g=e.mapped,m=e.dropAnimationFinished;if(!v){var b=Pe(function(){return{descriptor:c,registry:l,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:y,isEnabled:h}},[c,l,r,w,y,h]);lO(b)}var k=Pe(function(){return h?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:sO}:null},[o,a,p,h]),S=se(function(D){g.type==="DRAGGING"&&g.dropping&&D.propertyName==="transform"&&m()},[m,g]),C=Pe(function(){var D=oO(g),P=g.type==="DRAGGING"&&g.dropping?S:null,j={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":p,style:D,onTransitionEnd:P},dragHandleProps:k};return j},[o,k,p,g,S,n]),N=Pe(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return f(C,g.snapshot,N)}var nk=function(e,t){return e===t},rk=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},cO=function(t){return t.combine?t.combine.draggableId:null},dO=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function fO(){var e=ut(function(i,o){return{x:i,y:o}}),t=ut(function(i,o,a,l,s){return{isDragging:!0,isClone:o,isDropAnimating:!!s,dropAnimation:s,mode:i,draggingOver:a,combineWith:l,combineTargetFor:null}}),n=ut(function(i,o,a,l,s,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:u,mode:o,offset:i,dimension:a,forceShouldAnimate:d,snapshot:t(o,l,s,u,null)}}}),r=function(o,a){if(o.isDragging){if(o.critical.draggable.id!==a.draggableId)return null;var l=o.current.client.offset,s=o.dimensions.draggables[a.draggableId],u=Xt(o.impact),d=dO(o.impact),c=o.forceShouldAnimate;return n(e(l.x,l.y),o.movementMode,s,a.isClone,u,d,c)}if(o.phase==="DROP_ANIMATING"){var f=o.completed;if(f.result.draggableId!==a.draggableId)return null;var p=a.isClone,h=o.dimensions.draggables[a.draggableId],y=f.result,w=y.mode,v=rk(y),g=cO(y),m=o.dropDuration,b={duration:m,curve:im.drop,moveTo:o.newHomeClientOffset,opacity:g?Rl.opacity.drop:null,scale:g?Rl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:h,dropping:b,draggingOver:v,combineWith:g,mode:w,forceShouldAnimate:null,snapshot:t(w,p,v,g,b)}}}return null};return r}function ik(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var pO={mapped:{type:"SECONDARY",offset:ct,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ik(null)}};function hO(){var e=ut(function(a,l){return{x:a,y:l}}),t=ut(ik),n=ut(function(a,l,s){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:s,snapshot:t(l)}}}),r=function(l){return l?n(ct,l,!0):null},i=function(l,s,u,d){var c=u.displaced.visible[l],f=!!(d.inVirtualList&&d.effected[l]),p=Jc(u),h=p&&p.draggableId===l?s:null;if(!c){if(!f)return r(h);if(u.displaced.invisible[l])return null;var y=ta(d.displacedBy.point),w=e(y.x,y.y);return n(w,h,!0)}if(f)return r(h);var v=u.displacedBy.point,g=e(v.x,v.y);return n(g,h,c.shouldAnimate)},o=function(l,s){if(l.isDragging)return l.critical.draggable.id===s.draggableId?null:i(s.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===s.draggableId?null:i(s.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return o}var gO=function(){var t=fO(),n=hO(),r=function(o,a){return t(o,a)||n(o,a)||pO};return r},mO={dropAnimationFinished:FS},vO=lS(gO,mO,null,{context:cm,pure:!0,areStatePropsEqual:nk})(uO);function ok(e){var t=cc(pm),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:xe.createElement(vO,e)}function ak(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return xe.createElement(ok,pe({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function yO(e){var t=E.useContext(td);t||re();var n=t.contextId,r=t.isMovementAllowed,i=E.useRef(null),o=E.useRef(null),a=e.children,l=e.droppableId,s=e.type,u=e.mode,d=e.direction,c=e.ignoreContainerClipping,f=e.isDropDisabled,p=e.isCombineEnabled,h=e.snapshot,y=e.useClone,w=e.updateViewportMaxScroll,v=e.getContainerForClone,g=se(function(){return i.current},[]),m=se(function(j){i.current=j},[]);se(function(){return o.current},[]);var b=se(function(j){o.current=j},[]),k=se(function(){r()&&w({maxScroll:US()})},[r,w]);Kj({droppableId:l,type:s,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:c,getDroppableRef:g});var S=xe.createElement(Zj,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(j){var A=j.onClose,I=j.data,R=j.animate;return xe.createElement(Xj,{placeholder:I,onClose:A,innerRef:b,animate:R,contextId:n,onTransitionEnd:k})}),C=Pe(function(){return{innerRef:m,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,S,m]),N=y?y.dragging.draggableId:null,D=Pe(function(){return{droppableId:l,type:s,isUsingCloneFor:N}},[l,N,s]);function P(){if(!y)return null;var j=y.dragging,A=y.render,I=xe.createElement(ok,{draggableId:j.draggableId,index:j.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(R,$){return A(R,$,j)});return pI.createPortal(I,v())}return xe.createElement(pm.Provider,{value:D},a(C,h),P())}var af=function(t,n){return t===n.droppable.type},c0=function(t,n){return n.draggables[t.draggable.id]},wO=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=pe({},t,{shouldAnimatePlaceholder:!1}),r=ut(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),i=ut(function(a,l,s,u,d,c){var f=d.descriptor.id,p=d.descriptor.droppableId===a;if(p){var h=c?{render:c,dragging:r(d.descriptor)}:null,y={isDraggingOver:s,draggingOverWith:s?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:h}}if(!l)return n;if(!u)return t;var w={isDraggingOver:s,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}}),o=function(l,s){var u=s.droppableId,d=s.type,c=!s.isDropDisabled,f=s.renderClone;if(l.isDragging){var p=l.critical;if(!af(d,p))return n;var h=c0(p,l.dimensions),y=Xt(l.impact)===u;return i(u,c,y,y,h,f)}if(l.phase==="DROP_ANIMATING"){var w=l.completed;if(!af(d,w.critical))return n;var v=c0(w.critical,l.dimensions);return i(u,c,rk(w.result)===u,Xt(w.impact)===u,v,f)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var g=l.completed;if(!af(d,g.critical))return n;var m=Xt(g.impact)===u,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),k=g.critical.droppable.id===u;return m?b?t:n:k?t:n}return n};return o},xO={updateViewportMaxScroll:TR};function bO(){return document.body||re(),document.body}var SO={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:bO},lk=lS(wO,xO,null,{context:cm,pure:!0,areStatePropsEqual:nk})(yO);lk.defaultProps=SO;const oh=({children:e,...t})=>{const[n,r]=E.useState(!1);return E.useEffect(()=>{const i=requestAnimationFrame(()=>r(!0));return()=>{cancelAnimationFrame(i),r(!1)}},[]),n?x.jsx(lk,{...t,children:e}):null};async function kO(e){const n=new DOMParser().parseFromString(e,"text/xml");if(n.documentElement.nodeName==="parsererror")throw new Error("Invalid OPML file");const r=Array.from(n.getElementsByTagName("outline")),i={feeds:0,folders:0},o=new Map;for(const a of r)if(!a.getAttribute("xmlUrl")&&a.getAttribute("text")){const l=a.getAttribute("text")||"Unnamed Folder",s=await X.folders.add({name:l,order:await X.folders.count()});o.set(l,s),i.folders++}for(const a of r){const l=a.getAttribute("xmlUrl");if(l)try{const s=a.parentElement,u=s==null?void 0:s.getAttribute("text"),d=u?o.get(u):void 0;await X.feeds.where("url").equals(l).first()||(await Ob(l,d),i.feeds++)}catch(s){console.error(`Failed to import feed ${l}:`,s)}}return i}async function EO(){var e;try{const t=await X.feeds.toArray();console.log(`Found ${t.length} total feeds in database:`,t.map(f=>({id:f.id,title:f.title,url:f.url})));const n=await X.folders.toArray();if(console.log(`Found ${n.length} folders in database:`,n.map(f=>({id:f.id,name:f.name}))),t.length===0)return console.warn("No feeds found in database for OPML export"),'<?xml version="1.0" encoding="UTF-8"?><opml version="2.0"><head><title>RSS Reader Feeds Export</title></head><body></body></opml>';const r=document.implementation.createDocument(null,"opml",null);r.documentElement.setAttribute("version","2.0");const i=r.createElement("head"),o=r.createElement("title");o.textContent="RSS Reader Feeds Export";const a=r.createElement("dateCreated");a.textContent=new Date().toISOString(),i.appendChild(o),i.appendChild(a),r.documentElement.appendChild(i);const l=r.createElement("body"),s=r.createElement("outline");s.setAttribute("text","Unorganized"),s.setAttribute("title","Unorganized");for(const f of t){const p=r.createElement("outline");p.setAttribute("type","rss"),p.setAttribute("text",f.title),p.setAttribute("title",f.title),p.setAttribute("xmlUrl",f.url),s.appendChild(p)}l.appendChild(s),r.documentElement.appendChild(l);const d=new XMLSerializer().serializeToString(r),c=((e=d.match(/xmlUrl="([^"]+)"/g))==null?void 0:e.length)||0;return console.log(`OPML export complete. Contains ${c} feeds out of ${t.length} total feeds`),c!==t.length&&console.error("Not all feeds were exported!",{totalFeeds:t.length,exportedFeeds:c,output:d}),d}catch(t){throw console.error("Error during OPML export:",t),t}}const sk=({feed:e,index:t,isDarkMode:n,isEditing:r,editingName:i,onStartEdit:o,onDelete:a,onEditingNameChange:l,onKeyDown:s,onSave:u})=>x.jsx(ak,{draggableId:`feed-${e.id}`,index:t,children:(d,c)=>x.jsxs("div",{ref:d.innerRef,...d.draggableProps,...d.dragHandleProps,className:`flex items-center justify-between p-2 mb-2 rounded shadow-sm
            ${e.isDeleted?"opacity-75 italic":""}
            ${c.isDragging?n?"bg-gray-700":"bg-blue-50":n?"bg-gray-800":"bg-white"}
            ${n?"text-white":"text-gray-900"}
          `,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(LT,{className:`w-4 h-4 ${n?"text-gray-400":"text-gray-500"}`}),r?x.jsx("input",{type:"text",value:i,onChange:f=>l(f.target.value),onKeyDown:s,onBlur:u,autoFocus:!0,className:`px-1 py-0.5 rounded ${n?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border`}):x.jsxs("span",{className:n?"text-white":"text-gray-900",children:[e.title,e.isDeleted?" (Deleted)":""]})]}),x.jsx("div",{className:"flex items-center gap-1",children:!e.isDeleted&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>o(e.id,e.title),className:`p-1 rounded-full ${n?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Rename feed",children:x.jsx(Bb,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>a(e.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 p-1 rounded",title:"Delete feed",children:x.jsx(zb,{className:"w-4 h-4"})})]})})]})},e.id),CO=({folder:e,index:t,isDarkMode:n,isEditing:r,editingName:i,feeds:o,onStartEdit:a,onDelete:l,onEditingNameChange:s,onKeyDown:u,onSave:d,onFeedStartEdit:c,onFeedDelete:f})=>x.jsx(ak,{draggableId:`folder-${e.id}`,index:t,children:(p,h)=>x.jsx("div",{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,className:`mb-4 ${h.isDragging?"z-50":""}`,children:x.jsxs("div",{className:`p-3 rounded transition-colors ${h.isDragging?n?"bg-gray-700 shadow-lg":"bg-blue-50 shadow-lg":n?"bg-gray-900":"bg-gray-50"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("div",{className:`flex items-center gap-2 text-sm font-medium ${n?"text-gray-300":"text-gray-700"}`,children:[x.jsx(Mb,{className:`w-4 h-4 ${n?"text-gray-400":"text-gray-500"}`}),r?x.jsx("input",{type:"text",value:i,onChange:y=>s(y.target.value),onKeyDown:u,onBlur:d,autoFocus:!0,className:`px-1 py-0.5 rounded ${n?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} border`}):x.jsx("span",{children:e.name})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{onClick:()=>a(e.id,e.name),className:`p-1 rounded-full ${n?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Rename folder",children:x.jsx(Bb,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>l(e.id),className:"p-1 text-red-500 hover:text-red-600 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",title:"Delete folder",children:x.jsx(BT,{className:"w-4 h-4"})})]})]}),x.jsx(oh,{droppableId:e.id,type:"FEED",children:(y,w)=>x.jsxs("div",{ref:y.innerRef,...y.droppableProps,className:"pl-4",children:[o.map((v,g)=>x.jsx(sk,{feed:v,index:g,isDarkMode:n,isEditing:!1,editingName:"",onStartEdit:c,onDelete:f,onEditingNameChange:s,onKeyDown:u,onSave:d},v.id)),y.placeholder]})})]})})},e.id),IO=({isOpen:e,onClose:t,folders:n,feeds:r,isDarkMode:i,onCreateFolder:o,onDeleteFolder:a,onDeleteFeed:l,onUpdateFeedOrder:s,onUpdateFolderOrder:u,onRenameFolder:d,onRenameFeed:c})=>{const[f,p]=E.useState(""),[h,y]=E.useState(null),[w,v]=E.useState(""),[g,m]=E.useState({unorganized:[]}),[b,k]=E.useState(!1),[S,C]=E.useState([]),[N,D]=E.useState(null),[P,j]=E.useState(null),A=E.useRef(null),[I,R]=E.useState(!1);E.useEffect(()=>{if(JSON.stringify(r),JSON.stringify(n),!b){const L=[...n];JSON.stringify(L)!==JSON.stringify(S)&&C(L);const F={unorganized:r.filter(H=>!H.folderId).map(H=>({...H,id:H.id,draggableId:`feed-${H.id}`}))};n.forEach(H=>{F[H.id]=r.filter(G=>G.folderId===H.id).map(G=>({...G,id:G.id,draggableId:`feed-${G.id}`}))}),JSON.stringify(F)!==JSON.stringify(g)&&m(F)}},[r,n,b,S,g]);const $=async L=>{L.preventDefault(),f.trim()&&(await o(f.trim()),p(""))},q=async L=>{const{source:F,destination:H,type:G}=L;if(H&&!(F.droppableId===H.droppableId&&F.index===H.index)){k(!0);try{if(G==="FOLDER"){const Z=Array.from(S),[V]=Z.splice(F.index,1);Z.splice(H.index,0,V),C(Z);const oe=Z.map((J,M)=>({folderId:J.id,order:M}));await u(oe)}else{const Z={...g},[V]=Z[F.droppableId].splice(F.index,1);Z[H.droppableId].splice(H.index,0,V),m(Z);const oe=Object.entries(Z).flatMap(([J,M])=>M.map((Q,ne)=>({feedId:Q.id,folderId:J==="unorganized"?null:J,order:ne})));await s(oe)}}catch(Z){if(console.error("Error updating order:",Z),G==="FOLDER")C(n);else{const V={unorganized:r.filter(oe=>!oe.folderId)};n.forEach(oe=>{V[oe.id]=r.filter(J=>J.folderId===oe.id)}),m(V)}}finally{k(!1)}}},z=async L=>{if(confirm("Are you sure you want to delete this folder? Feeds in this folder will be moved to Unorganized."))try{await a(L)}catch(F){console.error("Error deleting folder:",F)}},_=()=>{var L;(L=A.current)==null||L.click()},U=async L=>{var H;const F=(H=L.target.files)==null?void 0:H[0];if(F)try{const G=await F.text(),Z=await kO(G);j(`Successfully imported ${Z.feeds} feeds and ${Z.folders} folders.`),D(null),L.target.value="",window.location.reload()}catch(G){D("Failed to import OPML file. Please make sure it's a valid OPML file."),j(null),console.error("OPML import error:",G)}},T=async()=>{try{const L=await EO(),F=new Blob([L],{type:"text/xml"}),H=URL.createObjectURL(F),G=document.createElement("a");G.href=H,G.download="rss-feeds-export.opml",document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(H)}catch(L){console.error("OPML export error:",L)}},W=(L,F)=>{y(String(L)),v(F)},K=async()=>{if(!(!h||!w.trim()))try{if(h.startsWith("folder-")){const L=h.replace("folder-","");await d(L,w.trim())}else{const L=parseInt(h,10);await c(L,w.trim())}}catch(L){console.error("Error renaming item:",L)}finally{y(null),v("")}},O=()=>{y(null),v("")},B=L=>{L.key==="Enter"?(L.preventDefault(),K()):L.key==="Escape"&&O()};return e?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:`${i?"bg-gray-800":"bg-white"} rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col`,children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:`text-xl font-semibold ${i?"text-white":"text-gray-900"}`,children:"Manage Feeds"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{onClick:_,className:`p-2 rounded flex items-center gap-1 ${i?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Import OPML",children:[x.jsx(bT,{className:"w-5 h-5"}),x.jsx("span",{children:"Import"})]}),x.jsxs("button",{onClick:T,className:`p-2 rounded flex items-center gap-1 ${i?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Export OPML",children:[x.jsx(CT,{className:"w-5 h-5"}),x.jsx("span",{children:"Export"})]}),x.jsx("button",{onClick:t,className:`p-1 rounded ${i?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,children:x.jsx(zb,{className:"w-5 h-5"})})]})]}),x.jsx("input",{type:"file",ref:A,onChange:U,accept:".opml,text/xml",className:"hidden"}),N&&x.jsx("div",{className:`mb-4 p-3 rounded ${i?"bg-red-900/20 text-red-400":"bg-red-50 text-red-600"}`,children:N}),P&&x.jsx("div",{className:`mb-4 p-3 rounded ${i?"bg-green-900/20 text-green-400":"bg-green-50 text-green-600"}`,children:P}),x.jsx("form",{onSubmit:$,className:"mb-4",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:f,onChange:L=>p(L.target.value),placeholder:"New folder name",className:`flex-1 px-3 py-2 border rounded ${i?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`}),x.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-2",children:[x.jsx(_T,{className:"w-5 h-5"}),x.jsx("span",{children:"Add Folder"})]})]})}),x.jsx("div",{className:"flex-1",children:x.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:x.jsxs($j,{onDragEnd:q,children:[x.jsx(oh,{droppableId:"folder-list",type:"FOLDER",children:(L,F)=>x.jsxs("div",{ref:L.innerRef,...L.droppableProps,className:`mb-4 ${F.isDraggingOver?i?"bg-gray-700/50":"bg-blue-50/50":""}`,children:[S.map((H,G)=>x.jsx(CO,{folder:H,index:G,isDarkMode:i,isEditing:h===`folder-${H.id}`,editingName:w,feeds:g[H.id]||[],onStartEdit:(Z,V)=>W(`folder-${Z}`,V),onDelete:z,onEditingNameChange:v,onKeyDown:B,onSave:K,onFeedStartEdit:W,onFeedDelete:l},H.id)),L.placeholder]})}),x.jsx(oh,{droppableId:"unorganized",type:"FEED",children:(L,F)=>{var H;return x.jsxs("div",{...L.droppableProps,ref:L.innerRef,className:`mb-4 p-3 rounded transition-colors ${F.isDraggingOver?i?"bg-gray-700":"bg-blue-50":i?"bg-gray-800":"bg-white"}`,children:[x.jsx("h3",{className:`text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-700"}`,children:"Unorganized"}),(H=g.unorganized)==null?void 0:H.map((G,Z)=>x.jsx(sk,{feed:G,index:Z,isDarkMode:i,isEditing:h===String(G.id),editingName:w,onStartEdit:W,onDelete:l,onEditingNameChange:v,onKeyDown:B,onSave:K},G.id)),L.placeholder]})}})]})})}),x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx("input",{type:"checkbox",id:"showDeleted",checked:I,onChange:L=>R(L.target.checked),className:`rounded ${i?"bg-gray-700":"bg-gray-100"}`}),x.jsx("label",{htmlFor:"showDeleted",className:`text-sm ${i?"text-gray-300":"text-gray-700"}`,children:"Show deleted feeds"})]})]})}):null},uk=({isOpen:e,onClose:t,title:n,children:r,isDarkMode:i})=>{const o=E.useRef(null);return E.useEffect(()=>{const a=s=>{s.key==="Escape"&&e&&t()},l=s=>{o.current&&!o.current.contains(s.target)&&t()};return e&&(document.addEventListener("keydown",a),document.addEventListener("mousedown",l)),()=>{document.removeEventListener("keydown",a),document.removeEventListener("mousedown",l)}},[e,t]),e?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:x.jsxs("div",{ref:o,className:`w-full max-w-lg rounded-lg shadow-xl ${i?"bg-gray-900":"bg-white"}`,children:[x.jsx("div",{className:`px-6 py-4 border-b ${i?"border-gray-700":"border-gray-200"}`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:`text-lg font-medium ${i?"text-gray-100":"text-gray-900"}`,children:n}),x.jsx("button",{onClick:t,className:`p-1 rounded-lg transition-colors ${i?"text-gray-400 hover:text-gray-200 hover:bg-gray-800":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:x.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),x.jsx("div",{className:"px-6 py-4",children:r})]})}):null},PO=({isOpen:e,onClose:t,isDarkMode:n,onFollow:r})=>{const[i,o]=E.useState(""),[a,l]=E.useState(!1),[s,u]=E.useState(null),d=async()=>{if(!i.trim()){u("Please enter a public key");return}l(!0),u(null);try{await r(i.trim()),t()}catch(c){u(c instanceof Error?c.message:"Failed to follow user")}finally{l(!1)}};return x.jsx(uk,{isOpen:e,onClose:t,title:"Follow User",isDarkMode:n,children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-1 ${n?"text-gray-300":"text-gray-700"}`,children:"User's Public Key"}),x.jsx("input",{type:"text",value:i,onChange:c=>o(c.target.value),placeholder:"Enter the user's public key",className:`w-full px-3 py-2 rounded-lg border font-mono text-sm ${n?"bg-gray-800 border-gray-700 text-gray-200":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-reader-blue`}),x.jsx("p",{className:`mt-1 text-sm ${n?"text-gray-400":"text-gray-500"}`,children:"The public key of the user you want to follow"})]}),s&&x.jsx("div",{className:"text-red-500 text-sm",children:s}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg ${n?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"}`,children:"Cancel"}),x.jsx("button",{onClick:d,disabled:a,className:`px-4 py-2 rounded-lg bg-reader-blue text-white hover:bg-blue-600 
              ${a?"opacity-50 cursor-not-allowed":""}`,children:a?"Following...":"Follow"})]})]})})};function ck(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hm={exports:{}};hm.exports;(function(e){(function(){function t(r,i){return i?ck(r):r.slice?t[o(r)]:function(a,l){r(a={exports:{}}),t[o(l)]=a.exports};function o(a){return a.split("/").slice(-1).toString().replace(".js","")}}var n=e;t(function(r){String.random=function(o,a){var l="";for(o=o||24,a=a||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";o-- >0;)l+=a.charAt(Math.floor(Math.random()*a.length));return l},String.match=function(o,a){var l,s;return typeof o!="string"?!1:(typeof a=="string"&&(a={"=":a}),a=a||{},l=a["="]||a["*"]||a[">"]||a["<"],o===l?!0:s!==a["="]?!1:(l=a["*"]||a[">"],o.slice(0,(l||"").length)===l?!0:s!==a["*"]?!1:s!==a[">"]&&s!==a["<"]?o>=a[">"]&&o<=a["<"]:s!==a[">"]&&o>=a[">"]||s!==a["<"]&&o<=a["<"]))},String.hash=function(o,a){if(typeof o=="string"){if(a=a||0,!o.length)return a;for(var l=0,s=o.length,u;l<s;++l)u=o.charCodeAt(l),a=(a<<5)-a+u,a|=0;return a}};var i=Object.prototype.hasOwnProperty;Object.plain=function(o){return o?o instanceof Object&&o.constructor===Object||Object.prototype.toString.call(o).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(o,a){for(var l in o)if(i.call(o,l)&&(!a||a.indexOf(l)==-1))return!1;return!0},Object.keys=Object.keys||function(o){var a=[];for(var l in o)i.call(o,l)&&a.push(l);return a},function(){var o,a=setTimeout,l=0,s=0,u=typeof setImmediate!=""+o&&setImmediate||function(c,f){return typeof MessageChannel==""+o?a:((c=new MessageChannel).port1.onmessage=function(p){p.data==""&&f()},function(p){f=p,c.port2.postMessage("")})}(),d=a.check=a.check||typeof performance!=""+o&&performance||{now:function(){return+new Date}};a.hold=a.hold||9,a.poll=a.poll||function(c){if(a.hold>=d.now()-l&&s++<3333){c();return}u(function(){l=d.now(),c()},s=0)}}(),function(){var o=setTimeout,a=o.turn=o.turn||function(f){l.push(f)==1&&s(c)},l=a.s=[],s=o.poll,u=0,d,c=function(){(d=l[u++])&&d(),(u==l.length||u==99)&&(l=a.s=l.slice(u),u=0),l.length&&s(c)}}(),function(){var o,a=setTimeout,l=a.turn;(a.each=a.each||function(s,u,d,c){c=c||9,function f(p,h,y){if(h=(p=(s||[]).splice(0,c)).length){for(var w=0;w<h&&o===(y=u(p[w]));w++);if(o===y){l(f);return}}d&&d(y)}()})()}()})(t,"./shim"),t(function(r){r.exports=function i(d,a,l){if(!d)return{to:i};var s,u=typeof a=="function",d=(this.tag||(this.tag={}))[d]||u&&(this.tag[d]={tag:d,to:i._={next:function(f){var p;(p=this.to)&&p.next(f)}}});if(u){var c={off:i.off||(i.off=function(){if(this.next===i._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=i._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:i._,next:a,the:d,on:this,as:l};return(c.back=d.last||d).to=c,d.last=c}return(d=d.to)&&s!==a&&d.next(a),d}})(t,"./onto"),t(function(r){r.exports=function(i){return i===null||typeof i=="string"||typeof i=="boolean"||typeof i=="number"&&i!=1/0&&i!=-1/0&&i===i||!!i&&typeof i["#"]=="string"&&Object.keys(i).length===1&&i["#"]}})(t,"./valid"),t(function(r){t("./shim");function i(){var d=+new Date;return s<d?(a=0,s=d+i.drift):s=d+(a+=1)/l+i.drift}i.drift=0;var o=-1/0,a=0,l=999,s=o,u;i.is=function(d,c,f){var p=c&&d&&d._&&d._[">"]||f;if(p)return typeof(p=p[c])=="number"?p:o},i.ify=function(d,c,f,p,h){(d=d||{})._=d._||{},h&&(d._["#"]=h);var y=d._[">"]||(d._[">"]={});return u!==c&&c!=="_"&&(typeof f=="number"&&(y[c]=f),u!==p&&(d[c]=p)),d},r.exports=i})(t,"./state"),t(function(r){t("./shim");function i(o){var a={s:{}},l=a.s;o=o||{max:999,age:1e3*9},a.check=function(u){return l[u]?s(u):!1};var s=a.track=function(u){var d=l[u]||(l[u]={});return d.was=a.now=+new Date,a.to||(a.to=setTimeout(a.drop,o.age+9)),s.ed&&s.ed(u),d};return a.drop=function(u){a.to=null,a.now=+new Date;var d=Object.keys(l);console.STAT&&console.STAT(a.now,+new Date-a.now,"dup drop keys"),setTimeout.each(d,function(c){var f=l[c];f&&(u||o.age)>a.now-f.was||delete l[c]},0,99)},a}r.exports=i})(t,"./dup"),t(function(r){t("./onto"),r.exports=function(a,l){if(this.on){var s=(this.opt||{}).lack||9e3;if(typeof a!="function"){if(!a)return;var d=a["#"]||a,u=(this.tag||"")[d];return u?(l&&(u=this.on(d,l),clearTimeout(u.err),u.err=setTimeout(function(){u.off()},s)),!0):void 0}var d=l&&l["#"]||i(9);if(!a)return d;var c=this.on(d,a,l);return c.err=c.err||setTimeout(function(){c.off(),c.next({err:"Error: No ACK yet.",lack:!0})},s),d}};var i=String.random||function(){return Math.random().toString(36).slice(2)}})(t,"./ask"),t(function(r){function i(h){return h instanceof i?(this._={$:this}).$:this instanceof i?i.create(this._={$:this,opt:h}):new i(h)}i.is=function(h){return h instanceof i||h&&h._&&h===h._.$||!1},i.version=.202,i.chain=i.prototype,i.chain.toJSON=function(){},t("./shim"),i.valid=t("./valid"),i.state=t("./state"),i.on=t("./onto"),i.dup=t("./dup"),i.ask=t("./ask"),function(){i.create=function(I){I.root=I.root||I,I.graph=I.graph||{},I.on=I.on||i.on,I.ask=I.ask||i.ask,I.dup=I.dup||i.dup();var R=I.$.opt(I.opt);return I.once||(I.on("in",h,I),I.on("out",h,I),I.on("put",v,I),i.on("create",I),I.on("create",I)),I.once=1,R};function h(I){if(I){if(I.out===h){this.to.next(I);return}var R=this,$=R.as,q=$.at||$,z=q.$,_=q.dup,U,T=I.DBG;if((U=I["#"])||(U=I["#"]=a(9)),!_.check(U)){if(_.track(U),U=I._,I._=typeof U=="function"?U:function(){},I.$&&I.$===(I.$._||"").$||(I.$=z),I["@"]&&!I.put&&m(I),!q.ask(I["@"],I))if(T&&(T.u=+new Date),I.put){y(I);return}else I.get&&i.on.get(I,z);T&&(T.uc=+new Date),R.to.next(I),T&&(T.ua=+new Date),!(I.nts||I.NTS)&&(I.out=h,q.on("out",I),T&&(T.ue=+new Date))}}}function y(I){if(I){var R=I._||"",$=R.root=((R.$=I.$||"")._||"").root;if(I["@"]&&R.faith&&!R.miss){I.out=h,$.on("out",I);return}R.latch=$.hatch,R.match=$.hatch=[];var q=I.put,z=R.DBG=I.DBG,_=+new Date;if(j=j||_,!(q["#"]&&q["."])){z&&(z.p=_),R["#"]=I["#"],R.msg=I,R.all=0,R.stun=1;var U=Object.keys(q);console.STAT&&console.STAT(_,((z||R).pk=+new Date)-_,"put sort");var T=0,W,K,O,B,L,F,H;(function G(Z){if(W!=T){if(W=T,!(O=U[T])){console.STAT&&console.STAT(_,((z||R).pd=+new Date)-_,"put"),g(R);return}(B=q[O])?(H=B._)?O!==H["#"]?F=k+S(O)+"soul not same.":(L=H[">"])||(F=k+S(O)+"no state."):F=k+S(O)+"no meta.":F=k+S(O)+"no node.",K=Object.keys(B||{})}if(F){I.err=R.err=F,g(R);return}var V=0,oe;for(Z=Z||0;Z++<9&&(oe=K[V++]);)if(oe!=="_"){var J=B[oe],M=L[oe];if(c===M){F=k+S(oe)+"on"+S(O)+"no state.";break}if(!s(J)){F=k+S(oe)+"on"+S(O)+"bad "+typeof J+S(J);break}w(J,oe,O,M,I),++P}if((K=K.slice(V)).length){l(G);return}++T,K=null,G(Z)})()}}}i.on.put=y;function w(I,R,$,q,z){var _=z._||"",U=_.root,T=U.graph,W,K=T[$]||f,O=u(K,R,1),B=K[R],L=_.DBG;(W=console.STAT)&&(!T[$]||!B)&&(W.has=(W.has||0)+1);var F=D();if(q>F){setTimeout(function(){w(I,R,$,q,z)},(W=q-F)>N?N:W),console.STAT&&console.STAT((L||_).Hf=+new Date,W,"future");return}if(!(q<O)&&!(!_.faith&&q===O&&(I===B||C(I)<=C(B))&&!_.miss)){_.stun++;var H=z["#"]+_.all++,G={toString:function(){return H},_};G.toJSON=G.toString,U.dup.track(G)["#"]=z["#"],L&&(L.ph=L.ph||+new Date),U.on("put",{"#":G,"@":z["@"],put:{"#":$,".":R,":":I,">":q},ok:z.ok,_})}}function v(I){var R;(R=(I._||"").DBG)&&(R.pa=+new Date,R.pm=R.pm||+new Date);var $=this,q=$.as,z=q.graph,_=I._,U=I.put,T=U["#"],W=U["."],K=U[":"],O=U[">"];I["#"];var B;(B=_.msg)&&(B=B.put)&&(B=B[T])&&d(B,W,O,K,T),z[T]=d(z[T],W,O,K,T),(B=(q.next||"")[T])&&B.on("in",I),g(_),$.to.next(I)}function g(I,R){var $;if(!I.stop&&!(!I.err&&0<--I.stun)&&(I.stop=1,!!($=I.root))){var q=I.match;q.end=1,q===$.hatch&&(!(q=I.latch)||q.end?delete $.hatch:$.hatch=q),I.hatch&&I.hatch(),setTimeout.each(I.match,function(z){z&&z()}),!(!(R=I.msg)||I.err||R.err)&&(R.out=h,I.root.on("out",R),A())}}function m(I){var R=I["@"]||"",$;if(!($=R._)){var q=(q=I.$)&&(q=q._)&&(q=q.root)&&(q=q.dup);if(!(q=q.check(R)))return;I["@"]=q["#"]||I["@"];return}$.acks=($.acks||0)+1,($.err=I.err)&&(I["@"]=$["#"],g($)),$.ok=I.ok||$.ok,!$.stop&&!$.crack&&($.crack=$.match&&$.match.push(function(){b($)})),b($)}function b(I){!I||!I.root||I.stun||I.acks!==I.all||I.root.on("in",{"@":I["#"],err:I.err,ok:I.err?c:I.ok||{"":1}})}var k="Error: Invalid graph!",S=function(I){return" '"+(""+I).slice(0,9)+"...' "},C=JSON.stringify,N=2147483647,D=i.state,P=0,j,A=function(){P>999&&P/-(j-(j=+new Date))>1&&(i.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),A=function(){P=0})}}(),function(){i.on.get=function(y,w){var v=w._,g=y.get,m=g["#"],b=v.graph[m],k=g["."],S=v.next||(v.next={}),C=S[m],N=y._||{},D=N.DBG=y.DBG;if(D&&(D.g=+new Date),!b)return v.on("get",y);if(k){if((typeof k!="string"||c===b[k])&&!((C||"").next||"")[k]){v.on("get",y);return}b=d({},k,u(b,k),b[k],m)}b&&h(y,b),v.on("get",y)};function h(y,w){var v=+new Date,g=y._||{},m=g.DBG=y.DBG,b=y["#"],k=a(9),S=Object.keys(w||"").sort(),C=((w||"")._||"")["#"];S.length;var N=y.$._.root,D=w===N.graph[C];console.STAT&&console.STAT(v,((m||g).gk=+new Date)-v,"got keys"),w&&function P(){v=+new Date;for(var j=0,A,I={},R;j<9&&(A=S[j++]);)d(I,A,u(w,A),w[A],C);S=S.slice(j),(R={})[C]=I,I=R;var $;D&&($=function(){},$.ram=$.faith=!0),R=S.length,console.STAT&&console.STAT(v,-(v-(v=+new Date)),"got copied some"),m&&(m.ga=+new Date),N.on("in",{"@":b,"#":k,put:I,"%":R?k=a(9):c,$:N.$,_:$,DBG:m,FOO:1}),console.STAT&&console.STAT(v,+new Date-v,"got in"),R&&setTimeout.turn(P)}(),w||N.on("in",{"@":y["#"]})}i.on.get.ack=h}(),function(){i.chain.opt=function(h){h=h||{};var y=this,w=y._,v=h.peers||h;return Object.plain(h)||(h={}),Object.plain(w.opt)||(w.opt=h),typeof v=="string"&&(v=[v]),Object.plain(w.opt.peers)||(w.opt.peers={}),v instanceof Array&&(h.peers={},v.forEach(function(g){var m={};m.id=m.url=g,h.peers[g]=w.opt.peers[g]=w.opt.peers[g]||m})),o(h,function g(m){var b=this[m];if(this&&this.hasOwnProperty(m)||typeof b=="string"||Object.empty(b)){this[m]=b;return}b&&b.constructor!==Object&&!(b instanceof Array)||o(b,g)}),w.opt.from=h,i.on("opt",w),w.opt.uuid=w.opt.uuid||function(m){return i.state().toString(36).replace(".","")+String.random(m||12)},y}}();var o=function(h,y){Object.keys(h).forEach(y,h)},a=String.random,l=setTimeout.turn,s=i.valid,u=i.state.is,d=i.state.ify,c,f={},p;i.log=function(){return!i.log.off&&p.log.apply(p,arguments),[].slice.call(arguments).join(" ")},i.log.once=function(h,y,w){return(w=i.log.once)[h]=w[h]||0,w[h]++||i.log(y)},typeof window<"u"&&((window.GUN=window.Gun=i).window=window);try{typeof n<"u"&&(n.exports=i)}catch{}r.exports=i,(i.window||{}).console=(i.window||{}).console||{log:function(){}},(p=console).only=function(h,y){return p.only.i&&h===p.only.i&&p.only.i++&&(p.log.apply(p,arguments)||y)},i.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(t,"./root"),t(function(r){var i=t("./root");i.chain.back=function(l,s){var u;if(l=l||1,l===-1||l===1/0)return this._.root.$;if(l===1)return(this._.back||this._).$;var d=this,c=d._;if(typeof l=="string"&&(l=l.split(".")),l instanceof Array){var f=0,p=l.length,u=c;for(f;f<p;f++)u=(u||o)[l[f]];return a!==u?s?d:u:(u=c.back)?u.$.back(l,s):void 0}if(typeof l=="function"){for(var h,u={back:c};(u=u.back)&&a===(h=l(u,s)););return h}return typeof l=="number"?(c.back||c).$.back(l-1):this};var o={},a})(t,"./back"),t(function(r){var i=t("./root");i.chain.chain=function(g){var m=this,b=m._,k=new(g||m).constructor(m),S=k._,C;return S.root=C=b.root,S.id=++C.once,S.back=m._,S.on=i.on,S.on("in",i.on.in,S),S.on("out",i.on.out,S),k};function o(g){var m,b=this.as,k=b.back,S=b.root,C;if(g.$||(g.$=b.$),this.to.next(g),b.err){b.on("in",{put:b.put=c,$:b.$});return}if(m=g.get){if(S.pass&&(S.pass[b.id]=b),b.lex&&Object.keys(b.lex).forEach(function(N){C[N]=b.lex[N]},C=g.get=g.get||{}),m["#"]||b.soul){if(m["#"]=m["#"]||b.soul,g["#"]||(g["#"]=f(9)),k=S.$.get(m["#"])._,m=m["."]){if(h(k.put,m)&&(C=k.ask&&k.ask[m],(k.ask||(k.ask={}))[m]=k.$.get(m)._,k.on("in",{get:m,put:{"#":k.soul,".":m,":":k.put[m],">":w(S.graph[k.soul],m)}}),C))return}else{if(C=k.ask&&k.ask[""],(k.ask||(k.ask={}))[""]=k,c!==k.put&&(k.on("in",k),C))return;g.$=k.$}return S.ask(u,g),S.on("in",g)}if(m["."])return b.get?(g={get:{".":b.get},$:b.$},(k.ask||(k.ask={}))[b.get]=g.$._,k.on("out",g)):(g={get:b.lex?g.get:{},$:b.$},k.on("out",g));if((b.ask||(b.ask={}))[""]=b,b.get)return m["."]=b.get,(k.ask||(k.ask={}))[b.get]=g.$._,k.on("out",g)}return k.on("out",g)}i.on.out=o;function a(g,m){m=m||this.as;var b=m.root,k=g.$||(g.$=m.$),S=(k||"")._||d,C=g.put||"",N=C["#"],D=C["."],P=c!==C["="]?C["="]:C[":"],j=C[">"]||-1/0,A;if(c!==g.put&&(c===C["#"]||c===C["."]||c===C[":"]&&c===C["="]||c===C[">"])){if(!p(C)){if(!(N=((C||"")._||"")["#"])){console.log("chain not yet supported for",C,"...",g,m);return}return k=m.root.$.get(N),setTimeout.each(Object.keys(C).sort(),function(I){I=="_"||c===(j=w(C,I))||m.on("in",{$:k,put:{"#":N,".":I,"=":C[I],">":j},VIA:g})})}m.on("in",{$:S.back.$,put:{"#":N=S.back.soul,".":D=S.has||S.get,"=":C,">":w(S.back.put,D)},via:g});return}(g.seen||"")[m.id]||((g.seen||(g.seen=function(){}))[m.id]=m,m!==S&&(Object.keys(g).forEach(function(I){C[I]=g[I]},C={}),C.get=m.get||C.get,!m.soul&&!m.has?C.$$$=C.$$$||m.$:S.soul&&(C.$=m.$,C.$$=C.$$||S.$),g=C),s(g,m),(m.soul||g.$$)&&j>=w(b.graph[N],D)&&((C=b.$.get(N)._).put=v(C.put,D,j,P,N)),!S.soul&&j>=w(b.graph[N],D)&&(A=(b.$.get(N)._.next||"")[D])&&(A.put=P,typeof(C=p(P))=="string"&&(A.put=b.$.get(C)._.put||P)),this.to&&this.to.next(g),m.any&&setTimeout.each(Object.keys(m.any),function(I){(I=m.any[I])&&I(g)},0,99),m.echo&&setTimeout.each(Object.keys(m.echo),function(I){(I=m.echo[I])&&I.on("in",g)},0,99),((g.$$||"")._||S).soul&&(A=m.next)&&(A=A[D])&&(C={},Object.keys(g).forEach(function(I){C[I]=g[I]}),C.$=(g.$$||g.$).get(C.get=D),delete C.$$,delete C.$$$,A.on("in",C)),l(g,m))}i.on.in=a;function l(g,m){if(m=m||this.as||g.$._,!(g.$$&&this!==i.on)&&!(!g.put||m.soul)){var b=g.put||"",k=b["="]||b[":"],D,S=m.root,C=S.$.get(b["#"]).get(b["."])._;if(typeof(k=p(k))!="string"){this===i.on&&((C.echo||(C.echo={}))[m.id]=m);return}if(!((C.echo||(C.echo={}))[m.id]&&!(S.pass||"")[m.id])){if(D=S.pass){if(D[k+m.id])return;D[k+m.id]=1}(C.echo||(C.echo={}))[m.id]=m,m.has&&(m.link=k);var N=S.$.get(C.link=k)._;(N.echo||(N.echo={}))[C.id]=C;var D=m.ask||"";(D[""]||m.lex)&&N.on("out",{get:{"#":k}}),setTimeout.each(Object.keys(D),function(P,j){!P||!(j=D[P])||j.on("out",{get:{"#":k,".":P}})},0,99)}}}i.on.link=l;function s(g,m){var b=g.put||"",k=c!==b["="]?b["="]:b[":"],S=m.root,C,N;if(c===k){if(m.soul&&c!==m.put||(N=(g.$$||g.$||"")._||"",g["@"]&&(c!==N.put||c!==m.put)))return;(C=m.link||g.linked)&&delete(S.$.get(C)._.echo||"")[m.id],m.has&&(m.link=null),m.put=c,setTimeout.each(Object.keys(m.next||""),function(D,P){(P=m.next[D])&&(C&&delete(S.$.get(C).get(D)._.echo||"")[P.id],P.on("in",{get:D,put:c,$:P.$}))},0,99);return}m.soul||g.$$||(C=p(k),N=g.$._||"",!((C===N.link||m.has&&!N.link)&&!((S.pass||"")[m.id]&&typeof C!="string"))&&(delete(N.echo||"")[m.id],s({get:m.get,put:c,$:g.$,linked:g.linked=g.linked||N.link},m)))}i.on.unlink=s;function u(g,m){var b=this.as,k=b.$._;k.root;var S=b.get||"",C=(g.put||"")[S["#"]]||"";if(!g.put||typeof S["."]=="string"&&c===C[S["."]]){if(c!==k.put||!k.soul&&!k.has)return;k.ack=(k.ack||0)+1,k.on("in",{get:k.get,put:k.put=c,$:k.$,"@":g["@"]});return}(g._||{}).miss=1,i.on.put(g)}var d={},c,f=String.random,p=i.valid,h=function(g,m){return g&&Object.prototype.hasOwnProperty.call(g,m)},y=i.state,w=y.is,v=y.ify})(t,"./chain"),t(function(r){var i=t("./root");i.chain.get=function(c,f,p){var h,y;if(typeof c=="string"){if(c.length==0)return(h=this.chain())._.err={err:i.log("0 length key!",c)},f&&f.call(h,h._.err),h;var w=this,v=w._,g=v.next||s;(h=g[c])||(h=c&&o(c,w)),h=h&&h.$}else if(typeof c=="function"){let D=function(P,j,A){if(!D.stun&&!((_=b.pass)&&!_[k])){var I=P.$._,R=(P.$$||"")._,$=(R||I).put,q=!I.has&&!I.soul,z={},_;if((q||d===$)&&($=d===((_=P.put)||"")["="]?d===(_||"")[":"]?_:_[":"]:_["="]),typeof(_=i.valid($))=="string"&&($=d===(_=b.$.get(_)._.put)?m.not?d:$:_),!(m.not&&d===$)){if(d===m.stun){if((_=b.stun)&&_.on&&(v.$.back(function(U){if(_.on(""+U.id,z={}),(z.run||0)<D.id)return z}),!z.run&&_.on(""+I.id,z={}),!z.run&&R&&_.on(""+R.id,z={}),D.id>z.run&&((!z.stun||z.stun.end)&&(z.stun=_.on("stun"),z.stun=z.stun&&z.stun.last),z.stun&&!z.stun.end))){(z.stun.add||(z.stun.add={}))[k]=function(){D(P,j,1)};return}if(d===$&&(A=0),(_=b.hatch)&&!_.end&&d===m.hatch&&!A){if(S[I.$._.id])return;S[I.$._.id]=1,_.push(function(){D(P,j,1)});return}S={}}if(b.pass){if(b.pass[k+I.id])return;b.pass[k+I.id]=1}if(m.on){m.ok.call(I.$,$,I.get,P,j||D);return}if(m.v2020){m.ok(P,j||D);return}Object.keys(P).forEach(function(U){_[U]=P[U]},_={}),P=_,P.put=$,m.ok.call(m.as,P,j||D)}}};var C=D;if(f===!0)return a(this,c,f,p),this;h=this;var v=h._,m=f||{},b=v.root,k;m.at=v,m.ok=c;var S={};return D.at=v,(v.any||(v.any={}))[k=String.random(7)]=D,D.off=function(){D.stun=1,v.any&&delete v.any[k]},D.rid=l,D.id=m.run||++b.once,y=b.pass,(b.pass={})[k]=1,m.out=m.out||{get:{}},v.on("out",m.out),b.pass=y,h}else{if(typeof c=="number")return this.get(""+c,f,p);if(typeof(y=u(c))=="string")return this.get(y,f,p);(y=this.get.next)&&(h=y(this,c))}return h?(f&&typeof f=="function"&&h.get(f,p),h):((h=this.chain())._.err={err:i.log("Invalid get request!",c)},f&&f.call(h,h._.err),h)};function o(c,f){var p=f._,h=p.next,y=f.chain(),w=y._;return h||(h=p.next={}),h[w.get=c]=w,f===p.root.$?w.soul=c:(p.soul||p.has)&&(w.has=c),w}function a(c,f,p,h){var y=c._,w=0,v;return(v=y.soul||y.link)?f(v,h,y):y.jam?y.jam.push([f,h]):(y.jam=[[f,h]],c.get(function(m,b){if(!(d===m.put&&!y.root.opt.super&&(v=Object.keys(y.root.opt.peers).length)&&++w<=v)){b.rid(m);var k=(k=m.$)&&k._||{},S=0,C;for(v=y.jam,delete y.jam;C=v[S++];){var N=C[0];C=C[1],N&&N(k.link||k.soul||i.valid(m.put)||((m.put||{})._||{})["#"],C,m,b)}}},{out:{get:{".":!0}}}),c)}function l(c){var f=this.at||this.on;if(!c||f.soul||f.has)return this.off();if(c=(c=(c=c.$||c)._||c).id){f.map;var p;if((p=this.seen||(this.seen={}))[c])return!0;p[c]=!0}}var s={},u=i.valid,d})(t,"./get"),t(function(r){var i=t("./root");i.chain.put=function(h,y,w){var v=this,g=v._,m=g.root;w=w||{},w.root=g.root,w.run||(w.run=m.once),o(w,g.id),w.ack=w.ack||y,w.via=w.via||v,w.data=w.data||h,w.soul||(w.soul=g.soul||typeof y=="string"&&y);var b=w.state=w.state||i.state();return typeof h=="function"?(h(function(k){w.data=k,v.put(u,u,w)}),v):w.soul?(w.$=m.$.get(w.soul),w.todo=[{it:w.data,ref:w.$}],w.turn=w.turn||c,w.ran=w.ran||a,function k(){var S=w.todo,C=S.pop(),N=C.it;C.ref&&C.ref._.id;var D,P,j,A,I;if(o(w,C.ref),(A=C.todo)&&(P=A.pop(),N=N[P],A.length&&S.push(C)),P&&(S.path||(S.path=[])).push(P),!(D=f(N))&&!(I=i.is(N))){if(!Object.plain(N)){a.err(w,"Invalid data: "+s(N)+" at "+(w.via.back(function(_){_.get&&A.push(_.get)},A=[])||A.join("."))+"."+(S.path||[]).join("."));return}for(var R=w.seen||(w.seen=[]),$=R.length;$--;)if(N===(A=R[$]).it){D=N=A.link;break}}if(P&&D)C.node=p(C.node,P,b,N);else{let _=function(U,T){var W=j.link["#"];T&&(T.off(),T.rid(U));var K=W||U.soul||(A=(U.$$||U.$)._||"").soul||A.link||((A=A.put||"")._||"")["#"]||A["#"]||((A=U.put||"")&&U.$$?A["#"]:(A["="]||A[":"]||"")["#"]);if(!W&&o(w,U.$),!K&&!C.link["#"]){(C.wait||(C.wait=[])).push(function(){_(U,T)});return}K||(K=[],(U.$$||U.$).back(function(O){if(A=O.soul||O.link)return K.push(A);K.push(O.get)}),K=K.reverse().join("/")),j.link["#"]=K,!I&&(((w.graph||(w.graph={}))[K]=j.node||(j.node={_:{}}))._["#"]=K),delete w.wait[q],j.wait&&setTimeout.each(j.wait,function(O){O&&O()}),w.ran(w)};var z=_;if(!w.seen){a.err(w,"Data at root of graph must be a node (an object).");return}w.seen.push(j={it:N,link:{},todo:I?[]:Object.keys(N).sort().reverse(),path:(S.path||[]).slice(),up:C}),C.node=p(C.node,P,b,j.link),!I&&j.todo.length&&S.push(j);var q=w.seen.length;(w.wait||(w.wait={}))[q]="",A=(j.ref=I?N:P?C.ref.get(P):C.ref)._,(A=N&&(N._||"")["#"]||A.soul||A.link)?_({soul:A}):j.ref.get(_,{run:w.run,v2020:1,out:{get:{".":" "}}})}if(!S.length)return w.ran(w);w.turn(k)}(),v):(l(w),v)};function o(h,y){if(y){y=(y._||"").id||y;var w=h.root.stun||(h.root.stun={on:i.on}),v={},g;h.stun||(h.stun=w.on("stun",function(){})),(g=w.on(""+y))&&g.the.last.next(v),!(v.run>=h.run)&&w.on(""+y,function(m){if(h.stun.end){this.off(),this.to.next(m);return}m.run=m.run||h.run,m.stun=m.stun||h.stun})}}function a(h){if(h.err){a.end(h.stun,h.root);return}if(!(h.todo.length||h.end||!Object.empty(h.wait))){h.end=1;var y=h.$.back(-1)._,w=y.root,v=y.ask(function(k){w.on("ack",k),k.err&&!k.lack&&i.log(k),++g>(h.acks||0)&&this.off(),h.ack&&h.ack(k,this)},h.opt),g=0,m=h.stun,b;(b=function(){m&&(a.end(m,w),setTimeout.each(Object.keys(m=m.add||""),function(k){(k=m[k])&&k()}))}).hatch=b,h.ack&&!h.ok&&(h.ok=h.acks||9),h.via._.on("out",{put:h.out=h.graph,ok:h.ok&&{"@":h.ok+1},opt:h.opt,"#":v,_:b})}}a.end=function(h,y){h.end=d,h.the.to===h&&h===h.the.last&&delete y.stun,h.off()},a.err=function(h,y){(h.ack||d).call(h,h.out={err:h.err=i.log(y)}),h.ran(h)};function l(h){var y=h.via._,w;h.via=h.via.back(function(v){if(v.soul||!v.get)return v.$;w=h.data,(h.data={})[v.get]=w}),(!h.via||!h.via._.soul)&&(h.via=y.root.$.get(((h.data||"")._||"")["#"]||y.$.back("opt.uuid")())),h.via.put(h.data,h.ack,h)}function s(h,y){return h&&(y=h.constructor)&&y.name||typeof h}var u,d=function(){},c=setTimeout.turn,f=i.valid,p=i.state.ify})(t,"./put"),t(function(r){var i=t("./root");t("./chain"),t("./back"),t("./put"),t("./get"),r.exports=i})(t,"./index"),t(function(r){var i=t("./index");i.chain.on=function(l,s,u,d){var c=this,f=c._;f.root;var p;if(typeof l=="string")return s?(p=f.on(l,s,u||f,d),u&&u.$&&(u.subs||(u.subs=[])).push(p),c):f.on(l);var h=s;return(h=h===!0?{change:!0}:h||{}).not=1,h.on=1,c.get(l,h),c},i.chain.once=function(l,s){if(s=s||{},!l)return o(this);var u=this,d=u._,c=d.root;d.put;var f=String.random(7),p;return u.get(function(h,y,w,v){var g=this,m=g._,b=m.one||(m.one={});if(v.stun||b[f]==="")return;if((p=i.valid(h))===!0){k();return}if(typeof p=="string")return;clearTimeout((d.one||"")[f]),clearTimeout(b[f]),b[f]=setTimeout(k,s.wait||99);function k(S){if(!m.has&&!m.soul&&(m={put:h,get:y}),a===(p=m.put)&&(p=((w.$$||"")._||"").put),typeof i.valid(p)=="string"&&(p=c.$.get(p)._.put,p===a&&!S)){b[f]=setTimeout(function(){k(1)},s.wait||99);return}v.stun||b[f]!==""&&(b[f]="",(d.soul||d.has)&&v.off(),l.call(g,p,m.get),clearTimeout(b[f]))}},{on:1}),u};function o(l,s,u){return i.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(u=l.chain())._.nix=l.once(function(d,c){u._.on("in",this._)}),u._.lex=l._.lex,u}i.chain.off=function(){var l=this,s=l._,u,d=s.back;if(d)return s.ack=0,(u=d.next)&&u[s.get]&&delete u[s.get],(u=d.any)&&(delete d.any,d.any={}),(u=d.ask)&&delete u[s.get],(u=d.put)&&delete u[s.get],(u=s.soul)&&delete d.root.graph[u],(u=s.map)&&Object.keys(u).forEach(function(c,f){f=u[c],f.link&&d.root.$.get(f.link).off()}),(u=s.next)&&Object.keys(u).forEach(function(c,f){f=u[c],f.$.off()}),s.on("off",{}),l};var a})(t,"./on"),t(function(r){var i=t("./index"),o=i.chain.get.next;i.chain.get.next=function(u,d){var c;return Object.plain(d)?(c=((c=d["#"])||"")["="]||c)?u.get(c):((c=u.chain()._).lex=d,u.on("in",function(f){String.match(f.get||(f.put||"")["."],d["."]||d["#"]||d)&&c.on("in",f),this.to.next(f)}),c.$):(o||l)(u,d)},i.chain.map=function(u,d,c){var f=this,p=f._,h,y;return Object.plain(u)&&(h=u["."]?u:{".":u},u=s),u?(i.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),y=f.chain(),f.map().on(function(w,v,g,m){var b=(u||l).call(this,w,v,g,m);if(s!==b){if(w===b)return y._.on("in",g);if(i.is(b))return y._.on("in",b._);var k={};Object.keys(g.put).forEach(function(S){k[S]=g.put[S]},k),k["="]=b,y._.on("in",{get:v,put:k})}}),y):((y=p.each)||((p.each=y=f.chain())._.lex=h||y._.lex||p.lex,y._.nix=f.back("nix"),f.on("in",a,y._)),y)};function a(u){this.to.next(u);var d=this.as,c=u.$,f=c._,p=u.put,h;!f.soul&&!u.$$||(h=d.lex)&&!String.match(u.get||(p||"")["."],h["."]||h["#"]||h)||i.on.link(u,d)}var l=function(){},s})(t,"./map"),t(function(r){var i=t("./index");i.chain.set=function(o,a,l){var s=this,u=s.back(-1),d,c;return a=a||function(){},l=l||{},l.item=l.item||o,(d=((o||"")._||"")["#"])&&((o={})["#"]=d),typeof(c=i.valid(o))=="string"?s.get(d=c).put(o,a,l):i.is(o)?(s.put(function(f){o.get(function(p,h,y){if(!p)return a.call(s,{err:i.log('Only a node can be linked! Not "'+y.put+'"!')});(c={})[p]={"#":p},f(c)},!0)}),o):(Object.plain(o)&&(o=u.get(d=s.back("opt.uuid")()).put(o)),s.get(d||u.back("opt.uuid")(7)).put(o,a,l))}})(t,"./set"),t(function(r){t("./shim");var i=function(){},o=JSON.parseAsync||function(u,d,c){var f,p=+new Date;try{d(f,JSON.parse(u,c),a.sucks(+new Date-p))}catch(h){d(h)}},a=JSON.stringifyAsync||function(u,d,c,f){var p,h=+new Date;try{d(p,JSON.stringify(u,c,f),a.sucks(+new Date-h))}catch(y){d(y)}};a.sucks=function(u){u>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),a.sucks=i)};function l(u){var d=function(){},c=u.opt||{};c.log=c.log||console.log,c.gap=c.gap||c.wait||0,c.max=c.max||(c.memory?c.memory*999*999:3e8)*.3,c.pack=c.pack||c.max*.01*.01,c.puff=c.puff||9;var f=setTimeout.turn||setTimeout,p=u.dup,h=p.check,y=p.track,w=d.hear=function(m,b){if(m){if(c.max<=m.length)return d.say({dam:"!",err:"Message too big!"},b);d===this&&(w.d+=m.length||0,++w.c);var k=b.SH=+new Date,S=m[0],C;if(S==="["){o(m,function(N,D){if(N||!D)return d.say({dam:"!",err:"DAM JSON parse error."},b);console.STAT&&console.STAT(+new Date,D.length,"# on hear batch");var P=c.puff;(function j(){for(var A=+new Date,I=0,R;I<P&&(R=D[I++]);)d.hear(R,b);D=D.slice(I),console.STAT&&console.STAT(A,+new Date-A,"hear loop"),v(b),D.length&&f(j,0)})()}),m="";return}if(S==="{"||(m["#"]||Object.plain(m))&&(C=m)){if(C)return w.one(C,b,k);o(m,function(N,D){if(N||!D)return d.say({dam:"!",err:"DAM JSON parse error."},b);w.one(D,b,k)});return}}};w.one=function(m,b,j){var S,C,N,D,P;if(m.DBG&&(m.DBG=P={DBG:m.DBG}),P&&(P.h=j),P&&(P.hp=+new Date),(S=m["#"])||(S=m["#"]=String.random(9)),!(N=h(S))&&(C=m["##"],!(C&&(N=m["@"]||m.get&&S)&&p.check(D=N+C)))){if((m._=function(){}).via=d.leap=b,(N=m["><"])&&typeof N=="string"&&N.slice(0,99).split(",").forEach(function(A){this[A]=1},m._.yo={}),N=m.dam){(N=d.hear[N])&&N(m,b,u),y(S);return}(N=m.ok)&&(m._.near=N["/"]);var j=+new Date;P&&(P.is=j),b.SI=S,y.ed=function(A){S===A&&(y.ed=0,(A=p.s[S])&&(A.via=b,m.get&&(A.it=m)))},u.on("in",d.last=m),P&&(P.hd=+new Date),console.STAT&&console.STAT(j,+new Date-j,m.get?"msg get":m.put?"msg put":"msg"),y(S),D&&y(D),d.leap=d.last=null}},w.c=w.d=0,function(){var m=0,b;d.hash=function(C,N){var D,P,j,A=+new Date;a(C.put,function I(R,$){var q=(P||(P=j=$||"")).slice(0,32768);if(D=String.hash(q,D),P=P.slice(32768),P){f(I,0);return}console.STAT&&console.STAT(A,+new Date-A,"say json+hash"),C._.$put=j,C["##"]=D,d.say(C,N),delete C._.$put},k)};function k(C,N){var D;return N instanceof Object?(Object.keys(N).sort().forEach(S,{to:D={},on:N}),D):N}function S(C){this.to[C]=this.on[C]}d.say=function(C,N){var D;if((D=this)&&(D=D.to)&&D.next&&D.next(C),!C)return!1;var P,j,A,I=C["@"],R=C._||(C._=function(){}),$=C.DBG,q=+new Date;if(R.y=R.y||q,N||$&&($.y=q),(P=C["#"])||(P=C["#"]=String.random(9)),!b&&y(P),!(j=C["##"])&&s!==C.put&&!R.via&&I){d.hash(C,N);return}if(!N&&I&&(N=(D=p.s[I])&&(D.via||(D=D.it)&&(D=D._)&&D.via)||(D=d.last)&&I===D["#"]&&d.leap),!N&&I)return p.s[I]?void 0:(console.STAT&&console.STAT(+new Date,++m,"total no peer to ack to"),!1);if(I&&!C.put&&!j&&((p.s[I]||"").it||"")["##"])return!1;if(!N&&d.way)return d.way(C);if($&&($.yh=+new Date),!(A=R.raw)){d.raw(C,N);return}if($&&($.yr=+new Date),!N||!N.id){if(!Object.plain(N||c.peers))return!1;var q=+new Date;c.puff;var z=c.peers,_=Object.keys(N||c.peers||{});console.STAT&&console.STAT(q,+new Date-q,"peer keys"),function W(){var K=+new Date;b=1;var O=R.raw;R.raw=A;for(var B=0,L;B<9&&(L=(_||"")[B++]);)(L=z[L]||(N||"")[L])&&d.say(C,L);R.raw=O,b=0,_=_.slice(B),console.STAT&&console.STAT(K,+new Date-K,"say loop"),_.length&&(f(W,0),I&&y(I))}();return}if(!N.wire&&d.wire&&d.wire(N),P!==N.last){if(N.last=P,N===R.via||(D=R.yo)&&(D[N.url]||D[N.pid]||D[N.id]))return!1;if(console.STAT&&console.STAT(q,(($||R).yp=+new Date)-(R.y||q),"say prep"),!b&&I&&y(I),N.batch){if(N.tail=(D=N.tail||0)+A.length,N.tail<=c.pack){N.batch+=(D?",":"")+A;return}v(N)}N.batch="[";var U=+new Date;setTimeout(function(){console.STAT&&console.STAT(U,+new Date-U,"0ms TO"),v(N)},c.gap),g(A,N),console.STAT&&I===N.SI&&console.STAT(q,+new Date-N.SH,"say ack")}},d.say.c=d.say.d=0,d.raw=function(C,N){if(!C)return"";var D=C._||{},P,j;if(j=D.raw)return j;if(typeof C=="string")return C;var A=C["##"],I=C["@"];if(A&&I){if(!D.via&&h(I+A))return!1;if(j=(p.s[I]||"").it){if(A===j["##"])return!1;j["##"]||(j["##"]=A)}}if(!C.dam&&!C["@"]){var R=0,$=[];j=c.peers;for(var q in j){var z=j[q];if($.push(z.url||z.pid||z.id),++R>6)break}R>1&&(C["><"]=$.join())}if(C.put&&(j=C.ok)&&(C.ok={"@":(j["@"]||1)-1,"/":j["/"]==C._.near?d.near:j["/"]}),P=D.$put){j={},Object.keys(C).forEach(function(U){j[U]=C[U]}),j.put=":])([:",a(j,function(U,T){if(!U){var W=+new Date;j=T.indexOf('"put":":])([:"'),_(s,T=T.slice(0,j+6)+P+T.slice(j+14)),console.STAT&&console.STAT(W,+new Date-W,"say slice")}});return}a(C,_);function _(U,T){U||(D.raw=T,d.say(C,N))}}}();function v(m){var b=m.batch,k=typeof b=="string";if(k&&(b+="]"),m.batch=m.tail=null,!!b&&!(k?3>b.length:!b.length)){if(!k)try{b=b.length===1?b[0]:JSON.stringify(b)}catch(S){return c.log("DAM JSON stringify error",S)}b&&g(b,m)}}function g(m,b){try{var k=b.wire;b.say?b.say(m):k.send&&k.send(m),d.say.d+=m.length||0,++d.say.c}catch{(b.queue=b.queue||[]).push(m)}}return d.near=0,d.hi=function(m){var b=m.wire,k;if(!b){d.wire(m.length&&{url:m,id:m}||m);return}m.id?c.peers[m.url||m.id]=m:(k=m.id=m.id||m.url||String.random(9),d.say({dam:"?",pid:u.opt.pid},c.peers[k]=m),delete p.s[m.last]),m.met||(d.near++,m.met=+new Date,u.on("hi",m)),k=m.queue,m.queue=[],setTimeout.each(k||[],function(S){g(S,m)},0,9)},d.bye=function(m){m.met&&--d.near,delete m.met,u.on("bye",m);var b=+new Date;b=b-(m.met||b),d.bye.time=((d.bye.time||b)+b)/2},d.hear["!"]=function(m,b){c.log("Error:",m.err)},d.hear["?"]=function(m,b){m.pid&&(b.pid||(b.pid=m.pid),m["@"])||(d.say({dam:"?",pid:c.pid,"@":m["#"]},b),delete p.s[b.last])},d.hear.mob=function(m,b){if(m.peers){var k=Object.keys(m.peers),S=k[Math.random()*k.length>>0];S&&(d.bye(b),d.hi(S))}},u.on("create",function(m){m.opt.pid=m.opt.pid||String.random(9),this.to.next(m),m.on("out",d.say)}),u.on("bye",function(m,b){m=c.peers[m.id||m]||m,this.to.next(m),m.bye?m.bye():(b=m.wire)&&b.close&&b.close(),delete c.peers[m.id],m.wire=null}),u.on("bye",function(m,b){this.to.next(m),(b=console.STAT)&&(b.peers=d.near),(b=m.url)&&setTimeout(function(){},c.lack||9e3)}),u.on("hi",function(m,b){if(this.to.next(m),(b=console.STAT)&&(b.peers=d.near),!c.super){var k=Object.keys(u.next||"");k.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(k,function(S){var C=u.next[S];if(c.super||(C.ask||"")[""]){d.say({get:{"#":S}},m);return}setTimeout.each(Object.keys(C.ask||""),function(N){N&&d.say({"##":String.hash((u.graph[S]||"")[N]),get:{"#":S,".":N}},m)})})}}),d}var s;try{r.exports=l}catch{}})(t,"./mesh"),t(function(r){var i=t("./index");i.Mesh=t("./mesh"),i.on("opt",function(a){if(this.to.next(a),a.once)return;var l=a.opt;if(l.WebSocket===!1)return;var s=i.window||{},u=l.WebSocket||s.WebSocket||s.webkitWebSocket||s.mozWebSocket;if(!u)return;l.WebSocket=u;var d=l.mesh=l.mesh||i.Mesh(a);d.wire||l.wire,d.wire=l.wire=c;function c(y){try{if(!y||!y.url)return v&&v(y);var w=y.url.replace(/^http/,"ws"),v=y.wire=new l.WebSocket(w);return v.onclose=function(){p(y),l.mesh.bye(y)},v.onerror=function(g){p(y)},v.onopen=function(){l.mesh.hi(y)},v.onmessage=function(g){g&&l.mesh.hear(g.data||g,y)},v}catch{l.mesh.bye(y)}}setTimeout(function(){!l.super&&a.on("out",{dam:"hi"})},1);var f=2*999;function p(y){clearTimeout(y.defer),l.peers[y.url]&&(h&&y.retry<=0||(y.retry=(y.retry||l.retry+1||60)-(-y.tried+(y.tried=+new Date)<f*4?1:0),y.defer=setTimeout(function w(){if(h&&h.hidden)return setTimeout(w,f);c(y)},f)))}var h=""+o!=typeof document&&document});var o})(t,"./websocket"),t(function(r){if(!(typeof Gun>"u")){var i=function(){},o;try{o=(Gun.window||i).localStorage}catch{}o||(Gun.log("Warning: No localStorage exists to persist data to!"),o={setItem:function(l,s){this[l]=s},removeItem:function(l){delete this[l]},getItem:function(l){return this[l]}});var a=JSON.stringifyAsync||function(l,s,u,d){var c;try{s(c,JSON.stringify(l,u,d))}catch(f){s(f)}};Gun.on("create",function l(s){this.to.next(s);var u=s.opt;s.graph;var d=[],c,f,p,h;if(u.localStorage===!1)return;u.prefix=u.file||"gun/";try{c=l[u.prefix]=l[u.prefix]||JSON.parse(p=o.getItem(u.prefix))||{}}catch{c=l[u.prefix]={}}p=(p||"").length,s.on("get",function(w){this.to.next(w);var v=w.get,g,m,b,k;!v||!(g=v["#"])||(m=c[g]||k,m&&(b=v["."])&&!Object.plain(b)&&(m=Gun.state.ify({},b,Gun.state.is(m,b),m[b],g)),Gun.on.get.ack(w,m))}),s.on("put",function(w){this.to.next(w);var v=w.put,g=v["#"],m=v["."],b=w["#"],k=w.ok||"";if(c[g]=Gun.state.ify(c[g],m,v[">"],v[":"],g),h&&p>4999880){s.on("in",{"@":b,err:"localStorage max!"});return}!w["@"]&&(!w._.via||Math.random()<k["@"]/k["/"])&&d.push(b),!f&&(f=setTimeout(y,9+p/333))});function y(){if(!d.length&&((setTimeout.turn||"").s||"").length){setTimeout(y,99);return}var w=d;clearTimeout(f),f=!1,d=[],a(c,function(v,g){try{!v&&o.setItem(u.prefix,g)}catch(m){v=h=m||"localStorage failure"}v&&(Gun.log(v+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),s.on("localStorage:error",{err:v,get:u.prefix,put:c})),p=g.length,setTimeout.each(w,function(m){s.on("in",{"@":m,err:v,ok:0})},0,99)})}})}})(t,"./localStorage")})(),function(){var j;if(""+j!=typeof Gun){var t=function(A){console.warn("Warning! Deprecated internal utility will break in next version:",A)},n=Gun;n.fn=n.fn||{is:function(A){return t("fn"),!!A&&typeof A=="function"}},n.bi=n.bi||{is:function(A){return t("bi"),A instanceof Boolean||typeof A=="boolean"}},n.num=n.num||{is:function(A){return t("num"),!r(A)&&(A-parseFloat(A)+1>=0||A===1/0||A===-1/0)}},n.text=n.text||{is:function(A){return t("text"),typeof A=="string"}},n.text.ify=n.text.ify||function(A){return t("text.ify"),n.text.is(A)?A:typeof JSON<"u"?JSON.stringify(A):A&&A.toString?A.toString():A},n.text.random=n.text.random||function(A,I){t("text.random");var R="";for(A=A||24,I=I||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";A>0;)R+=I.charAt(Math.floor(Math.random()*I.length)),A--;return R},n.text.match=n.text.match||function(A,I){var R,$;return t("text.match"),typeof A!="string"?!1:(typeof I=="string"&&(I={"=":I}),I=I||{},R=I["="]||I["*"]||I[">"]||I["<"],A===R?!0:$!==I["="]?!1:(R=I["*"]||I[">"]||I["<"],A.slice(0,(R||"").length)===R?!0:$!==I["*"]?!1:$!==I[">"]&&$!==I["<"]?A>=I[">"]&&A<=I["<"]:$!==I[">"]&&A>=I[">"]||$!==I["<"]&&A<=I["<"]))},n.text.hash=n.text.hash||function(A,I){if(t("text.hash"),typeof A=="string"){if(I=I||0,!A.length)return I;for(var R=0,$=A.length,q;R<$;++R)q=A.charCodeAt(R),I=(I<<5)-I+q,I|=0;return I}},n.list=n.list||{is:function(A){return t("list"),A instanceof Array}},n.list.slit=n.list.slit||Array.prototype.slice,n.list.sort=n.list.sort||function(A){return t("list.sort"),function(I,R){return!I||!R?0:(I=I[A],R=R[A],I<R?-1:I>R?1:0)}},n.list.map=n.list.map||function(A,I,R){return t("list.map"),D(A,I,R)},n.list.index=1,n.obj=n.boj||{is:function(A){return t("obj"),A?A instanceof Object&&A.constructor===Object||Object.prototype.toString.call(A).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},n.obj.put=n.obj.put||function(A,I,R){return t("obj.put"),(A||{})[I]=R,A},n.obj.has=n.obj.has||function(A,I){return t("obj.has"),A&&Object.prototype.hasOwnProperty.call(A,I)},n.obj.del=n.obj.del||function(A,I){if(t("obj.del"),!!A)return A[I]=null,delete A[I],A},n.obj.as=n.obj.as||function(A,I,R,$){return t("obj.as"),A[I]=A[I]||($===R?{}:R)},n.obj.ify=n.obj.ify||function(A){if(t("obj.ify"),b(A))return A;try{A=JSON.parse(A)}catch{A={}}return A},function(){var A;function I(R,$){S(this,$)&&A!==this[$]||(this[$]=R)}n.obj.to=n.obj.to||function(R,$){return t("obj.to"),$=$||{},D(R,I,$),$}}(),n.obj.copy=n.obj.copy||function(A){return t("obj.copy"),A&&JSON.parse(JSON.stringify(A))},function(){function A(I,R){var $=this.n,q;if(!($&&(R===$||b($)&&S($,R)))&&q!==R)return!0}n.obj.empty=n.obj.empty||function(I,R){return t("obj.empty"),I?!D(I,A,{n:R}):!0}}(),function(){function A($,q){if(arguments.length===2){A.r=A.r||{},A.r[$]=q;return}A.r=A.r||[],A.r.push($)}var I=Object.keys,R;Object.keys=Object.keys||function($){return R($,function(q,z,_){_(z)})},n.obj.map=R=n.obj.map||function($,q,z){t("obj.map");var _,U=0,T,W,K,O,B=typeof q=="function";if(A.r=_,I&&b($)&&(K=I($),O=!0),z=z||{},r($)||K)for(T=(K||$).length;U<T;U++){var L=U+n.list.index;if(B){if(W=O?q.call(z,$[K[U]],K[U],A):q.call(z,$[U],L,A),W!==_)return W}else if(q===$[O?K[U]:U])return K?K[U]:L}else for(U in $)if(B){if(S($,U)&&(W=z?q.call(z,$[U],U,A):q($[U],U,A),W!==_))return W}else if(q===$[U])return U;return B?A.r:n.list.index?0:-1}}(),n.time=n.time||{},n.time.is=n.time.is||function(A){return t("time"),A?A instanceof Date:+new Date().getTime()};var g=n.fn.is,r=n.list.is,m=n.obj,b=m.is,S=m.has,D=m.map,i={};i.is=function(A){return t("val.is"),A===j?!1:A===null?!0:A===1/0?!1:l(A)||a(A)||h(A)?!0:i.link.is(A)||!1},i.link=i.rel={_:"#"},function(){i.link.is=function(I){if(t("val.link.is"),I&&I[o]&&!I._&&b(I)){var R={};if(D(I,A,R),R.id)return R.id}return!1};function A(I,R){var $=this;if($.id)return $.id=!1;if(R==o&&l(I))$.id=I;else return $.id=!1}}(),i.link.ify=function(A){return t("val.link.ify"),N({},o,A)},n.obj.has._=".";var o=i.link._,j,a=n.bi.is,h=n.num.is,l=n.text.is,m=n.obj,b=m.is,N=m.put,D=m.map;n.val=n.val||i;var s={_:"_"};s.soul=function(A,I){return t("node.soul"),A&&A._&&A._[I||c]},s.soul.ify=function(A,I){return t("node.soul.ify"),I=typeof I=="string"?{soul:I}:I||{},A=A||{},A._=A._||{},A._[c]=I.soul||A._[c]||d(),A},s.soul._=i.link._,function(){s.is=function(I,R,$){t("node.is");var q;return b(I)&&(q=s.soul(I))?!D(I,A,{as:$,cb:R,s:q,n:I}):!1};function A(I,R){if(R!==s._){if(!i.is(I))return!0;this.cb&&this.cb.call(this.as,I,R,this.n,this.s)}}}(),function(){s.ify=function(I,R,$){return t("node.ify"),R?typeof R=="string"?R={soul:R}:typeof R=="function"&&(R={map:R}):R={},R.map&&(R.node=R.map.call($,I,j,R.node||{})),(R.node=s.soul.ify(R.node||{},R))&&D(I,A,{o:R,as:$}),R.node};function A(I,R){var $=this.o,q,z;if($.map){q=$.map.call(this.as,I,""+R,$.node),z===q?k($.node,R):$.node&&($.node[R]=q);return}i.is(I)&&($.node[R]=I)}}();var m=n.obj,b=m.is,k=m.del,D=m.map,u=n.text,d=u.random,c=s.soul._,j;n.node=n.node||s;var f=n.state;f.lex=function(){return t("state.lex"),f().toString(36).replace(".","")},f.to=function(A,I,R){t("state.to");var $=(A||{})[I];return b($)&&($=P($)),f.ify(R,I,f.is(A,I),$,s.soul(A))},function(){f.map=function(I,R,$){t("state.map");var q,z=b(z=I||R)?z:null;return I=g(I=I||R)?I:null,z&&!I?(R=h(R)?R:f(),z[w]=z[w]||{},D(z,A,{o:z,s:R}),z):($=$||b(R)?R:q,R=h(R)?R:f(),function(_,U,T,W){if(!I)return A.call({o:T,s:R},_,U),_;I.call($||this||{},_,U,T,W),!(S(T,U)&&q===T[U])&&A.call({o:T,s:R},_,U)})};function A(I,R){w!==R&&f.ify(this.o,R,this.s)}}();var m=n.obj;m.as;var S=m.has,b=m.is,D=m.map,P=m.copy,p=n.num,h=p.is,y=n.fn,g=y.is,w=s._,j,v={};(function(){v.is=function(R,$,q,z){return t("graph.is"),!R||!b(R)||C(R)?!1:!D(R,A,{cb:$,fn:q,as:z})};function A(R,$){if(!R||$!==s.soul(R)||!s.is(R,this.fn,this.as))return!0;this.cb&&(I.n=R,I.as=this.as,this.cb.call(I.as,R,$,I))}function I(R){R&&s.is(I.n,R,I.as)}})(),function(){v.ify=function(z,_,U){t("graph.ify");var T={path:[],obj:z};return _?typeof _=="string"?_={soul:_}:typeof _=="function"&&(_.map=_):_={},typeof U=="string"&&(_.soul=_.soul||U,U=j),_.soul&&(T.link=i.link.ify(_.soul)),_.shell=(U||{}).shell,_.graph=_.graph||{},_.seen=_.seen||[],_.as=_.as||U,A(_,T),_.root=T.node,_.graph};function A(z,_){var U;return(U=q(z,_))?U:(_.env=z,_.soul=R,s.ify(_.obj,I,_)&&(_.link=_.link||i.link.ify(s.soul(_.node)),_.obj!==z.shell&&(z.graph[i.link.is(_.link)]=_.node)),_)}function I(z,_,U){var T=this,W=T.env,K,O;if(s._===_&&S(z,i.link._))return U._;if(K=$(z,_,U,T,W)){if(_||(T.node=T.node||U||{},S(z,s._)&&s.soul(z)&&(T.node._=P(z._)),T.node=s.soul.ify(T.node,i.link.is(T.link)),T.link=T.link||i.link.ify(s.soul(T.node))),(O=W.map)&&(O.call(W.as||{},z,_,U,T),S(U,_))){if(z=U[_],j===z){k(U,_);return}if(!(K=$(z,_,U,T,W)))return}if(!_)return T.node;if(K===!0)return z;if(O=A(W,{obj:z,path:T.path.concat(_)}),!!O.node)return O.link}}function R(z){var _=this,U=i.link.is(_.link),T=_.env.graph;_.link=_.link||i.link.ify(z),_.link[i.link._]=z,_.node&&_.node[s._]&&(_.node[s._][i.link._]=z),S(T,U)&&(T[z]=T[U],k(T,U))}function $(z,_,U,T,W){var K;if(i.is(z))return!0;if(b(z))return 1;if(K=W.invalid)return z=K.call(W.as||{},z,_,U),$(z,_,U,T,W);W.err="Invalid value at '"+T.path.concat(_).join(".")+"'!",n.list.is(z)&&(W.err+=" Use `.set(item)` instead of an Array.")}function q(z,_){for(var U=z.seen,T=U.length,W;T--;)if(W=U[T],_.obj===W.obj)return W;U.push(_)}}(),v.node=function(A){t("graph.node");var I=s.soul(A);if(I)return N({},I,A)},function(){v.to=function(I,R,$){if(t("graph.to"),!!I){var q={};return $=$||{seen:{}},D(I[R],A,{obj:q,graph:I,opt:$}),q}};function A(I,R){var $,q;if(s._===R){if(C(I,i.link._))return;this.obj[R]=P(I);return}if(!($=i.link.is(I))){this.obj[R]=I;return}if(q=this.opt.seen[$]){this.obj[R]=q;return}this.obj[R]=this.opt.seen[$]=v.to(this.graph,$,this.opt)}}();var g=n.fn.is,m=n.obj,b=m.is,k=m.del,S=m.has,C=m.empty,N=m.put,D=m.map,P=m.copy,j;n.graph=n.graph||v}}()})(hm);var AO=hm.exports,TO=AO;const dk=Go(TO);var gm={exports:{}};gm.exports;(function(e){(function(){function t(r,i){return i?ck(r):r.slice?t[o(r)]:function(a,l){r(a={exports:{}}),t[o(l)]=a.exports};function o(a){return a.split("/").slice(-1).toString().replace(".js","")}}var n=e;t(function(r){typeof self<"u"&&(r.window=self),typeof window<"u"&&(r.window=window);var i=r.window||r,o,a=i.SEA||{};(a.window=r.window)&&(a.window.SEA=a);try{o+""!=typeof n&&(n.exports=a)}catch{}r.exports=a})(t,"./root"),t(function(r){var i=t("./root");try{i.window&&location.protocol.indexOf("s")<0&&location.host.indexOf("localhost")<0&&!/^127\.\d+\.\d+\.\d+$/.test(location.hostname)&&location.protocol.indexOf("file:")<0&&(console.warn("HTTPS needed for WebCrypto in SEA, redirecting..."),location.protocol="https:")}catch{}})(t,"./https"),t(function(r){var i;if(i+""==typeof btoa){if(i+""==typeof Buffer)try{Oa.Buffer=t("buffer",1).Buffer}catch{console.log("Please `npm install buffer` or add it to your package.json !")}Oa.btoa=function(o){return Buffer.from(o,"binary").toString("base64")},Oa.atob=function(o){return Buffer.from(o,"base64").toString("binary")}}})(t,"./base64"),t(function(r){t("./base64");function i(){}Object.assign(i,{from:Array.from}),i.prototype=Object.create(Array.prototype),i.prototype.toString=function(o,a,l){o=o||"utf8",a=a||0;const s=this.length;if(o==="hex"){const u=new Uint8Array(this);return[...Array((l&&l+1||s)-a).keys()].map(d=>u[d+a].toString(16).padStart(2,"0")).join("")}if(o==="utf8")return Array.from({length:(l||s)-a},(u,d)=>String.fromCharCode(this[d+a])).join("");if(o==="base64")return btoa(this)},r.exports=i})(t,"./array"),t(function(r){t("./base64");var i=t("./array");function o(...a){return console.warn("new SafeBuffer() is depreciated, please use SafeBuffer.from()"),o.from(...a)}o.prototype=Object.create(Array.prototype),Object.assign(o,{from(){if(!Object.keys(arguments).length||arguments[0]==null)throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");const a=arguments[0];let l;if(typeof a=="string"){const u=arguments[1]||"utf8";if(u==="hex"){const d=a.match(/([\da-fA-F]{2})/g).map(c=>parseInt(c,16));if(!d||!d.length)throw new TypeError("Invalid first argument for type 'hex'.");l=i.from(d)}else if(u==="utf8"||u==="binary"){const d=a.length,c=new Uint16Array(d);Array.from({length:d},(f,p)=>c[p]=a.charCodeAt(p)),l=i.from(c)}else if(u==="base64"){const d=atob(a),c=d.length,f=new Uint8Array(c);Array.from({length:c},(p,h)=>f[h]=d.charCodeAt(h)),l=i.from(f)}else u==="binary"?l=i.from(a):console.info("SafeBuffer.from unknown encoding: "+u);return l}if(a.byteLength,a.byteLength?a.byteLength:a.length){let u;return a instanceof ArrayBuffer&&(u=new Uint8Array(a)),i.from(u||a)}},alloc(a,l=0){return i.from(new Uint8Array(Array.from({length:a},()=>l)))},allocUnsafe(a){return i.from(new Uint8Array(Array.from({length:a})))},concat(a){if(!Array.isArray(a))throw new TypeError("First argument must be Array containing ArrayBuffer or Uint8Array instances.");return i.from(a.reduce((l,s)=>l.concat(Array.from(s)),[]))}}),o.prototype.from=o.from,o.prototype.toString=i.prototype.toString,r.exports=o})(t,"./buffer"),t(function(r){const i=t("./root"),o={Buffer:t("./buffer")};var a={},l;if(JSON.parseAsync=JSON.parseAsync||function(u,d,c){var f;try{d(f,JSON.parse(u,c))}catch(p){d(p)}},JSON.stringifyAsync=JSON.stringifyAsync||function(u,d,c,f){var p;try{d(p,JSON.stringify(u,c,f))}catch(h){d(h)}},o.parse=function(u,d){return new Promise(function(c,f){JSON.parseAsync(u,function(p,h){p?f(p):c(h)},d)})},o.stringify=function(u,d,c){return new Promise(function(f,p){JSON.stringifyAsync(u,function(h,y){h?p(h):f(y)},d,c)})},i.window&&(o.crypto=i.window.crypto||i.window.msCrypto,o.subtle=(o.crypto||a).subtle||(o.crypto||a).webkitSubtle,o.TextEncoder=i.window.TextEncoder,o.TextDecoder=i.window.TextDecoder,o.random=u=>o.Buffer.from(o.crypto.getRandomValues(new Uint8Array(o.Buffer.alloc(u))))),!o.TextDecoder){const{TextEncoder:u,TextDecoder:d}=t((l+""==typeof n?".":"")+"./lib/text-encoding",1);o.TextDecoder=d,o.TextEncoder=u}if(!o.crypto)try{var s=t("crypto",1);Object.assign(o,{crypto:s,random:d=>o.Buffer.from(s.randomBytes(d))});const{Crypto:u}=t("@peculiar/webcrypto",1);o.ossl=o.subtle=new u({directory:"ossl"}).subtle}catch{console.log("Please `npm install @peculiar/webcrypto` or add it to your package.json !")}r.exports=o})(t,"./shim"),t(function(r){var i=t("./root"),o=t("./shim"),a={};a.pbkdf2={hash:{name:"SHA-256"},iter:1e5,ks:64},a.ecdsa={pair:{name:"ECDSA",namedCurve:"P-256"},sign:{name:"ECDSA",hash:{name:"SHA-256"}}},a.ecdh={name:"ECDH",namedCurve:"P-256"},a.jwk=function(l,s){l=l.split(".");var u=l[0],d=l[1],c={kty:"EC",crv:"P-256",x:u,y:d,ext:!0};return c.key_ops=s?["sign"]:["verify"],s&&(c.d=s),c},a.keyToJwk=function(l){return{kty:"oct",k:l.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""),ext:!1,alg:"A256GCM"}},a.recall={validity:12*60*60,hook:function(l){return l}},a.check=function(l){return typeof l=="string"&&l.slice(0,4)==="SEA{"},a.parse=async function(s){try{var u=typeof s=="string";return u&&s.slice(0,4)==="SEA{"&&(s=s.slice(3)),u?await o.parse(s):s}catch{}return s},i.opt=a,r.exports=a})(t,"./settings"),t(function(r){var i=t("./shim");r.exports=async function(o,a){var l=typeof o=="string"?o:await i.stringify(o),s=await i.subtle.digest({name:a||"SHA-256"},new i.TextEncoder().encode(l));return i.Buffer.from(s)}})(t,"./sha256"),t(function(r){const i=t("./shim"),o=i.subtle,a=i.ossl?i.ossl:o,l=s=>a.digest({name:"SHA-1"},new ArrayBuffer(s));r.exports=l})(t,"./sha1"),t(function(r){var i=t("./root"),o=t("./shim"),a=t("./settings"),l=t("./sha256"),s;i.work=i.work||(async(u,d,c,f)=>{try{var p=(d||{}).epub||d;if(f=f||{},p instanceof Function&&(c=p,p=s),u=typeof u=="string"?u:await o.stringify(u),(f.name||"").toLowerCase().slice(0,3)==="sha"){var h=o.Buffer.from(await l(u,f.name),"binary").toString(f.encode||"base64");if(c)try{c(h)}catch(g){console.log(g)}return h}p=p||o.random(9);var y=await(o.ossl||o.subtle).importKey("raw",new o.TextEncoder().encode(u),{name:f.name||"PBKDF2"},!1,["deriveBits"]),w=await(o.ossl||o.subtle).deriveBits({name:f.name||"PBKDF2",iterations:f.iterations||a.pbkdf2.iter,salt:new o.TextEncoder().encode(f.salt||p),hash:f.hash||a.pbkdf2.hash},y,f.length||a.pbkdf2.ks*8);u=o.random(u.length);var v=o.Buffer.from(w,"binary").toString(f.encode||"base64");if(c)try{c(v)}catch(g){console.log(g)}return v}catch(g){if(console.log(g),i.err=g,i.throw)throw g;c&&c();return}}),r.exports=i.work})(t,"./work"),t(function(r){var i=t("./root"),o=t("./shim");t("./settings"),i.name=i.name||(async(a,l)=>{try{if(a)try{a()}catch(s){console.log(s)}return}catch(s){if(console.log(s),i.err=s,i.throw)throw s;a&&a();return}}),i.pair=i.pair||(async(a,l)=>{try{var s=o.ossl||o.subtle,u=await o.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]).then(async f=>{var p={};p.priv=(await o.subtle.exportKey("jwk",f.privateKey)).d;var h=await o.subtle.exportKey("jwk",f.publicKey);return p.pub=h.x+"."+h.y,p});try{var d=await s.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]).then(async f=>{var p={};p.epriv=(await s.exportKey("jwk",f.privateKey)).d;var h=await s.exportKey("jwk",f.publicKey);return p.epub=h.x+"."+h.y,p})}catch(f){if(i.window)throw f;if(f=="Error: ECDH is not a supported algorithm")console.log("Ignoring ECDH...");else throw f}d=d||{};var c={pub:u.pub,priv:u.priv,epub:d.epub,epriv:d.epriv};if(a)try{a(c)}catch(f){console.log(f)}return c}catch(f){if(console.log(f),i.err=f,i.throw)throw f;a&&a();return}}),r.exports=i.pair})(t,"./pair"),t(function(r){var i=t("./root"),o=t("./shim"),a=t("./settings"),l=t("./sha256"),s;i.sign=i.sign||(async(u,d,c,f)=>{try{if(f=f||{},!(d||f).priv){if(!i.I)throw"No signing key.";d=await i.I(null,{what:u,how:"sign",why:f.why})}if(s===u)throw"`undefined` not allowed.";var p=await a.parse(u),h=f.check=f.check||p;if(i.verify&&(i.opt.check(h)||h&&h.s&&h.m)&&s!==await i.verify(h,d)){var b=await a.parse(h);if(f.raw||(b="SEA"+await o.stringify(b)),c)try{c(b)}catch(S){console.log(S)}return b}var y=d.pub,w=d.priv,v=a.jwk(y,w),g=await l(p),m=await(o.ossl||o.subtle).importKey("jwk",v,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]).then(k=>(o.ossl||o.subtle).sign({name:"ECDSA",hash:{name:"SHA-256"}},k,new Uint8Array(g))),b={m:p,s:o.Buffer.from(m,"binary").toString(f.encode||"base64")};if(f.raw||(b="SEA"+await o.stringify(b)),c)try{c(b)}catch(k){console.log(k)}return b}catch(k){if(console.log(k),i.err=k,i.throw)throw k;c&&c();return}}),r.exports=i.sign})(t,"./sign"),t(function(r){var i=t("./root"),o=t("./shim"),a=t("./settings"),l=t("./sha256"),s;i.verify=i.verify||(async(c,f,p,h)=>{try{var y=await a.parse(c);if(f===!1){var w=await a.parse(y.m);if(p)try{p(w)}catch(D){console.log(D)}return w}h=h||{};var v=f.pub||f,g=i.opt.slow_leak?await i.opt.slow_leak(v):await(o.ossl||o.subtle).importKey("jwk",a.jwk(v),{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),m=await l(y.m),b,k,S,C;try{if(b=o.Buffer.from(y.s,h.encode||"base64"),k=new Uint8Array(b),S=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},g,k,new Uint8Array(m)),!S)throw"Signature did not match."}catch{if(i.opt.fallback)return await i.opt.fall_verify(c,f,p,h)}var N=S?await a.parse(y.m):s;if(p)try{p(N)}catch(D){console.log(D)}return N}catch(D){if(console.log(D),i.err=D,i.throw)throw D;p&&p();return}}),r.exports=i.verify;var u={};i.opt.slow_leak=c=>{if(u[c])return u[c];var f=a.jwk(c);return u[c]=(o.ossl||o.subtle).importKey("jwk",f,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),u[c]};var d=i.opt;i.opt.fall_verify=async function(c,f,p,h,y){if(y===i.opt.fallback)throw"Signature did not match";y=y||1;var w=c||"";c=i.opt.unpack(c)||c;var v=await a.parse(c),g=f.pub||f,m=await i.opt.slow_leak(g),b=y<=i.opt.fallback?o.Buffer.from(await o.subtle.digest({name:"SHA-256"},new o.TextEncoder().encode(await a.parse(v.m)))):await l(v.m),k,S,C;try{if(k=o.Buffer.from(v.s,h.encode||"base64"),S=new Uint8Array(k),C=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},m,S,new Uint8Array(b)),!C)throw"Signature did not match."}catch{try{k=o.Buffer.from(v.s,"utf8"),S=new Uint8Array(k),C=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},m,S,new Uint8Array(b))}catch{if(!C)throw"Signature did not match."}}var N=C?await a.parse(v.m):s;if(d.fall_soul=w["#"],d.fall_key=w["."],d.fall_val=c,d.fall_state=w[">"],p)try{p(N)}catch(D){console.log(D)}return N},i.opt.fallback=2})(t,"./verify"),t(function(r){var i=t("./shim"),o=t("./settings"),a=t("./sha256");const l=async(s,u,d)=>{const c=s+(u||i.random(8)).toString("utf8"),f=i.Buffer.from(await a(c),"binary"),p=o.keyToJwk(f);return await i.subtle.importKey("jwk",p,{name:"AES-GCM"},!1,["encrypt","decrypt"])};r.exports=l})(t,"./aeskey"),t(function(r){var i=t("./root"),o=t("./shim");t("./settings");var a=t("./aeskey"),l;i.encrypt=i.encrypt||(async(s,u,d,c)=>{try{c=c||{};var f=(u||c).epriv||u;if(l===s)throw"`undefined` not allowed.";if(!f){if(!i.I)throw"No encryption key.";u=await i.I(null,{what:s,how:"encrypt",why:c.why}),f=u.epriv||u}var p=typeof s=="string"?s:await o.stringify(s),h={s:o.random(9),iv:o.random(15)},y=await a(f,h.s,c).then(v=>o.subtle.encrypt({name:c.name||"AES-GCM",iv:new Uint8Array(h.iv)},v,new o.TextEncoder().encode(p))),w={ct:o.Buffer.from(y,"binary").toString(c.encode||"base64"),iv:h.iv.toString(c.encode||"base64"),s:h.s.toString(c.encode||"base64")};if(c.raw||(w="SEA"+await o.stringify(w)),d)try{d(w)}catch(v){console.log(v)}return w}catch(v){if(console.log(v),i.err=v,i.throw)throw v;d&&d();return}}),r.exports=i.encrypt})(t,"./encrypt"),t(function(r){var i=t("./root"),o=t("./shim"),a=t("./settings"),l=t("./aeskey");i.decrypt=i.decrypt||(async(s,u,d,c)=>{try{c=c||{};var f=(u||c).epriv||u;if(!f){if(!i.I)throw"No decryption key.";u=await i.I(null,{what:s,how:"decrypt",why:c.why}),f=u.epriv||u}var p=await a.parse(s),h,y,w;try{h=o.Buffer.from(p.s,c.encode||"base64"),y=o.Buffer.from(p.iv,c.encode||"base64"),w=o.Buffer.from(p.ct,c.encode||"base64");var v=await l(f,h,c).then(m=>o.subtle.decrypt({name:c.name||"AES-GCM",iv:new Uint8Array(y),tagLength:128},m,new Uint8Array(w)))}catch{if(c.encode==="utf8")throw"Could not decrypt";if(i.opt.fallback)return c.encode="utf8",await i.decrypt(s,u,d,c)}var g=await a.parse(new o.TextDecoder("utf8").decode(v));if(d)try{d(g)}catch(m){console.log(m)}return g}catch(m){if(console.log(m),i.err=m,i.throw)throw m;d&&d();return}}),r.exports=i.decrypt})(t,"./decrypt"),t(function(r){var i=t("./root"),o=t("./shim");t("./settings"),i.secret=i.secret||(async(l,s,u,d)=>{try{if(d=d||{},!s||!s.epriv||!s.epub){if(!i.I)throw"No secret mix.";s=await i.I(null,{what:l,how:"secret",why:d.why})}var c=l.epub||l,f=s.epub,p=s.epriv,h=o.ossl||o.subtle,y=a(c),w=Object.assign({public:await h.importKey(...y,!0,[])},{name:"ECDH",namedCurve:"P-256"}),v=a(f,p),g=await h.importKey(...v,!1,["deriveBits"]).then(async b=>{var k=await h.deriveBits(w,b,256),S=new Uint8Array(k),C=await h.importKey("raw",S,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return h.exportKey("jwk",C).then(({k:N})=>N)}),m=g;if(u)try{u(m)}catch(b){console.log(b)}return m}catch(b){if(console.log(b),i.err=b,i.throw)throw b;u&&u();return}});var a=(l,s)=>{var[u,d]=l.split("."),c=s?{d:s}:{};return["jwk",Object.assign(c,{x:u,y:d,kty:"EC",crv:"P-256",ext:!0}),{name:"ECDH",namedCurve:"P-256"}]};r.exports=i.secret})(t,"./secret"),t(function(r){var i=t("./root");i.certify=i.certify||(async(o,a={},l,s,u={})=>{try{if(console.log("SEA.certify() is an early experimental community supported method that may change API behavior without warning in any future version."),o=(()=>{var m=[];if(o){if((typeof o=="string"||Array.isArray(o))&&o.indexOf("*")>-1)return"*";if(typeof o=="string")return o;if(Array.isArray(o)){if(o.length===1&&o[0])return typeof o[0]=="object"&&o[0].pub?o[0].pub:typeof o[0]=="string"?o[0]:null;o.map(b=>{typeof b=="string"?m.push(b):typeof b=="object"&&b.pub&&m.push(b.pub)})}return typeof o=="object"&&o.pub?o.pub:m.length>0?m:null}})(),!o)return console.log("No certificant found.");const c=u.expiry&&(typeof u.expiry=="number"||typeof u.expiry=="string")?parseFloat(u.expiry):null,f=(a||{}).read?a.read:null,p=(a||{}).write?a.write:typeof a=="string"||Array.isArray(a)||a["+"]||a["#"]||a["."]||a["="]||a["*"]||a[">"]||a["<"]?a:null,h=(u||{}).block||(u||{}).blacklist||(u||{}).ban||{},y=h.read&&(typeof h.read=="string"||(h.read||{})["#"])?h.read:null,w=typeof h=="string"?h:h.write&&(typeof h.write=="string"||h.write["#"])?h.write:null;if(!f&&!p)return console.log("No policy found.");const v=JSON.stringify({c:o,...c?{e:c}:{},...f?{r:f}:{},...p?{w:p}:{},...y?{rb:y}:{},...w?{wb:w}:{}});var d=await i.sign(v,l,null,{raw:1});if(u.raw||(d="SEA"+JSON.stringify(d)),s)try{s(d)}catch(m){console.log(m)}return d}catch(c){if(i.err=c,i.throw)throw c;s&&s();return}}),r.exports=i.certify})(t,"./certify"),t(function(r){var i=t("./shim"),o=t("./root");o.work=t("./work"),o.sign=t("./sign"),o.verify=t("./verify"),o.encrypt=t("./encrypt"),o.decrypt=t("./decrypt"),o.certify=t("./certify"),o.random=o.random||i.random,o.Buffer=o.Buffer||t("./buffer"),o.keyid=o.keyid||(async a=>{try{const l=i.Buffer.concat(a.replace(/-/g,"+").replace(/_/g,"/").split(".").map(c=>i.Buffer.from(c,"base64"))),s=i.Buffer.concat([i.Buffer.from([153,l.length/256,l.length%256]),l]),u=await sha1hash(s),d=i.Buffer.from(u,"binary");return d.toString("hex",d.length-8)}catch(l){throw console.log(l),l}}),((o.window||{}).GUN||{}).SEA=o,r.exports=o})(t,"./sea"),t(function(r){var i=t("./sea"),o,a;i.window?o=i.window.GUN||{chain:{}}:o=t((a+""==typeof n?".":"")+"./gun",1),i.GUN=o;function l(u){this._={$:this}}l.prototype=function(){function u(){}return u.prototype=o.chain,new u}(),l.prototype.constructor=l,o.chain.user=function(u){var d=this,f=d.back(-1),c;if(u)return u=i.opt.pub((u._||"")["#"])||u,f.get("~"+u);if(c=f.back("user"))return c;var f=f._,p=f,h=p.opt.uuid||s;return(p=(c=p.user=d.chain(new l))._).opt={},p.opt.uuid=function(y){var w=h(),v=f.user;return!v||!(v=v.is)||!(v=v.pub)||(w="~"+v+"/"+w,y&&y.call&&y(null,w)),w},c};function s(){return o.state().toString(36).replace(".","")}o.User=l,l.GUN=o,l.SEA=o.SEA=i,r.exports=l})(t,"./user"),t(function(r){var i,o=""+i!=typeof GUN?GUN||{chain:{}}:t((""+i==typeof n?".":"")+"./gun",1);o.chain.then=function(a,l){var s=this,u=new Promise(function(d,c){s.once(d,l)});return a?u.then(a):u}})(t,"./then"),t(function(r){var i=t("./user"),o=i.SEA,a=i.GUN,l=function(){};i.prototype.create=function(...s){var u=typeof s[0]=="object"&&(s[0].pub||s[0].epub)?s[0]:typeof s[1]=="object"&&(s[1].pub||s[1].epub)?s[1]:null,d=u&&(u.pub||u.epub)?u.pub:typeof s[0]=="string"?s[0]:null,c=u&&(u.pub||u.epub)?u:d&&typeof s[1]=="string"?s[1]:null,f=s.filter(m=>typeof m=="function")[0]||null,p=s&&s.length>1&&typeof s[s.length-1]=="object"?s[s.length-1]:{},h=this,y=h._,w=h.back(-1);if(f=f||l,p=p||{},p.check!==!1){var v;if(d||(v="No user."),(c||"").length<8&&(v="Password too short!"),v)return f({err:a.log(v)}),h}if(y.ing)return(f||l)({err:a.log("User is already being created or authenticated!"),wait:!0}),h;y.ing=!0;var g={};return g.a=function(m){if(g.pubs=m,m&&!p.already){var b={err:a.log("User already created!")};y.ing=!1,(f||l)(b),h.leave();return}g.salt=String.random(64),o.work(c,g.salt,g.b)},g.b=function(m){g.proof=m,u?g.c(u):o.pair(g.c)},g.c=function(m){var b;g.pair=m||{},(b=y.root.user)&&(b._.sea=m,b.is={pub:m.pub,epub:m.epub,alias:d}),g.data={pub:m.pub},g.d()},g.d=function(){g.data.alias=d,g.e()},g.e=function(){g.data.epub=g.pair.epub,o.encrypt({priv:g.pair.priv,epriv:g.pair.epriv},g.proof,g.f,{raw:1})},g.f=function(m){g.data.auth=JSON.stringify({ek:m,s:g.salt}),g.g(g.data.auth)},g.g=function(m){var b;g.data.auth=g.data.auth||m,w.get(b="~"+g.pair.pub).put(g.data).on(g.h);var k={};k[b]={"#":b},w.get("~@"+d).put(k).get(b).on(g.i)},g.h=function(m,b,k,S){S.off(),g.h.ok=1,g.i()},g.i=function(m,b,k,S){S&&(g.i.ok=1,S.off()),!(!g.h.ok||!g.i.ok)&&(y.ing=!1,f({ok:0,pub:g.pair.pub}),l===f&&(u?h.auth(u):h.auth(d,c)))},w.get("~@"+d).once(g.a),h},i.prototype.leave=function(s,u){var d=this,c=d.back(-1)._.user;if(c&&(delete c.is,delete c._.is,delete c._.sea),o.window)try{var f={};f=o.window.sessionStorage,delete f.recall,delete f.pair}catch{}return d}})(t,"./create"),t(function(r){var i=t("./user"),o=i.SEA,a=i.GUN,l=function(){};i.prototype.auth=function(...u){var d=typeof u[0]=="object"&&(u[0].pub||u[0].epub)?u[0]:typeof u[1]=="object"&&(u[1].pub||u[1].epub)?u[1]:null,c=!d&&typeof u[0]=="string"?u[0]:null,f=(c||d&&!(d.priv&&d.epriv))&&typeof u[1]=="string"?u[1]:null,p=u.filter(k=>typeof k=="function")[0]||null,h=u&&u.length>1&&typeof u[u.length-1]=="object"?u[u.length-1]:{},y=this,w=y._,v=y.back(-1);if(w.ing)return(p||l)({err:a.log("User is already being created or authenticated!"),wait:!0}),y;w.ing=!0;var g={},m,b=9;return g.a=function(k){if(!k)return g.b();if(!k.pub){var S=[];return Object.keys(k).forEach(function(C){C!="_"&&S.push(k[C])}),g.b(S)}if(g.name)return g.f(k);g.c((g.data=k).auth)},g.b=function(k){var S=(g.list=(g.list||[]).concat(k||[])).shift();if(m===S){if(g.name)return g.err("Your user account is not published for dApps to access, please consider syncing it online, or allowing local access by adding your device as a peer.");if(c&&b--){v.get("~@"+c).once(g.a);return}return g.err("Wrong user or password.")}v.get(S).once(g.a)},g.c=function(k){if(m===k)return g.b();if(typeof k=="string")return g.c(s(k));o.work(f,(g.auth=k).s,g.d,g.enc)},g.d=function(k){o.decrypt(g.auth.ek,k,g.e,g.enc)},g.e=function(k){if(m===k)return g.enc?(g.enc=null,g.b()):(g.enc={encode:"utf8"},g.c(g.auth));g.half=k,g.f(g.data)},g.f=function(k){var S=g.half||{},C=g.data||{};g.g(g.lol={pub:k.pub||C.pub,epub:k.epub||C.epub,priv:k.priv||S.priv,epriv:k.epriv||S.epriv})},g.g=function(k){if(!k||!k.pub||!k.epub)return g.b();g.pair=k;var S=v._.user,C=S._;C.tag;var N=C.opt;C=S._=v.get("~"+k.pub)._,C.opt=N,S.is={pub:k.pub,epub:k.epub,alias:c||k.pub},C.sea=g.pair,w.ing=!1;try{f&&m==(s(w.root.graph["~"+k.pub].auth)||"")[":"]&&(h.shuffle=h.change=f)}catch{}if(h.change?g.z():(p||l)(C),o.window&&(y.back("user")._.opt||h).remember)try{var D={};D=o.window.sessionStorage,D.recall=!0,D.pair=JSON.stringify(k)}catch{}try{v._.tag.auth?v._.on("auth",C):setTimeout(function(){v._.on("auth",C)},1)}catch(P){a.log("Your 'auth' callback crashed with:",P)}},g.h=function(k){if(!k)return g.b();if(c=k.alias,c||(c=k.alias="~"+d.pub),!k.auth)return g.g(d);d=null,g.c((g.data=k).auth)},g.z=function(){g.salt=String.random(64),o.work(h.change,g.salt,g.y)},g.y=function(k){o.encrypt({priv:g.pair.priv,epriv:g.pair.epriv},k,g.x,{raw:1})},g.x=function(k){g.w(JSON.stringify({ek:k,s:g.salt}))},g.w=function(k){if(h.shuffle){console.log("migrate core account from UTF8 & shuffle");var S={};Object.keys(g.data).forEach(function(C){S[C]=g.data[C]}),delete S._,S.auth=k,v.get("~"+g.pair.pub).put(S)}v.get("~"+g.pair.pub).get("auth").put(k,p||l)},g.err=function(k){var S={err:a.log(k||"User cannot be found!")};w.ing=!1,(p||l)(S)},g.plugin=function(k){if(!(g.name=k))return g.err();var S=[k];k[0]!=="~"&&(S[1]="~"+k,S[2]="~@"+k),g.b(S)},d?d.priv&&d.epriv?g.g(d):v.get("~"+d.pub).once(g.h):c?v.get("~@"+c).once(g.a):!c&&!f&&o.name(g.plugin),y};function s(u){if(typeof u!="string")return u;try{u=JSON.parse(u)}catch{u={}}return u}})(t,"./auth"),t(function(r){var i=t("./user"),o=i.SEA;i.GUN,i.prototype.recall=function(a,l){var s=this,u=s.back(-1);if(a=a||{},a&&a.sessionStorage){if(o.window)try{var d={};d=o.window.sessionStorage,d&&(u._.opt.remember=!0,(s.back("user")._.opt||a).remember=!0,(d.recall||d.pair)&&u.user().auth(JSON.parse(d.pair),l))}catch{}return s}return s}})(t,"./recall"),t(function(r){var i=t("./user"),o=i.SEA,a=i.GUN,l=function(){};i.prototype.pair=function(){var s=this,u;try{u=new Proxy({DANGER:"☠"},{get:function(d,c,f){if(!(!s.is||!(s._||"").sea))return s._.sea[c]}})}catch{}return u},i.prototype.delete=async function(s,u,d){console.log("user.delete() IS DEPRECATED AND WILL BE MOVED TO A MODULE!!!");var c=this;c.back(-1);var f=c.back("user");try{f.auth(s,u,function(p){var h=(f.is||{}).pub;f.map().once(function(){this.put(null)}),f.leave(),(d||l)({ok:0})})}catch(p){a.log("User.delete failed! Error:",p)}return c},i.prototype.alive=async function(){console.log("user.alive() IS DEPRECATED!!!");const s=this.back(-1);try{return await authRecall(s),s._.user._}catch{const d="No session!";throw a.log(d),{err:d}}},i.prototype.trust=async function(s){console.log("`.trust` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!"),a.is(s)&&s.get("pub").get((u,d)=>{console.log(u,d)}),s.get("trust").get(path).put(theirPubkey)},i.prototype.grant=function(s,u){console.log("`.grant` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var d=this,c=d.back(-1).user(),f=c._.sea,p="";return d.back(function(h){h.is||(p+=h.get||"")}),async function(){var h,y=await c.get("grant").get(f.pub).get(p).then();y=await o.decrypt(y,f),y||(y=o.random(16).toString(),h=await o.encrypt(y,f),c.get("grant").get(f.pub).get(p).put(h));var w=s.get("pub").then(),v=s.get("epub").then();w=await w,v=await v;var g=await o.secret(v,f);h=await o.encrypt(y,g),c.get("grant").get(w).get(p).put(h,u)}(),d},i.prototype.secret=function(s,u){console.log("`.secret` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var d=this,c=d.back(-1).user(),f=c.pair(),p="";return d.back(function(h){h.is||(p+=h.get||"")}),async function(){var h,y=await c.get("trust").get(f.pub).get(p).then();y=await o.decrypt(y,f),y||(y=o.random(16).toString(),h=await o.encrypt(y,f),c.get("trust").get(f.pub).get(p).put(h)),h=await o.encrypt(s,y),d.put(h,u)}(),d},r.exports=i})(t,"./share"),t(function(r){var i=t("./sea"),o=t("./settings"),a,l=(i.window||"").GUN||t((""+a==typeof n?".":"")+"./gun",1);l.on("opt",function(h){h.sea||(h.sea={own:{}},h.on("put",s,h)),this.to.next(h)});function s(h){var y=this,w=y.as,v=h.put,g=v["#"],m=v["."],b=v[":"],k=v[">"],S=h["#"],C;if(!(!g||!m)){if((h._||"").faith&&(w.opt||"").faith&&typeof h._=="function"){i.opt.pack(v,function(D){i.verify(D,!1,function(P){v["="]=i.opt.unpack(P),y.to.next(h)})});return}var N=function(D){w.on("in",{"@":S,err:h.err=D})};if((h._||"").DBG&&((h._||"").DBG.c=+new Date),0<=g.indexOf("<?")&&(C=parseFloat(g.split("<?")[1]||""),C&&k<l.state()-C*1e3)){(C=h._)&&C.stun&&C.stun--;return}if(g==="~@"){s.alias(y,h,b,m,g,w,N);return}if(g.slice(0,2)==="~@"){s.pubs(y,h,b,m,g,w,N);return}if(C=i.opt.pub(g)){s.pub(y,h,b,m,g,w,N,w.user||"",C);return}if(0<=g.indexOf("#")){s.hash(y,h,b,m,g,w,N);return}s.any(y,h,b,m,g,w,N,w.user||"")}}s.hash=function(h,y,w,v,g,m,b){i.work(w,null,function(k){function S(C){let N="";for(let D=0;D<C.length;D++)N+=D-1&1?"":String.fromCharCode(parseInt(C.substring(D-1,D+1),16));return btoa(N)}if(k&&k===v.split("#").slice(-1)[0])return h.to.next(y);if(k&&k===S(v.split("#").slice(-1)[0]))return h.to.next(y);b("Data hash not same as hash!")},{name:"SHA-256"})},s.alias=function(h,y,w,v,g,m,b){if(!w)return b("Data must exist!");if("~@"+v===d(w))return h.to.next(y);b("Alias not same!")},s.pubs=function(h,y,w,v,g,m,b){if(!w)return b("Alias must exist!");if(v===d(w))return h.to.next(y);b("Alias not same!")},s.pub=async function(h,y,w,v,g,m,b,k,S){var C;const N=await o.parse(w)||{},D=(P,j,A)=>{if(P.m&&P.s&&j&&S)return i.verify(P,S,I=>{if(a!==I&&a!==I.e&&y.put[">"]&&y.put[">"]>parseFloat(I.e))return b("Certificate expired.");if(a!==I&&I.c&&I.w&&(I.c===j||I.c.indexOf("*")>-1)){let $=g.indexOf("/")>-1?g.replace(g.substring(0,g.indexOf("/")+1),""):"";String.match=String.match||l.text.match;const q=Array.isArray(I.w)?I.w:typeof I.w=="object"||typeof I.w=="string"?[I.w]:[];for(const z of q)if(String.match($,z["#"])&&String.match(v,z["."])||!z["."]&&String.match($,z["#"])||!z["#"]&&String.match(v,z["."])||String.match($?$+"/"+v:v,z["#"]||z)){if(z["+"]&&z["+"].indexOf("*")>-1&&$&&$.indexOf(j)==-1&&v.indexOf(j)==-1)return b(`Path "${$}" or key "${v}" must contain string "${j}".`);if(I.wb&&(typeof I.wb=="string"||(I.wb||{})["#"])){var R=h.as.root.$.back(-1);return typeof I.wb=="string"&&I.wb.slice(0,1)!=="~"&&(R=R.get("~"+S)),R.get(I.wb).get(j).once(_=>_&&(_===1||_===!0)?b(`Certificant ${j} blocked.`):A(I))}return A(I)}return b("Certificate verification fail.")}})};if(v==="pub"&&"~"+S===g)return w===S?h.to.next(y):b("Account not same!");if((C=k.is)&&C.pub&&!N["*"]&&!N["+"]&&(S===C.pub||S!==C.pub&&((y._.msg||{}).opt||{}).cert)){i.opt.pack(y.put,P=>{i.sign(P,k._.sea,async function(j){if(a===j)return b(i.err||"Signature fail.");if(y.put[":"]={":":C=i.opt.unpack(j.m),"~":j.s},y.put["="]=C,S===k.is.pub){(C=d(w))&&((m.sea.own[C]=m.sea.own[C]||{})[S]=1),JSON.stringifyAsync(y.put[":"],function(A,I){return A?b(A||"Stringify error."):(y.put[":"]=I,h.to.next(y))});return}if(S!==k.is.pub&&((y._.msg||{}).opt||{}).cert){const A=await o.parse(y._.msg.opt.cert);A&&A.m&&A.s&&D(A,k.is.pub,I=>{y.put[":"]["+"]=A,y.put[":"]["*"]=k.is.pub,JSON.stringifyAsync(y.put[":"],function(R,$){return R?b(R||"Stringify error."):(y.put[":"]=$,h.to.next(y))})})}},{raw:1})});return}i.opt.pack(y.put,P=>{i.verify(P,N["*"]||S,function(j){var A;if(j=i.opt.unpack(j),a===j)return b("Unverified data.");if((A=d(j))&&S===i.opt.pub(A)&&((m.sea.own[A]=m.sea.own[A]||{})[S]=1),N["+"]&&N["+"].m&&N["+"].s&&N["*"])D(N["+"],N["*"],I=>(y.put["="]=j,h.to.next(y)));else return y.put["="]=j,h.to.next(y)})})},s.any=function(h,y,w,v,g,m,b,k){if(m.opt.secure)return b("Soul missing public key at '"+v+"'.");m.on("secure",function(S){if(this.off(),!m.opt.secure)return h.to.next(S);b("Data cannot be changed.")}).on.on("secure",y)};var u=l.valid,d=function(h,y){return typeof(y=u(h))=="string"&&y};(l.state||"").ify;var c=/[^\w_-]/;i.opt.pub=function(h){if(h&&(h=h.split("~"),!(!h||!(h=h[1]))&&(h=h.split(c).slice(0,2),!(!h||h.length!=2)&&(h[0]||"")[0]!=="@")))return h=h.slice(0,2).join("."),h},i.opt.stringy=function(h){},i.opt.pack=function(h,y,w,v,g){var m,b;if(i.opt.check(h))return y(h);h&&h["#"]&&h["."]&&h[">"]&&(m=h[":"],b=1),JSON.parseAsync(b?m:h,function(k,S){var C=a!==(S||"")[":"]&&(S||"")["~"];if(!C){y(h);return}y({m:{"#":g||h["#"],".":w||h["."],":":(S||"")[":"],">":h[">"]||l.state.is(v,w)},s:C})})};var f=i.opt;i.opt.unpack=function(h,y,w){var v;if(a!==h){if(h&&a!==(v=h[":"]))return v;if(y=y||f.fall_key,!w&&f.fall_val&&(w={},w[y]=f.fall_val),!(!y||!w)){if(h===w[y]||!i.opt.check(w[y]))return h;var g=w&&w._&&w._["#"]||f.fall_soul,m=l.state.is(w,y)||f.fall_state;if(h&&h.length===4&&g===h[0]&&y===h[1]&&p(m)===p(h[3]))return h[2];if(m<i.opt.shuffle_attack)return h}}},i.opt.shuffle_attack=15463296e5;var p=Math.floor})(t,"./index")})()})(gm);gm.exports;const ah=dk.SEA;function lh(e){return!e||e.length<16?e:`${e.slice(0,8)}...${e.slice(-8)}`}const NO=async e=>{var t,n;if(!e.signature||!((t=e.sharedBy)!=null&&t.pub))return console.log("Missing signature or public key:",{signature:!!e.signature,pubKey:!!((n=e.sharedBy)!=null&&n.pub),item:e}),!1;try{let r=e.signature;r.startsWith("SEA")&&(r=r.substring(3));const i=JSON.parse(r);if(!i||!i.m||!i.s)return console.log("Invalid signature format:",r),!1;const o=JSON.parse(i.m);console.log("Verifying signature:",{message:o,pubKey:e.sharedBy.pub,signature:i.s});const a=await ah.verify(i.s,e.sharedBy.pub);return console.log("Verification result:",a),a?a.id===o.id&&a.title===o.title&&a.link===o.link&&a.publishDate===o.publishDate&&a.sharedAt===o.sharedAt&&a.comment===o.comment&&a.sharedBy===o.sharedBy:!1}catch(r){return console.error("Error verifying signature:",r),!1}};class DO{constructor(){We(this,"gun",null);We(this,"user",null);We(this,"config",{relayServer:"",privateKey:"",displayName:""});We(this,"connectionStatus","disconnected");We(this,"connectionListeners",new Set);We(this,"followedUsers",new Set);We(this,"followedUsersListeners",new Set);const t=localStorage.getItem("gunConfig");if(t)try{this.config=JSON.parse(t),this.initGun()}catch(r){console.error("Failed to parse Gun config:",r),localStorage.removeItem("gunConfig")}const n=localStorage.getItem("gunFollowedUsers");if(n)try{JSON.parse(n).forEach(i=>this.followedUsers.add(i))}catch(r){console.error("Failed to parse followed users:",r),localStorage.removeItem("gunFollowedUsers")}}setConnectionStatus(t){this.connectionStatus=t,this.connectionListeners.forEach(n=>n(t))}onConnectionStatusChange(t){return this.connectionListeners.add(t),t(this.connectionStatus),()=>{this.connectionListeners.delete(t)}}getConnectionStatus(){return this.connectionStatus}async generateKeyPair(){try{const t=await ah.pair();return{pub:t.pub,priv:JSON.stringify(t)}}catch(t){throw console.error("Error generating key pair:",t),new Error("Failed to generate key pair")}}async initGun(){if(this.config.relayServer)try{if(this.setConnectionStatus("connecting"),this.gun=dk({peers:[this.config.relayServer],localStorage:!1,radisk:!0}),this.gun.on("hi",()=>{this.setConnectionStatus("connected")}),this.gun.on("bye",()=>{this.setConnectionStatus("disconnected")}),this.config.privateKey){this.user=this.gun.user();try{const t=JSON.parse(this.config.privateKey);await new Promise((r,i)=>{this.user.auth(t,o=>{o.err?(console.error("Gun auth error:",o.err),i(new Error(o.err))):(console.log("Gun auth success"),r(o))})}),!await new Promise(r=>{this.user.get("profile").get("name").once(i=>{r(i||"")})})&&this.config.displayName&&await new Promise(r=>{this.user.get("profile").get("name").put(this.config.displayName,()=>r())}),window.dispatchEvent(new CustomEvent("gunAuthChanged"))}catch(t){throw console.error("Error parsing private key:",t),new Error("Invalid private key format")}}}catch(t){throw console.error("Failed to initialize Gun:",t),this.gun=null,this.user=null,this.setConnectionStatus("disconnected"),t}}async updateConfig(t){this.gun&&(this.gun.off(),this.gun=null,this.user=null),this.config=t,localStorage.setItem("gunConfig",JSON.stringify(t)),await this.initGun()}getConfig(){return{...this.config}}isAuthenticated(){return!!this.user&&!!this.config.privateKey}async shareItem(t,n){if(!this.gun||!this.user)throw new Error("Gun not initialized or user not authenticated");const r={id:t.id.toString(),title:t.title,content:t.content_fullArticle||t.content_rssAbstract||"",link:t.link,publishDate:t.publishDate.toISOString(),sharedAt:new Date().toISOString(),sharedBy:{pub:this.user.is.pub,name:this.config.displayName},feedTitle:t.feedTitle,feedUrl:t.feedUrl};t.content_aiSummary&&(r.content_aiSummary=t.content_aiSummary),t.aiSummaryMetadata&&(r.aiSummaryMetadata={model:t.aiSummaryMetadata.model||"",isFullContent:!!t.aiSummaryMetadata.isFullContent}),n&&(r.comment=n);const i={id:r.id,title:r.title,link:r.link,publishDate:r.publishDate,sharedAt:r.sharedAt,comment:n||"",sharedBy:r.sharedBy.pub};console.log("Signing data:",i);const o=await ah.sign(i,JSON.parse(this.config.privateKey));return r.signature=JSON.stringify({m:JSON.stringify(i),s:o}),console.log("Generated signature:",r.signature),new Promise((a,l)=>{const s=`${t.id}_${Date.now()}`,u=JSON.parse(JSON.stringify(r));this.user.get("sharedItems").get(s).put(u,d=>{d.err?(console.error("Error sharing item:",d.err),l(new Error(d.err))):(console.log("Item shared successfully:",s),a(r))})})}async getSharedItems(t){if(!this.gun)throw new Error("Gun not initialized");return console.log("Fetching shared items for user:",t),new Promise((n,r)=>{const i=new Map;let o,a=!1,l;const s=async(u,d)=>{if(u){console.log("Received shared item:",{id:d,item:u}),a=!0;const c={...u,_id:d};typeof u.sharedBy=="object"&&u.sharedBy["#"]&&await new Promise(f=>{this.gun.get(u.sharedBy["#"]).once(p=>{c.sharedBy=p,f()})}),i.set(d,c)}};l=this.gun.user(t).get("sharedItems").map().on(s),o=setTimeout(async()=>{if(console.log("Resolving with items:",i),i.size>0||a){const u=Array.from(i.values()).sort((d,c)=>new Date(c.sharedAt).getTime()-new Date(d.sharedAt).getTime());n(u)}else console.log("No items found or timeout reached"),n([]);l&&l.off&&l.off()},2e3),Promise.race([new Promise((u,d)=>setTimeout(()=>d(new Error("Timeout getting shared items")),5e3))]).catch(u=>{clearTimeout(o),l&&l.off&&l.off(),r(u)})})}async getMySharedItems(){if(!this.user)throw new Error("User not authenticated");return this.getSharedItems(this.user.is.pub)}async getUserProfile(t){if(!this.gun)throw new Error("Gun not initialized");return new Promise((n,r)=>{let i;const o=a=>{clearTimeout(i),n({pub:t,name:(a==null?void 0:a.name)||"Unknown User"})};this.gun.user(t).get("profile").once(o),i=setTimeout(()=>{r(new Error("Timeout getting user profile"))},5e3)})}saveFollowedUsers(){localStorage.setItem("gunFollowedUsers",JSON.stringify(Array.from(this.followedUsers))),this.followedUsersListeners.forEach(t=>t(Array.from(this.followedUsers)))}onFollowedUsersChange(t){return this.followedUsersListeners.add(t),t(Array.from(this.followedUsers)),()=>{this.followedUsersListeners.delete(t)}}async followUser(t){if(!this.gun)throw new Error("Gun not initialized");try{await this.getUserProfile(t)&&(this.followedUsers.add(t),this.saveFollowedUsers())}catch{throw new Error("Failed to follow user: User not found")}}async unfollowUser(t){this.followedUsers.delete(t),this.saveFollowedUsers()}getFollowedUsers(){return Array.from(this.followedUsers)}async unshareItem(t){if(!this.gun||!this.user)throw new Error("Gun not initialized or user not authenticated");return new Promise((n,r)=>{this.user.get("sharedItems").get(t).put(null,i=>{i.err?(console.error("Error unsharing item:",i.err),r(new Error(i.err))):(console.log("Item unshared successfully:",t),n())})})}}const qe=new DO,lf=({title:e,isDarkMode:t,isLoading:n,buttons:r=[],folders:i,feeds:o,onCreateFolder:a,onDeleteFolder:l,onDeleteFeed:s,onUpdateFeedOrder:u,onUpdateFolderOrder:d,onRenameFolder:c,onRenameFeed:f,type:p="default",isCollapsed:h,onToggleCollapse:y,onOpenSearch:w})=>{const[v,g]=E.useState(!1),[m,b]=E.useState(!1),k=async C=>{await qe.followUser(C)},S=()=>p==="searches"?x.jsx("button",{onClick:()=>{w==null||w()},className:`p-1 rounded transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"}`,title:"Search feeds",children:x.jsx(DT,{className:"h-4 w-4"})}):p==="gun"?x.jsx("button",{onClick:()=>b(!0),className:`p-1 rounded transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"}`,title:"Follow user by public key",children:x.jsx(OT,{className:"h-4 w-4"})}):x.jsx("button",{onClick:()=>g(!0),className:`p-1 rounded transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"}`,title:"Manage feeds and folders",children:x.jsx(Mb,{className:"w-4 h-4"})});return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:`mt-4 mb-2 px-4 ${t?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"} border rounded-lg py-2 mx-2 flex items-center justify-between`,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[(p==="searches"||p==="gun")&&y&&x.jsx("button",{onClick:y,className:`p-1 rounded transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"}`,children:x.jsx(Lb,{className:`w-4 h-4 transition-transform ${h?"-rotate-90":""}`})}),p==="default"&&r.find(C=>C.title==="Refresh all feeds")&&x.jsx("button",{onClick:r.find(C=>C.title==="Refresh all feeds").onClick,disabled:r.find(C=>C.title==="Refresh all feeds").disabled,className:`p-1 rounded transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"} ${r.find(C=>C.title==="Refresh all feeds").disabled?"opacity-50 cursor-not-allowed":""}`,title:"Refresh all feeds",children:r.find(C=>C.title==="Refresh all feeds").icon}),x.jsxs("span",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-600"}`,children:[e," ",n&&p!=="default"&&"(Loading...)"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[(p==="searches"||p==="gun")&&S(),p==="default"&&x.jsxs(x.Fragment,{children:[r.filter(C=>C.title!=="Refresh all feeds").map((C,N)=>x.jsx("button",{onClick:C.onClick,disabled:C.disabled,className:`p-1 rounded transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"} ${C.disabled?"opacity-50 cursor-not-allowed":""} ${C.className||""}`,title:C.title,children:C.icon},N)),S()]})]})]}),p==="default"&&x.jsx(IO,{isOpen:v,onClose:()=>g(!1),folders:i,feeds:o,isDarkMode:t,onCreateFolder:a,onDeleteFolder:l,onDeleteFeed:s,onUpdateFeedOrder:u,onUpdateFolderOrder:d,onRenameFolder:c,onRenameFeed:f}),p==="gun"&&x.jsx(PO,{isOpen:m,onClose:()=>b(!1),isDarkMode:t,onFollow:k})]})},RO=({id:e,title:t,feeds:n,isDarkMode:r,isLoading:i,selectedIndex:o,visibleItems:a,onSelect:l,onFocusChange:s,onDeleteFeed:u,isCollapsed:d,onToggleCollapse:c})=>{const[f,p]=E.useState({}),h=xe.useMemo(()=>Object.values(f).reduce((v,g)=>v+g,0),[f]),y=xe.useCallback((v,g)=>{p(m=>m[v]===g?m:{...m,[v]:g})},[]),w=a.findIndex(v=>v.id===`folder-${e}`);return x.jsxs("div",{className:"mb-1",children:[x.jsxs("button",{onClick:()=>c(e),className:`w-full flex items-center justify-between px-4 py-2 text-sm transition-colors
          ${r?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-600"}
          ${o===w?"ring-2 ring-reader-blue ring-opacity-50":""}
        `,"data-index":w,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Lb,{className:`w-4 h-4 transition-transform ${d?"-rotate-90":""}`}),x.jsx("span",{className:"font-medium",children:t})]}),h>0&&x.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full
            ${r?"bg-gray-600 text-gray-200":"bg-gray-200 text-gray-600"}`,children:h})]}),x.jsx("div",{className:`
        overflow-hidden transition-all duration-200 ease-in-out
        ${d?"max-h-0":"max-h-[1000px]"}
      `,children:x.jsx("div",{className:"pl-4",children:n.map(v=>{const g=a.findIndex(m=>m.path===v.path);return x.jsx(Ub,{id:v.id,path:v.path,title:v.title,isActive:o===g,isSelected:o===g,isDarkMode:r,index:g,isLoading:i,isRefreshing:v.isRefreshing,onSelect:l,onFocusChange:s,onDelete:()=>u(v.id),onUnreadCountChange:y},v.id)})})})]})},jO=({className:e="",isFocused:t,onFocusChange:n,isDarkMode:r,onRegisterRefreshFeeds:i,searchHistory:o,onClearSearchHistory:a,selectedIndex:l,onSelectedIndexChange:s,onOpenSearch:u})=>{const[d,c]=E.useState([]),[f,p]=E.useState([]),[h,y]=E.useState(new Set);E.useState(!1),E.useState(!1),E.useState(null);const[w,v]=E.useState(!1),[g,m]=E.useState(!1),[b,k]=E.useState(!1),[S,C]=E.useState(new Set),[N,D]=E.useState(!1),[P,j]=E.useState(!0),A=Li(),I=Vl(),R=E.useRef(null),$=E.useRef(!1),[q,z]=E.useState([]),[_,U]=E.useState(!1),T=E.useMemo(()=>o.map(M=>{console.log("Raw search data:",{query:M.query,mostRecentResult:M.mostRecentResult,type:M.mostRecentResult?typeof M.mostRecentResult:"undefined",isDate:M.mostRecentResult instanceof Date});let Q=null;if(M.mostRecentResult)try{Q=new Date(M.mostRecentResult),isNaN(Q.getTime())&&(console.warn("Invalid date for search:",M.query,M.mostRecentResult),Q=null)}catch(ne){console.error("Error converting date:",ne),Q=null}return console.log("Creating search item for:",M.query,{mostRecentResult:M.mostRecentResult,resultCount:M.resultCount,timestamp:Q,isValidDate:Q instanceof Date}),{id:M.id,path:`/search/${encodeURIComponent(M.query)}`,title:M.query,hits:M.resultCount,timestamp:Q,onDelete:async()=>{await a(M.id)}}}),[o,a]);E.useEffect(()=>{console.log("Search history updated:",o)},[o]),E.useEffect(()=>{o.length>0&&N&&D(!1)},[o.length]);const W=E.useMemo(()=>d.map(M=>({id:M.id,path:`/feed/${M.id}`,title:M.title,onDelete:()=>L(M.id)})),[d]),K=[{path:"/",title:"All Items"},{path:"/starred",title:"Starred"},{path:"/listened",title:"Listened"},{path:"/chats",title:"Chats"}],O=E.useMemo(()=>{const M=[];M.push(...K),qe.isAuthenticated()&&!_&&q.length>0&&q.forEach(ne=>{M.push({id:`gun-${ne.pub}`,path:`/gun/${ne.pub}`,title:`${ne.name}'s Shared Items`})}),!N&&T.length>0&&M.push(...T);const Q=W.filter(ne=>{var me;return!((me=d.find(ce=>ce.id===ne.id))!=null&&me.folderId)});return M.push(...Q),f.forEach(ne=>{const me=ne.id.toString();if(M.push({id:`folder-${me}`,path:`/folder/${me}`,title:ne.name,isFolder:!0}),!h.has(me)){const ce=W.filter(ke=>{var ge;return((ge=d.find(Ne=>Ne.id===ke.id))==null?void 0:ge.folderId)===ne.id});M.push(...ce)}}),M},[K,T,W,f,d,N,h,q,_]),B=E.useCallback(async()=>{try{j(!0);const[M,Q]=await Promise.all([Ms(),vA()]),ne=M.sort((me,ce)=>(me.order||0)-(ce.order||0));c(ne),p(Q),j(!1)}catch(M){console.error("Error loading data:",M),c([]),p([]),j(!1)}},[]);E.useEffect(()=>{B()},[]);const L=async M=>{await bA(M),B()},F=E.useCallback(async()=>{if(!b){k(!0);try{const M=await Ms(),Q=M.map(me=>me.id);C(new Set(Q));const ne=await $b(M);await B(),await Og(),window.dispatchEvent(new CustomEvent("allFeedsRefreshed"))}catch(M){console.error("Error refreshing all feeds:",M)}finally{k(!1),C(new Set)}}},[b,B]);E.useEffect(()=>{i&&i(F)},[i,F]),E.useEffect(()=>{if(!$.current){const M=A.pathname,Q=O.findIndex(ne=>ne.path===M);Q!==-1&&Q!==l&&s(Q)}},[A.pathname,O,l,s]),E.useEffect(()=>{if(l>=0&&l<O.length){const M=O[l],Q=A.pathname;M&&Q!==M.path&&($.current=!0,M.isFolder?I(`/folder/${M.id.toString()}`):I(M.path))}},[l,O,I,A.pathname]),E.useEffect(()=>{if(l>=0&&l<O.length){const M=document.querySelector(`[data-index="${l}"]`);M&&R.current&&M.scrollIntoView({behavior:"smooth",block:"nearest"})}},[l,O.length]),E.useCallback((M,Q)=>`
    block px-4 py-2 text-sm transition-colors
    ${M?r?"bg-gray-700":"bg-reader-hover":""}
    ${Q?"ring-2 ring-reader-blue ring-opacity-50":""}
    ${r?"hover:bg-gray-700":"hover:bg-reader-hover"}
  `,[r]),E.useCallback(async()=>{var M;try{const Q=O[l],ne=W.find(me=>me.path===Q.path);if(ne&&ne.id){const me=await gA(ne.id);me.sort((ke,ge)=>ge.publishDate.getTime()-ke.publishDate.getTime());const ce=me.slice(0,5);for(const ke of ce){const ge={...ke,id:ke.id,chatHistory:(M=ke.chatHistory)==null?void 0:M.filter(Ne=>Ne.role==="user"||Ne.role==="assistant").map((Ne,we)=>({id:we,role:Ne.role,content:Ne.content,timestamp:new Date}))};await je.addToQueue(ge)}}}catch(Q){console.error("Error queueing unread items:",Q)}},[O,l,W]);const H=async M=>{try{await X.folders.add({name:M}),await B()}catch(Q){console.error("Error creating folder:",Q)}},G=async M=>{try{const Q=await Ms(!1),ne=new Set(Q.map(ce=>ce.id)),me=M.filter(ce=>ne.has(ce.feedId)).map(ce=>({...ce,folderId:ce.folderId?parseInt(ce.folderId):null}));await kA(me),await B()}catch(Q){console.error("Error updating feed order:",Q),await B()}},Z=async M=>{try{await CA(parseInt(M)),await B()}catch(Q){console.error("Error deleting folder:",Q)}},V=async M=>{try{const Q=M.map(ne=>({folderId:parseInt(ne.folderId),order:ne.order}));await EA(Q),await B()}catch(Q){console.error("Error updating folder order:",Q)}},oe=async(M,Q)=>{try{await PA(M,Q),B()}catch(ne){console.error("Error renaming feed:",ne)}},J=async(M,Q)=>{try{await AA(M,Q),B()}catch(ne){console.error("Error renaming folder:",ne)}};return E.useCallback(async()=>{if(!g){m(!0);try{const M=await Ms();for(const Q of M)if(!(Q.isDeleted||!Q.id)){window.dispatchEvent(new CustomEvent("feedRefreshStart",{detail:{feedId:Q.id}}));try{await _b(Q),window.dispatchEvent(new CustomEvent("feedRefreshComplete",{detail:{feedId:Q.id,success:!0}}))}catch(ne){console.error(`Error refreshing feed ${Q.id}:`,ne),window.dispatchEvent(new CustomEvent("feedRefreshComplete",{detail:{feedId:Q.id,success:!1,error:ne}}))}}}catch(M){console.error("Error refreshing feeds:",M)}finally{m(!1)}}},[g]),E.useEffect(()=>{const M=async()=>{if(qe.isAuthenticated())try{const ne=JSON.parse(qe.getConfig().privateKey).pub,me=await qe.getUserProfile(ne),ce=qe.getFollowedUsers(),ke=await Promise.all(ce.map(Ne=>qe.getUserProfile(Ne))),ge=[me,...ke].map(Ne=>{const we=Ne;return{pub:we.pub,name:we.name==="Unknown User"?lh(we.pub):we.name}});z(ge)}catch(ne){console.error("Error loading Gun feeds:",ne),z([])}};M(),window.addEventListener("gunAuthChanged",M);const Q=qe.onFollowedUsersChange(()=>{M()});return()=>{window.removeEventListener("gunAuthChanged",M),Q()}},[]),x.jsxs("div",{ref:R,className:`${e} overflow-y-auto`,"data-sidebar-items-count":O.length,children:[x.jsxs("nav",{className:`py-4 ${r?"text-gray-100":"text-gray-900"}`,children:[K.map((M,Q)=>x.jsx(Sy,{path:M.path,title:M.title,isActive:A.pathname===M.path,isSelected:l===Q,isDarkMode:r,index:Q,onSelect:s,onFocusChange:n},M.path)),qe.isAuthenticated()&&x.jsxs(x.Fragment,{children:[x.jsx(lf,{title:"Gun Feeds",isDarkMode:r,type:"gun",isCollapsed:_,onToggleCollapse:()=>U(!_),folders:[],feeds:[],onCreateFolder:()=>Promise.resolve(),onDeleteFolder:()=>Promise.resolve(),onDeleteFeed:()=>Promise.resolve(),onUpdateFeedOrder:()=>Promise.resolve(),onUpdateFolderOrder:()=>Promise.resolve(),onRenameFolder:()=>Promise.resolve(),onRenameFeed:()=>Promise.resolve()}),!_&&q.map(M=>{const Q=O.findIndex(ne=>ne.path===`/gun/${M.pub}`);return x.jsx(Sy,{path:`/gun/${M.pub}`,title:`${M.name}'s Shared Items`,isActive:A.pathname===`/gun/${M.pub}`,isSelected:l===Q,isDarkMode:r,index:Q,onSelect:s,onFocusChange:n,isGunFeed:!0,pubKey:M.pub},M.pub)})]}),T.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(lf,{title:"Searches",isDarkMode:r,type:"searches",isCollapsed:N,onToggleCollapse:()=>D(!N),folders:[],feeds:[],onCreateFolder:H,onDeleteFolder:Z,onDeleteFeed:L,onUpdateFeedOrder:G,onUpdateFolderOrder:V,onRenameFolder:J,onRenameFeed:oe,onOpenSearch:u}),!N&&T.map(M=>{const Q=O.findIndex(ne=>ne.path===M.path);return x.jsx(HT,{path:M.path,title:M.title,hits:M.hits,isActive:A.pathname===M.path,isSelected:l===Q,isDarkMode:r,index:Q,onSelect:s,onFocusChange:n,onDelete:M.onDelete,timestamp:M.timestamp},M.path)})]}),x.jsx(lf,{title:"Subscriptions",isDarkMode:r,isLoading:P,folders:f.map(M=>({id:M.id.toString(),name:M.name})),feeds:d.map(M=>{var Q;return{id:M.id,title:M.title,folderId:((Q=M.folderId)==null?void 0:Q.toString())||null}}),onCreateFolder:H,onDeleteFolder:Z,onDeleteFeed:L,onUpdateFeedOrder:G,onUpdateFolderOrder:V,onRenameFolder:J,onRenameFeed:oe,buttons:[{icon:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),onClick:()=>v(!0),title:"Add subscription"},{icon:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${b?"animate-spin":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),onClick:F,disabled:b,title:"Refresh all feeds"}]}),f.map(M=>{const Q=d.filter(ne=>ne.folderId===M.id);return Q.length>0?x.jsx(RO,{id:M.id.toString(),title:M.name,feeds:Q.map(ne=>({id:ne.id,title:ne.title,path:`/feed/${ne.id}`,unreadCount:ne.unreadCount,isRefreshing:S.has(ne.id),isDeleted:ne.isDeleted||!1})),isDarkMode:r,isLoading:P,selectedIndex:l,visibleItems:O,isCollapsed:h.has(M.id.toString()),onToggleCollapse:ne=>{y(me=>{const ce=new Set(me);return ce.has(ne)?ce.delete(ne):ce.add(ne),ce})},onSelect:s,onFocusChange:n,onDeleteFeed:L},M.id):null}),d.filter(M=>!M.folderId).map(M=>{const Q=O.findIndex(ne=>ne.path===`/feed/${M.id}`);return x.jsx(Ub,{id:M.id,path:`/feed/${M.id}`,title:M.title,isActive:A.pathname===`/feed/${M.id}`,isSelected:l===Q,isDarkMode:r,index:Q,isLoading:P,isRefreshing:S.has(M.id),onSelect:s,onFocusChange:n,onDelete:()=>L(M.id),isDeleted:M.isDeleted||!1},M.id)})]}),x.jsx(Fb,{isOpen:w,onClose:()=>v(!1),onSuccess:B,isDarkMode:r})]})},fk=typeof document<"u"?xe.useLayoutEffect:()=>{};function OO(e){const t=E.useRef(null);return fk(()=>{t.current=e},[e]),E.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const as=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},wi=e=>e&&"window"in e&&e.window===e?e:as(e).defaultView||window;function $O(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function _O(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function pk(e){let t=null;return()=>(t==null&&(t=e()),t)}const FO=pk(function(){return _O(/^Mac/i)}),LO=pk(function(){return $O(/Android/i)});function MO(e){return e.mozInputSource===0&&e.isTrusted?!0:LO()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class BO{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function hk(e){let t=E.useRef({isFocused:!1,observer:null});fk(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=OO(r=>{e==null||e(r)});return E.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,o=a=>{t.current.isFocused=!1,i.disabled&&n(new BO("blur",a)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let l=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function zO(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=E.useCallback(s=>{if(s.target===s.currentTarget)return r&&r(s),i&&i(!1),!0},[r,i]),a=hk(o),l=E.useCallback(s=>{const u=as(s.target);s.target===s.currentTarget&&u.activeElement===s.target&&(n&&n(s),i&&i(!0),a(s))},[i,n,a]);return{focusProps:{onFocus:!t&&(n||i||r)?l:void 0,onBlur:!t&&(r||i)?o:void 0}}}let ls=null,sh=new Set,Ja=new Map,ji=!1,uh=!1;const UO={Tab:!0,Escape:!0};function mm(e,t){for(let n of sh)n(e,t)}function HO(e){return!(e.metaKey||!FO()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function dc(e){ji=!0,HO(e)&&(ls="keyboard",mm("keyboard",e))}function pn(e){ls="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(ji=!0,mm("pointer",e))}function gk(e){MO(e)&&(ji=!0,ls="virtual")}function mk(e){e.target===window||e.target===document||(!ji&&!uh&&(ls="virtual",mm("virtual",e)),ji=!1,uh=!1)}function vk(){ji=!1,uh=!0}function ch(e){if(typeof window>"u"||Ja.get(wi(e)))return;const t=wi(e),n=as(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ji=!0,r.apply(this,arguments)},n.addEventListener("keydown",dc,!0),n.addEventListener("keyup",dc,!0),n.addEventListener("click",gk,!0),t.addEventListener("focus",mk,!0),t.addEventListener("blur",vk,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",pn,!0),n.addEventListener("pointermove",pn,!0),n.addEventListener("pointerup",pn,!0)):(n.addEventListener("mousedown",pn,!0),n.addEventListener("mousemove",pn,!0),n.addEventListener("mouseup",pn,!0)),t.addEventListener("beforeunload",()=>{yk(e)},{once:!0}),Ja.set(t,{focus:r})}const yk=(e,t)=>{const n=wi(e),r=as(e);t&&r.removeEventListener("DOMContentLoaded",t),Ja.has(n)&&(n.HTMLElement.prototype.focus=Ja.get(n).focus,r.removeEventListener("keydown",dc,!0),r.removeEventListener("keyup",dc,!0),r.removeEventListener("click",gk,!0),n.removeEventListener("focus",mk,!0),n.removeEventListener("blur",vk,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",pn,!0),r.removeEventListener("pointermove",pn,!0),r.removeEventListener("pointerup",pn,!0)):(r.removeEventListener("mousedown",pn,!0),r.removeEventListener("mousemove",pn,!0),r.removeEventListener("mouseup",pn,!0)),Ja.delete(n))};function qO(e){const t=as(e);let n;return t.readyState!=="loading"?ch(e):(n=()=>{ch(e)},t.addEventListener("DOMContentLoaded",n)),()=>yk(e,n)}typeof document<"u"&&qO();function wk(){return ls!=="pointer"}const VO=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function WO(e,t,n){var r;const i=typeof window<"u"?wi(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?wi(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?wi(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?wi(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof i&&!VO.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof a&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof l&&!UO[n.key])}function GO(e,t,n){ch(),E.useEffect(()=>{let r=(i,o)=>{WO(!!(n!=null&&n.isTextInput),i,o)&&e(wk())};return sh.add(r),()=>{sh.delete(r)}},t)}function KO(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=E.useRef({isFocusWithin:!1}),a=E.useCallback(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,o]),l=hk(a),s=E.useCallback(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),o.current.isFocusWithin=!0,l(u))},[r,i,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:s,onBlur:a}}}let fc=!1,sf=0;function dh(){fc=!0,setTimeout(()=>{fc=!1},50)}function d0(e){e.pointerType==="touch"&&dh()}function QO(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",d0):document.addEventListener("touchend",dh),sf++,()=>{sf--,!(sf>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",d0):document.removeEventListener("touchend",dh))}}function YO(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,a]=E.useState(!1),l=E.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;E.useEffect(QO,[]);let{hoverProps:s,triggerHoverEnd:u}=E.useMemo(()=>{let d=(p,h)=>{if(l.pointerType=h,i||h==="touch"||l.isHovered||!p.currentTarget.contains(p.target))return;l.isHovered=!0;let y=p.currentTarget;l.target=y,t&&t({type:"hoverstart",target:y,pointerType:h}),n&&n(!0),a(!0)},c=(p,h)=>{if(l.pointerType="",l.target=null,h==="touch"||!l.isHovered)return;l.isHovered=!1;let y=p.currentTarget;r&&r({type:"hoverend",target:y,pointerType:h}),n&&n(!1),a(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=p=>{fc&&p.pointerType==="mouse"||d(p,p.pointerType)},f.onPointerLeave=p=>{!i&&p.currentTarget.contains(p.target)&&c(p,p.pointerType)}):(f.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=p=>{!l.ignoreEmulatedMouseEvents&&!fc&&d(p,"mouse"),l.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=p=>{!i&&p.currentTarget.contains(p.target)&&c(p,"mouse")}),{hoverProps:f,triggerHoverEnd:c}},[t,n,r,i,l]);return E.useEffect(()=>{i&&u({currentTarget:l.target},l.pointerType)},[i]),{hoverProps:s,isHovered:o}}function xk(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=E.useRef({isFocused:!1,isFocusVisible:t||wk()}),[o,a]=E.useState(!1),[l,s]=E.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=E.useCallback(()=>s(i.current.isFocused&&i.current.isFocusVisible),[]),d=E.useCallback(p=>{i.current.isFocused=p,a(p),u()},[u]);GO(p=>{i.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:c}=zO({isDisabled:r,onFocusChange:d}),{focusWithinProps:f}=KO({isDisabled:!r,onFocusWithinChange:d});return{isFocused:o,isFocusVisible:l,focusProps:r?f:c}}var JO=Object.defineProperty,XO=(e,t,n)=>t in e?JO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uf=(e,t,n)=>(XO(e,typeof t!="symbol"?t+"":t,n),n);let ZO=class{constructor(){uf(this,"current",this.detect()),uf(this,"handoffState","pending"),uf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},bk=new ZO;function Sk(e){return bk.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function kk(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Ek(){let e=[],t={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),t.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return kk(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Ek();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function e5(){let[e]=E.useState(Ek);return E.useEffect(()=>()=>e.dispose(),[e]),e}let Uo=(e,t)=>{bk.isServer?E.useEffect(e,t):E.useLayoutEffect(e,t)};function Ra(e){let t=E.useRef(e);return Uo(()=>{t.current=e},[e]),t}let Vn=function(e){let t=Ra(e);return xe.useCallback((...n)=>t.current(...n),[t])};function t5(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function n5(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function r5({disabled:e=!1}={}){let t=E.useRef(null),[n,r]=E.useState(!1),i=e5(),o=Vn(()=>{t.current=null,r(!1),i.dispose()}),a=Vn(l=>{if(i.dispose(),t.current===null){t.current=l.currentTarget,r(!0);{let s=Sk(l.currentTarget);i.addEventListener(s,"pointerup",o,!1),i.addEventListener(s,"pointermove",u=>{if(t.current){let d=t5(u);r(n5(d,t.current.getBoundingClientRect()))}},!1),i.addEventListener(s,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:o,onClick:o}}}function f0(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ei(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ei),r}var fh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(fh||{}),i5=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(i5||{});function ia(){let e=a5();return E.useCallback(t=>o5({mergeRefs:e,...t}),[e])}function o5({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:o=!0,name:a,mergeRefs:l}){l=l??l5;let s=Ck(t,e);if(o)return qs(s,n,r,a,l);let u=i??0;if(u&2){let{static:d=!1,...c}=s;if(d)return qs(c,n,r,a,l)}if(u&1){let{unmount:d=!0,...c}=s;return Ei(d?0:1,{0(){return null},1(){return qs({...c,hidden:!0,style:{display:"none"}},n,r,a,l)}})}return qs(s,n,r,a,l)}function qs(e,t={},n,r,i){let{as:o=n,children:a,refName:l="ref",...s}=cf(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof a=="function"?a(t):a;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let c={};if(t){let f=!1,p=[];for(let[h,y]of Object.entries(t))typeof y=="boolean"&&(f=!0),y===!0&&p.push(h.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(f){c["data-headlessui-state"]=p.join(" ");for(let h of p)c[`data-${h}`]=""}}if(o===E.Fragment&&(Object.keys(Gi(s)).length>0||Object.keys(Gi(c)).length>0))if(!E.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Gi(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Gi(s)).concat(Object.keys(Gi(c))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,p=f==null?void 0:f.className,h=typeof p=="function"?(...v)=>f0(p(...v),s.className):f0(p,s.className),y=h?{className:h}:{},w=Ck(d.props,Gi(cf(s,["ref"])));for(let v in c)v in w&&delete c[v];return E.cloneElement(d,Object.assign({},w,c,u,{ref:i(s5(d),u.ref)},y))}return E.createElement(o,Object.assign({},cf(s,["ref"]),o!==E.Fragment&&u,o!==E.Fragment&&c),d)}function a5(){let e=E.useRef([]),t=E.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function l5(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Ck(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...o){let a=n[r];for(let l of a){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;l(i,...o)}}});return t}function Ik(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let o=n[r];for(let a of o)a==null||a(...i)}});return t}function oa(e){var t;return Object.assign(E.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Gi(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function cf(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function s5(e){return xe.version.split(".")[0]>="19"?e.props.ref:e.ref}let u5="span";var Pk=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Pk||{});function c5(e,t){var n;let{features:r=1,...i}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ia()({ourProps:o,theirProps:i,slot:{},defaultTag:u5,name:"Hidden"})}let Ak=oa(c5),d5=Symbol();function ss(...e){let t=E.useRef(e);E.useEffect(()=>{t.current=e},[e]);let n=Vn(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[d5]))?void 0:n}var Cn=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Cn||{});let f5=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),p5=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var In=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(In||{}),ja=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ja||{}),h5=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(h5||{});function g5(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(f5)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function m5(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(p5)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var v5=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(v5||{}),y5=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(y5||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let w5=["textarea","input"].join(",");function x5(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,w5))!=null?n:!1}function fo(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),o=t(r);if(i===null||o===null)return 0;let a=i.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ki(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?fo(e):e:t&64?m5(e):g5(e);i.length>0&&a.length>1&&(a=a.filter(p=>!i.some(h=>h!=null&&"current"in h?(h==null?void 0:h.current)===p:h===p))),r=r??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,c=a.length,f;do{if(d>=c||d+c<=0)return 0;let p=s+d;if(t&16)p=(p+c)%c;else{if(p<0)return 3;if(p>=c)return 1}f=a[p],f==null||f.focus(u),d+=l}while(f!==o.activeElement);return t&6&&x5(f)&&f.select(),2}function b5(e,t){return E.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function S5(){let e=E.useRef(!1);return Uo(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function k5({onFocus:e}){let[t,n]=E.useState(!0),r=S5();return t?xe.createElement(Ak,{as:"button",type:"button",features:Pk.Focusable,onFocus:i=>{i.preventDefault();let o,a=50;function l(){if(a--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!r.current)return;n(!1);return}o=requestAnimationFrame(l)}o=requestAnimationFrame(l)}}):null}const Tk=E.createContext(null);function E5(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(n=r.get(t))!=null?n:0;r.set(t,i+1);let o=Array.from(r.keys()).indexOf(t);function a(){let l=r.get(t);l>1?r.set(t,l-1):r.delete(t)}return[o,a]}}}function C5({children:e}){let t=E.useRef(E5());return E.createElement(Tk.Provider,{value:t},e)}function Nk(e){let t=E.useContext(Tk);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=E.useId(),[r,i]=t.current.get(e,n);return E.useEffect(()=>i,[]),r}var I5=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(I5||{}),P5=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(P5||{}),A5=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(A5||{});let T5={0(e,t){var n;let r=fo(e.tabs,d=>d.current),i=fo(e.panels,d=>d.current),o=r.filter(d=>{var c;return!((c=d.current)!=null&&c.hasAttribute("disabled"))}),a={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let d=Ei(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>Ei(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return a;let c=Ei(d,{0:()=>r.indexOf(o[0]),1:()=>r.indexOf(o[o.length-1])});return{...a,selectedIndex:c===-1?e.selectedIndex:c}}let l=r.slice(0,t.index),s=[...r.slice(t.index),...l].find(d=>o.includes(d));if(!s)return a;let u=(n=r.indexOf(s))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=fo([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=e.selectedIndex)),{...e,tabs:r,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:fo([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},vm=E.createContext(null);vm.displayName="TabsDataContext";function Ho(e){let t=E.useContext(vm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ho),n}return t}let ym=E.createContext(null);ym.displayName="TabsActionsContext";function wm(e){let t=E.useContext(ym);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,wm),n}return t}function N5(e,t){return Ei(t.type,T5,e,t)}let D5="div";function R5(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:o,selectedIndex:a=null,...l}=e;const s=r?"vertical":"horizontal",u=i?"manual":"auto";let d=a!==null,c=Ra({isControlled:d}),f=ss(t),[p,h]=E.useReducer(N5,{info:c,selectedIndex:a??n,tabs:[],panels:[]}),y=E.useMemo(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),w=Ra(o||(()=>{})),v=Ra(p.tabs),g=E.useMemo(()=>({orientation:s,activation:u,...p}),[s,u,p]),m=Vn(P=>(h({type:1,tab:P}),()=>h({type:2,tab:P}))),b=Vn(P=>(h({type:3,panel:P}),()=>h({type:4,panel:P}))),k=Vn(P=>{S.current!==P&&w.current(P),d||h({type:0,index:P})}),S=Ra(d?e.selectedIndex:p.selectedIndex),C=E.useMemo(()=>({registerTab:m,registerPanel:b,change:k}),[]);Uo(()=>{h({type:0,index:a??n})},[a]),Uo(()=>{if(S.current===void 0||p.tabs.length<=0)return;let P=fo(p.tabs,j=>j.current);P.some((j,A)=>p.tabs[A]!==j)&&k(P.indexOf(p.tabs[S.current]))});let N={ref:f},D=ia();return xe.createElement(C5,null,xe.createElement(ym.Provider,{value:C},xe.createElement(vm.Provider,{value:g},g.tabs.length<=0&&xe.createElement(k5,{onFocus:()=>{var P,j;for(let A of v.current)if(((P=A.current)==null?void 0:P.tabIndex)===0)return(j=A.current)==null||j.focus(),!0;return!1}}),D({ourProps:N,theirProps:l,slot:y,defaultTag:D5,name:"Tabs"}))))}let j5="div";function O5(e,t){let{orientation:n,selectedIndex:r}=Ho("Tab.List"),i=ss(t),o=E.useMemo(()=>({selectedIndex:r}),[r]),a=e,l={ref:i,role:"tablist","aria-orientation":n};return ia()({ourProps:l,theirProps:a,slot:o,defaultTag:j5,name:"Tabs.List"})}let $5="button";function _5(e,t){var n,r;let i=E.useId(),{id:o=`headlessui-tabs-tab-${i}`,disabled:a=!1,autoFocus:l=!1,...s}=e,{orientation:u,activation:d,selectedIndex:c,tabs:f,panels:p}=Ho("Tab"),h=wm("Tab"),y=Ho("Tab"),[w,v]=E.useState(null),g=E.useRef(null),m=ss(g,t,v);Uo(()=>h.registerTab(g),[h,g]);let b=Nk("tabs"),k=f.indexOf(g);k===-1&&(k=b);let S=k===c,C=Vn(T=>{var W;let K=T();if(K===ja.Success&&d==="auto"){let O=(W=Sk(g))==null?void 0:W.activeElement,B=y.tabs.findIndex(L=>L.current===O);B!==-1&&h.change(B)}return K}),N=Vn(T=>{let W=f.map(K=>K.current).filter(Boolean);if(T.key===Cn.Space||T.key===Cn.Enter){T.preventDefault(),T.stopPropagation(),h.change(k);return}switch(T.key){case Cn.Home:case Cn.PageUp:return T.preventDefault(),T.stopPropagation(),C(()=>Ki(W,In.First));case Cn.End:case Cn.PageDown:return T.preventDefault(),T.stopPropagation(),C(()=>Ki(W,In.Last))}if(C(()=>Ei(u,{vertical(){return T.key===Cn.ArrowUp?Ki(W,In.Previous|In.WrapAround):T.key===Cn.ArrowDown?Ki(W,In.Next|In.WrapAround):ja.Error},horizontal(){return T.key===Cn.ArrowLeft?Ki(W,In.Previous|In.WrapAround):T.key===Cn.ArrowRight?Ki(W,In.Next|In.WrapAround):ja.Error}}))===ja.Success)return T.preventDefault()}),D=E.useRef(!1),P=Vn(()=>{var T;D.current||(D.current=!0,(T=g.current)==null||T.focus({preventScroll:!0}),h.change(k),kk(()=>{D.current=!1}))}),j=Vn(T=>{T.preventDefault()}),{isFocusVisible:A,focusProps:I}=xk({autoFocus:l}),{isHovered:R,hoverProps:$}=YO({isDisabled:a}),{pressed:q,pressProps:z}=r5({disabled:a}),_=E.useMemo(()=>({selected:S,hover:R,active:q,focus:A,autofocus:l,disabled:a}),[S,R,A,q,l,a]),U=Ik({ref:m,onKeyDown:N,onMouseDown:j,onClick:P,id:o,role:"tab",type:b5(e,w),"aria-controls":(r=(n=p[k])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1,disabled:a||void 0,autoFocus:l},I,$,z);return ia()({ourProps:U,theirProps:s,slot:_,defaultTag:$5,name:"Tabs.Tab"})}let F5="div";function L5(e,t){let{selectedIndex:n}=Ho("Tab.Panels"),r=ss(t),i=E.useMemo(()=>({selectedIndex:n}),[n]),o=e,a={ref:r};return ia()({ourProps:a,theirProps:o,slot:i,defaultTag:F5,name:"Tabs.Panels"})}let M5="div",B5=fh.RenderStrategy|fh.Static;function z5(e,t){var n,r,i,o;let a=E.useId(),{id:l=`headlessui-tabs-panel-${a}`,tabIndex:s=0,...u}=e,{selectedIndex:d,tabs:c,panels:f}=Ho("Tab.Panel"),p=wm("Tab.Panel"),h=E.useRef(null),y=ss(h,t);Uo(()=>p.registerPanel(h),[p,h]);let w=Nk("panels"),v=f.indexOf(h);v===-1&&(v=w);let g=v===d,{isFocusVisible:m,focusProps:b}=xk(),k=E.useMemo(()=>({selected:g,focus:m}),[g,m]),S=Ik({ref:y,id:l,role:"tabpanel","aria-labelledby":(r=(n=c[v])==null?void 0:n.current)==null?void 0:r.id,tabIndex:g?s:-1},b),C=ia();return!g&&((i=u.unmount)==null||i)&&!((o=u.static)!=null&&o)?xe.createElement(Ak,{"aria-hidden":"true",...S}):C({ourProps:S,theirProps:u,slot:k,defaultTag:M5,features:B5,visible:g,name:"Tabs.Panel"})}let U5=oa(_5),H5=oa(R5),q5=oa(O5),V5=oa(L5),W5=oa(z5),En=Object.assign(U5,{Group:H5,List:q5,Panels:V5,Panel:W5});const Qi={summary:"You are a helpful AI assistant that summarizes RSS feed content. Be concise and focus on the key points.",chat:"You are a helpful AI assistant that discusses RSS feed content with users. Be informative and engaging.",historyAnalyzer:"You are an AI that analyzes user's reading history to understand their interests and preferences.",itemRecommender:"You are an AI that recommends articles based on user's reading history and interests."},G5=({isOpen:e,onClose:t,isDarkMode:n})=>{const[r,i]=E.useState("http://localhost:11434"),[o,a]=E.useState(!1),[l,s]=E.useState(!1),[u,d]=E.useState([]),[c,f]=E.useState(""),[p,h]=E.useState(""),[y,w]=E.useState(""),[v,g]=E.useState(""),[m,b]=E.useState(Qi.summary),[k,S]=E.useState(Qi.chat),[C,N]=E.useState(Qi.historyAnalyzer),[D,P]=E.useState(Qi.itemRecommender),[j,A]=E.useState(2),[I,R]=E.useState(!1),[$,q]=E.useState(null),[z,_]=E.useState({size:0,pending:0,requests:[]}),[U,T]=E.useState(!1);E.useEffect(()=>{const V=Eo();V&&(i(V.serverUrl),f(V.summaryModel),h(V.chatModel),b(V.summarySystemPrompt||Qi.summary),S(V.chatSystemPrompt||Qi.chat),A(V.maxConcurrentRequests||2),$g(V.maxConcurrentRequests||2),W(V.serverUrl,V.summaryModel,V.chatModel))},[]),E.useEffect(()=>{if(e){const V=()=>{const J=qr();console.log("OllamaConfigModal - Refreshing queue stats:",J),console.log("OllamaConfigModal - Queue requests:",J.requests),_(J)};V();const oe=setInterval(V,1e3);return()=>clearInterval(oe)}},[e]);const W=async(V,oe,J)=>{s(!0);const M=await uT(V);if(a(M),s(!1),M){const Q=await cT(V);d(Q);const ne=Q.map(me=>me.name);oe&&ne.includes(oe)?f(oe):Q.length>0&&f(Q[0].name),J&&ne.includes(J)?h(J):Q.length>0&&h(Q[0].name)}},K=async V=>{if(V.preventDefault(),!o){W(r,c,p);return}dT({serverUrl:r,summaryModel:c,chatModel:p,summarySystemPrompt:m,chatSystemPrompt:k,maxConcurrentRequests:j}),t()},O=async()=>{R(!0),q(null);try{const V=await xA();q(`Successfully cleared ${V} summaries. They will be regenerated with new settings.`)}catch(V){console.error("Failed to clear summaries:",V),q("Failed to clear summaries")}finally{R(!1)}},B=()=>{T(!0);const V=qr();console.log("OllamaConfigModal - Manually refreshing queue stats:",V),console.log("OllamaConfigModal - Queue requests:",V.requests),_(V),setTimeout(()=>T(!1),500)},L=()=>{FA(),_(qr())},F=`w-full px-3 py-2 rounded border focus:outline-none focus:ring-2 focus:ring-reader-blue
    ${n?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,H=`block text-sm font-medium mb-1 ${n?"text-gray-300":"text-gray-700"}`,G=`w-full py-2.5 text-sm font-medium leading-5 rounded-lg
    focus:outline-none focus:ring-2 ring-offset-2 ring-offset-reader-blue ring-white ring-opacity-60
    ${n?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,Z=`${G} ${n?"bg-gray-700 text-white":"bg-white shadow text-reader-blue"}`;return e?x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:t}),x.jsxs("div",{className:`relative z-50 rounded-lg p-6 w-full max-w-2xl border-2 shadow-xl overflow-y-auto max-h-[90vh]
        ${n?"bg-gray-800 border-gray-600":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:`text-xl font-semibold mb-4 ${n?"text-white":"text-gray-900"}`,children:"Ollama Configuration"}),x.jsxs("form",{onSubmit:K,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"serverUrl",className:H,children:"Server URL"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"url",id:"serverUrl",value:r,onChange:V=>i(V.target.value),className:F,placeholder:"http://localhost:11434",required:!0}),x.jsx("button",{type:"button",onClick:()=>W(r),className:"btn btn-blue whitespace-nowrap",disabled:l,children:l?"Connecting...":o?"Reconnect":"Connect"})]})]}),x.jsxs(En.Group,{children:[x.jsxs(En.List,{className:"flex space-x-1 rounded-xl bg-gray-900/20 p-1",children:[o&&x.jsxs(x.Fragment,{children:[x.jsx(En,{className:({selected:V})=>V?Z:G,children:"Summarizer"}),x.jsx(En,{className:({selected:V})=>V?Z:G,children:"Chat"}),x.jsx(En,{className:({selected:V})=>V?Z:G,children:"Recommendations"})]}),x.jsx(En,{className:({selected:V})=>V?Z:G,children:"Queue"})]}),x.jsxs(En.Panels,{className:"mt-4",children:[o&&x.jsxs(x.Fragment,{children:[x.jsx(En.Panel,{children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"summaryModel",className:H,children:"Summarization Model"}),x.jsx("select",{id:"summaryModel",value:c,onChange:V=>f(V.target.value),className:F,required:!0,children:u.map(V=>x.jsx("option",{value:V.name,children:V.name},V.name))})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"summarySystemPrompt",className:H,children:"Summary System Prompt"}),x.jsx("textarea",{id:"summarySystemPrompt",value:m,onChange:V=>b(V.target.value),className:`${F} h-24 resize-none`,placeholder:"Customize the system prompt for summarization...",required:!0})]})]})}),x.jsx(En.Panel,{children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"chatModel",className:H,children:"Chat Model"}),x.jsx("select",{id:"chatModel",value:p,onChange:V=>h(V.target.value),className:F,required:!0,children:u.map(V=>x.jsx("option",{value:V.name,children:V.name},V.name))})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"chatSystemPrompt",className:H,children:"Chat System Prompt"}),x.jsx("textarea",{id:"chatSystemPrompt",value:k,onChange:V=>S(V.target.value),className:`${F} h-24 resize-none`,placeholder:"Customize the system prompt for chat...",required:!0})]})]})}),x.jsx(En.Panel,{children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"historyAnalyzerModel",className:H,children:"History Analyzer Model"}),x.jsx("select",{id:"historyAnalyzerModel",value:y,onChange:V=>w(V.target.value),className:F,required:!0,children:u.map(V=>x.jsx("option",{value:V.name,children:V.name},V.name))})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"historyAnalyzerPrompt",className:H,children:"History Analyzer Prompt"}),x.jsx("textarea",{id:"historyAnalyzerPrompt",value:C,onChange:V=>N(V.target.value),className:`${F} h-24 resize-none`,placeholder:"Customize the system prompt for history analysis...",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"itemRecommenderModel",className:H,children:"Item Recommender Model"}),x.jsx("select",{id:"itemRecommenderModel",value:v,onChange:V=>g(V.target.value),className:F,required:!0,children:u.map(V=>x.jsx("option",{value:V.name,children:V.name},V.name))})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"itemRecommenderPrompt",className:H,children:"Item Recommender Prompt"}),x.jsx("textarea",{id:"itemRecommenderPrompt",value:D,onChange:V=>P(V.target.value),className:`${F} h-24 resize-none`,placeholder:"Customize the system prompt for item recommendations...",required:!0})]})]})})]}),x.jsx(En.Panel,{children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"maxConcurrentRequests",className:H,children:"Max Concurrent Requests"}),x.jsx("input",{type:"number",id:"maxConcurrentRequests",value:j,onChange:V=>A(Math.max(1,parseInt(V.target.value)||1)),className:F,min:"1",max:"10",required:!0}),x.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Limit concurrent requests to Ollama server (1-10)"})]}),x.jsxs("div",{className:`p-4 rounded-lg border ${n?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsx("span",{className:`font-medium ${n?"text-gray-200":"text-gray-700"}`,children:"Queue Status"}),x.jsx("button",{type:"button",onClick:B,className:`px-2 py-1 rounded text-sm transition-colors ${n?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-600"}`,disabled:U,children:U?"Refreshing...":"Refresh"})]}),x.jsxs("div",{className:`grid grid-cols-3 gap-4 text-sm mb-3 ${n?"text-gray-300":"text-gray-600"}`,children:[x.jsxs("div",{children:[x.jsx("span",{children:"Queued: "}),x.jsx("span",{className:"font-mono",children:z.requests.filter(V=>V.status==="queued").length})]}),x.jsxs("div",{children:[x.jsx("span",{children:"Processing: "}),x.jsx("span",{className:"font-mono",children:z.requests.filter(V=>V.status==="processing").length})]}),x.jsxs("div",{children:[x.jsx("span",{children:"Failed: "}),x.jsx("span",{className:"font-mono",children:z.requests.filter(V=>V.status==="failed").length})]})]}),z.requests.length>0&&x.jsx("div",{className:`mt-3 border-t ${n?"border-gray-600":"border-gray-200"}`,children:x.jsx("div",{className:"mt-3 max-h-48 overflow-y-auto space-y-2",children:[...z.requests].map(V=>({...V,addedAt:V.addedAt?new Date(V.addedAt):new Date})).sort((V,oe)=>oe.addedAt.getTime()-V.addedAt.getTime()).map(V=>x.jsxs("div",{className:`p-2 rounded ${V.status==="processing"?n?"bg-blue-900/30":"bg-blue-50":V.status==="failed"?n?"bg-red-900/30":"bg-red-50":n?"bg-gray-800":"bg-white"}`,children:[x.jsx("div",{className:`font-medium text-sm ${n?"text-gray-200":"text-gray-700"}`,children:V.entryTitle||"Unknown Entry"}),x.jsxs("div",{className:`text-xs ${n?"text-gray-400":"text-gray-500"}`,children:[V.feedTitle||"Unknown Feed"," • ",V.status,V.status==="processing"&&x.jsx("span",{className:"ml-1",children:"• Fetching article content..."}),V.error&&x.jsxs("span",{className:n?"text-red-400":"text-red-500",children:[" • ",V.error]})]})]},`${V.entryId}-${V.addedAt.getTime()}`))})}),(z.size>0||z.pending>0)&&x.jsx("button",{type:"button",onClick:L,className:`mt-3 text-sm px-2 py-1 rounded w-full ${n?"bg-red-900/30 text-red-400 hover:bg-red-900/50":"bg-red-50 text-red-600 hover:bg-red-100"}`,children:"Clear Queue"})]})]})})]})]}),x.jsxs("div",{className:"flex justify-between gap-2 mt-6",children:[x.jsx("div",{children:o&&x.jsx("button",{type:"button",onClick:O,disabled:I,className:`btn ${n?"bg-red-900/80 text-red-100 hover:bg-red-800":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:I?"Clearing Summaries...":"Clear All AI Summaries"})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",onClick:t,className:`btn ${n?"bg-gray-700 border-gray-600 hover:bg-gray-600 text-gray-300":"bg-white border-gray-300 hover:bg-gray-100 text-gray-700"} border`,children:"Cancel"}),o&&x.jsx("button",{type:"submit",className:"btn btn-blue",children:"Save Configuration"})]})]})]})]})]}):null},K5=({isOpen:e,onClose:t,isDarkMode:n})=>{const[r,i]=E.useState([]),[o,a]=E.useState(null),[l,s]=E.useState(1),[u,d]=E.useState(!1),[c,f]=E.useState(""),p=E.useRef(null),h=E.useRef(!1),y="Welcome to InReader. This is how articles will sound when read aloud.",w=r.filter(S=>{const C=c.toLowerCase();return S.name.toLowerCase().includes(C)||S.lang.toLowerCase().includes(C)});E.useEffect(()=>{if(!h.current){const S=localStorage.getItem("speechRate");S&&s(parseFloat(S)),h.current=!0}},[]),E.useEffect(()=>{const S=()=>{const C=window.speechSynthesis.getVoices();if(i(C),!o){const N=localStorage.getItem("selectedVoice");if(N){const D=C.find(P=>P.name===N);D&&a(D)}else C.length>0&&a(C[0])}};return S(),window.speechSynthesis.onvoiceschanged=S,()=>{window.speechSynthesis.onvoiceschanged=null}},[o]);const v=()=>{o&&(localStorage.setItem("selectedVoice",o.name),localStorage.setItem("speechRate",l.toString()),je.updateVoice(o),je.updateRate(l)),t()},g=()=>{if(!o)return;window.speechSynthesis.cancel();const S=new SpeechSynthesisUtterance(y);S.voice=o,S.rate=l,p.current=S,S.onstart=()=>d(!0),S.onend=()=>d(!1),S.onerror=()=>d(!1),window.speechSynthesis.speak(S)},m=()=>{window.speechSynthesis.cancel(),d(!1)};if(!e)return null;const b=`w-full px-3 py-2 rounded border focus:outline-none focus:ring-2 focus:ring-reader-blue
    ${n?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,k=`block text-sm font-medium mb-1 ${n?"text-gray-300":"text-gray-700"}`;return x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:t}),x.jsxs("div",{className:`relative z-50 rounded-lg p-6 w-full max-w-md border-2 shadow-xl
        ${n?"bg-gray-800 border-gray-600":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:`text-xl font-semibold mb-4 ${n?"text-white":"text-gray-900"}`,children:"Text-to-Speech Configuration"}),x.jsxs("form",{onSubmit:S=>{S.preventDefault(),v()},children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"voiceFilter",className:k,children:"Filter Voices"}),x.jsx("input",{type:"text",id:"voiceFilter",value:c,onChange:S=>f(S.target.value),placeholder:"Filter by name or language (e.g. 'Natural', 'United States')",className:b})]}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("label",{htmlFor:"voice",className:k,children:["Voice ",w.length>0?`(${w.length} available)`:""]}),x.jsx("select",{id:"voice",value:(o==null?void 0:o.name)||"",onChange:S=>{const C=r.find(N=>N.name===S.target.value);C&&a(C)},className:b,required:!0,children:w.map(S=>x.jsxs("option",{value:S.name,children:[S.name," (",S.lang,")"]},S.name))})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("label",{htmlFor:"rate",className:k,children:["Speed: ",l,"x"]}),x.jsx("input",{type:"range",id:"rate",min:"0.5",max:"2",step:"0.1",value:l,onChange:S=>s(parseFloat(S.target.value)),className:"w-full"})]}),x.jsx("div",{className:"mb-6",children:x.jsx("button",{type:"button",onClick:u?m:g,className:`w-full btn ${n?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:u?"Stop Test":"Test Voice"})}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx("button",{type:"button",onClick:t,className:`btn ${n?"bg-gray-700 border-gray-600 hover:bg-gray-600 text-gray-300":"bg-white border-gray-300 hover:bg-gray-100 text-gray-700"} border`,children:"Cancel"}),x.jsx("button",{type:"submit",className:"btn btn-blue",children:"Save Configuration"})]})]})]})]})},Q5=({isOpen:e,onClose:t,isDarkMode:n})=>{const r=["https://gun-manhattan.herokuapp.com/gun","https://relay.peer.ooo/gun","https://peer.gun.eco/gun"],[i,o]=E.useState(r[0]),[a,l]=E.useState(""),[s,u]=E.useState(""),[d,c]=E.useState(""),[f,p]=E.useState(!1),[h,y]=E.useState(null),[w,v]=E.useState("disconnected");E.useEffect(()=>{if(e){const N=qe.getConfig();if(o(N.relayServer||r[0]),l(N.privateKey||""),c(N.displayName||""),N.privateKey)try{const P=JSON.parse(N.privateKey);u(P.pub||"")}catch(P){console.error("Failed to parse private key:",P),u("")}else u("");return qe.onConnectionStatusChange(v)}},[e]);const g=()=>{switch(w){case"connected":return n?"text-green-400":"text-green-600";case"connecting":return n?"text-yellow-400":"text-yellow-600";case"disconnected":return n?"text-red-400":"text-red-600"}},m=()=>{switch(w){case"connected":return"●";case"connecting":return"○";case"disconnected":return"×"}},b=async()=>{p(!0),y(null);try{await qe.updateConfig({relayServer:i,privateKey:a,displayName:d}),t()}catch(N){y(N instanceof Error?N.message:"Failed to save configuration")}finally{p(!1)}},k=async()=>{p(!0),y(null);try{const N=await qe.generateKeyPair();u(N.pub),l(N.priv)}catch(N){y(N instanceof Error?N.message:"Failed to generate key pair")}finally{p(!1)}},S=()=>{const N=new Blob([a],{type:"text/plain"}),D=URL.createObjectURL(N),P=document.createElement("a");P.href=D,P.download="gun_private_key.txt",document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(D)},C=N=>{var j;const D=(j=N.target.files)==null?void 0:j[0];if(!D)return;const P=new FileReader;P.onload=A=>{var R;const I=(R=A.target)==null?void 0:R.result;if(typeof I=="string"){const $=I.trim();l($);try{const q=JSON.parse($);u(q.pub||"")}catch(q){console.error("Failed to parse imported key:",q),u("")}}},P.readAsText(D)};return x.jsx(uk,{isOpen:e,onClose:t,title:"Gun.js Configuration",isDarkMode:n,children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-1 ${n?"text-gray-300":"text-gray-700"}`,children:"Relay Server"}),x.jsx("select",{value:i,onChange:N=>o(N.target.value),className:`w-full px-3 py-2 rounded-lg border ${n?"bg-gray-800 border-gray-700 text-gray-200":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-reader-blue`,children:r.map(N=>x.jsx("option",{value:N,children:N},N))}),x.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x.jsx("span",{className:`text-lg leading-none ${g()}`,children:m()}),x.jsxs("p",{className:`text-sm ${n?"text-gray-400":"text-gray-500"}`,children:[w==="connected"&&"Connected to relay server",w==="connecting"&&"Connecting to relay server...",w==="disconnected"&&"Disconnected from relay server"]})]}),x.jsx("p",{className:`mt-1 text-sm ${n?"text-gray-400":"text-gray-500"}`,children:"The Gun.js relay server for peer discovery"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-1 ${n?"text-gray-300":"text-gray-700"}`,children:"Display Name"}),x.jsx("input",{type:"text",value:d,onChange:N=>c(N.target.value),placeholder:"Your display name",className:`w-full px-3 py-2 rounded-lg border ${n?"bg-gray-800 border-gray-700 text-gray-200":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-reader-blue`}),x.jsx("p",{className:`mt-1 text-sm ${n?"text-gray-400":"text-gray-500"}`,children:"Your public display name for shared items"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-1 ${n?"text-gray-300":"text-gray-700"}`,children:"Public Key"}),x.jsx("input",{type:"text",value:s,readOnly:!0,className:`w-full px-3 py-2 rounded-lg border font-mono text-sm ${n?"bg-gray-800 border-gray-700 text-gray-200":"bg-gray-100 border-gray-300 text-gray-900"} focus:outline-none`,placeholder:"Your public key will appear here"}),x.jsx("p",{className:`mt-1 text-sm ${n?"text-gray-400":"text-gray-500"}`,children:"Your public key for identification"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-1 ${n?"text-gray-300":"text-gray-700"}`,children:"Private Key"}),x.jsx("input",{type:"password",value:a,onChange:N=>l(N.target.value),placeholder:"Your private key",className:`w-full px-3 py-2 rounded-lg border ${n?"bg-gray-800 border-gray-700 text-gray-200":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-reader-blue`}),x.jsxs("div",{className:"flex gap-2 mt-2",children:[x.jsx("button",{onClick:S,disabled:!a,className:`px-3 py-1 rounded text-sm transition-colors ${n?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} ${a?"":"opacity-50 cursor-not-allowed"}`,children:"Export Key"}),x.jsxs("label",{className:`px-3 py-1 rounded text-sm transition-colors cursor-pointer ${n?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Import Key",x.jsx("input",{type:"file",accept:".txt",onChange:C,className:"hidden"})]}),x.jsx("button",{onClick:k,disabled:f,className:`px-3 py-1 rounded text-sm transition-colors ml-auto ${n?"bg-red-600 text-white hover:bg-red-700":"bg-red-500 text-white hover:bg-red-600"} ${f?"opacity-50 cursor-not-allowed":""}`,children:"Generate New Key"})]}),a&&x.jsx("p",{className:`mt-2 text-xs ${n?"text-yellow-400":"text-yellow-600"}`,children:"⚠️ Save your private key securely! It cannot be recovered if lost."})]}),h&&x.jsx("div",{className:"text-red-500 text-sm mt-2",children:h}),x.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[x.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg ${n?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"}`,children:"Cancel"}),x.jsx("button",{onClick:b,disabled:f,className:`px-4 py-2 rounded-lg bg-reader-blue text-white hover:bg-blue-600 
              ${f?"opacity-50 cursor-not-allowed":""}`,children:f?"Saving...":"Save"})]})]})})},Y5=({isDarkMode:e})=>{const[t,n]=E.useState(je.getQueueLength()),[r,i]=E.useState(je.getCurrentArticle()),[o,a]=E.useState(je.isCurrentlyPlaying()),[l,s]=E.useState(je.isPausedState()),[u,d]=E.useState(je.getCurrentIndex()),[c,f]=E.useState(!1);if(E.useEffect(()=>{const w=()=>{n(je.getQueueLength()),i(je.getCurrentArticle()),a(je.isCurrentlyPlaying()),s(je.isPausedState()),d(je.getCurrentIndex())},v=je.addListener(w);return()=>{v()}},[]),E.useEffect(()=>{if(!c)return;const w=v=>{v.target.closest(".tts-status")||f(!1)};return document.addEventListener("click",w),()=>document.removeEventListener("click",w)},[c]),!o&&t===0)return null;const p=`flex items-center gap-2 p-2 rounded-lg ${e?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,h=`fixed z-40 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border shadow-lg rounded-lg p-2 text-sm right-4 top-16`,y=`p-1.5 rounded transition-colors ${e?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"}`;return x.jsxs("div",{className:"relative tts-status",children:[x.jsxs("button",{onClick:w=>{w.stopPropagation(),f(!c)},className:`${p} relative`,title:r?`Now Playing: ${r.title} - ${r.source}`:"TTS Queue Status",children:[r&&x.jsxs("div",{className:"flex flex-col items-start",children:[x.jsx("div",{className:"text-sm truncate max-w-[200px]",children:r.title}),x.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:r.source})]}),x.jsxs("div",{className:"relative flex-shrink-0",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zm12.553 1.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})}),t>0&&x.jsx("span",{className:"absolute -top-1 -right-1 bg-reader-blue text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:t})]})]}),c&&x.jsxs("div",{className:`${h} tts-status-panel min-w-[300px]`,onClick:w=>w.stopPropagation(),children:[x.jsxs("div",{className:"mb-2",children:[x.jsx("div",{className:"font-semibold mb-1",children:"Now Playing:"}),r?x.jsxs("div",{className:"text-xs",children:[x.jsx("div",{className:"font-medium",children:r.title}),x.jsx("div",{className:"text-gray-500",children:r.source})]}):x.jsx("div",{className:"text-gray-500 text-xs",children:"Nothing playing"})]}),x.jsxs("div",{className:"flex justify-center items-center gap-2 my-3",children:[x.jsx("button",{onClick:()=>je.previous(),disabled:u<=0,className:`${y} ${u<=0?"opacity-50 cursor-not-allowed":""}`,title:"Previous",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{d:"M8.445 14.832A1 1 0 0010 14v-2.798l5.445 3.63A1 1 0 0017 14V6a1 1 0 00-1.447-.894l-2 1z"})})}),x.jsx("button",{onClick:()=>je.togglePlayPause(),className:y,title:l?"Resume":"Pause",children:l?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})}),x.jsx("button",{onClick:()=>je.next(),disabled:u>=t-1,className:`${y} ${u>=t-1?"opacity-50 cursor-not-allowed":""}`,title:"Next",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{d:"M4.555 5.168A1 1 0 003 6v8a1 1 0 001.555.832L10 11.202V14a1 1 0 001.555.832l6-4a1 1 0 000-1.664l-6-4A1 1 0 0010 6v2.798L4.555 5.168z"})})})]}),t>0&&x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold mb-1",children:"Queue:"}),x.jsx("div",{className:"max-h-48 overflow-y-auto",children:je.getQueuedArticles().map((w,v)=>x.jsxs("div",{className:`text-xs mb-2 p-1 rounded ${v===u?e?"bg-gray-700":"bg-gray-100":""}`,children:[x.jsx("div",{className:"font-medium",children:w.title}),x.jsx("div",{className:"text-gray-500",children:w.source})]},w.id))})]}),x.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[o&&x.jsx("button",{onClick:()=>je.stop(),className:`text-xs px-2 py-1 rounded ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Stop"}),t>0&&x.jsx("button",{onClick:()=>je.clearQueue(),className:`text-xs px-2 py-1 rounded ${e?"bg-red-900/80 text-red-100 hover:bg-red-800":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:"Clear Queue"})]})]})]})},J5=({isDarkMode:e,showUnreadOnly:t,onDarkModeToggle:n,onShowUnreadToggle:r,showAddFeedModal:i,onCloseAddFeedModal:o,onRegisterFocusSearch:a})=>{const[l,s]=E.useState(!1),[u,d]=E.useState(!1),[c,f]=E.useState(!1),[p,h]=E.useState({size:0,pending:0}),[y,w]=E.useState(!1);return E.useEffect(()=>{const v=()=>{w(qe.isAuthenticated())};return v(),window.addEventListener("gunAuthChanged",v),()=>{window.removeEventListener("gunAuthChanged",v)}},[]),E.useEffect(()=>{const v=()=>{const m=qr();h({size:m.size+m.pending,pending:m.pending})};v();const g=()=>{v()};return window.addEventListener("queueChanged",g),window.addEventListener("entryProcessingComplete",g),()=>{window.removeEventListener("queueChanged",g),window.removeEventListener("entryProcessingComplete",g)}},[]),x.jsxs(x.Fragment,{children:[x.jsxs("header",{className:`h-14 border-b ${e?"bg-gray-900 border-gray-700":"bg-white border-reader-border"} flex items-center px-4 justify-between`,children:[x.jsx("div",{className:"flex items-center gap-8",children:x.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-reader-blue"}`,children:"InReader"})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Y5,{isDarkMode:e}),x.jsx("button",{onClick:()=>d(!0),className:`p-2 rounded-lg ${e?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:()=>s(!0),className:`p-2 rounded-lg ${e?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})}),(p.size>0||p.pending>0)&&x.jsx("div",{className:`absolute -top-1 -right-1 min-w-[1.2rem] h-[1.2rem] flex items-center justify-center text-xs rounded-full px-1
                bg-reader-blue text-white`,children:p.size})]}),x.jsxs("button",{onClick:()=>f(!0),className:`p-2 rounded-lg relative ${e?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,title:"Gun.js Configuration",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:x.jsx("path",{d:"M21.72,4.28l-3-3a1,1,0,0,0-1.42,0L16,2.59,15.29,1.88a1,1,0,0,0-1.42,0l-1.5,1.5a1,1,0,0,0,0,1.42l.71.71L4.21,14.38A1,1,0,0,0,4,15v3a1,1,0,0,0,.3.71l2,2A1,1,0,0,0,7,21H10a1,1,0,0,0,.62-.21l9.87-8.87.71.71a1,1,0,0,0,1.42,0l1.5-1.5a1,1,0,0,0,0-1.42L23.41,8.29l1.31-1.31a1,1,0,0,0,0-1.42l-3-3ZM9.38,19H7.41l-1-1V16.41l8.83-8.83,2.59,2.59Z"})}),y&&x.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),x.jsx("button",{onClick:r,className:`p-2 rounded-lg ${e?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,title:t?"Showing unread only":"Showing all items",children:t?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),x.jsx("button",{onClick:n,className:`p-2 rounded-lg ${e?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:e?x.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):x.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})]})]}),x.jsx(G5,{isOpen:l,onClose:()=>s(!1),isDarkMode:e}),x.jsx(K5,{isOpen:u,onClose:()=>d(!1),isDarkMode:e}),x.jsx(Q5,{isOpen:c,onClose:()=>f(!1),isDarkMode:e})]})},X5=({isOpen:e,onClose:t,isDarkMode:n,onSearchHistoryUpdate:r})=>{const[i,o]=E.useState(""),a=E.useRef(null),l=Vl();E.useEffect(()=>{var d;e&&((d=a.current)==null||d.focus(),o(""))},[e]);const s=async d=>{d.preventDefault();const c=i.trim();if(console.log("Handling search for:",c),c)try{t(),console.log("Saving search..."),await Promise.all([yA(c),Og()]),r();const f=`/search/${encodeURIComponent(c)}`;console.log("Navigating to:",f),l(f),o("")}catch(f){console.error("Error saving search:",f)}},u=d=>{d.key==="Escape"?(d.preventDefault(),t()):d.key==="Enter"&&(d.preventDefault(),s(d))};return e?x.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:x.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),x.jsx("div",{className:`relative w-full max-w-2xl transform overflow-hidden rounded-lg text-left shadow-xl transition-all
          ${n?"bg-gray-800":"bg-white"}`,children:x.jsxs("form",{onSubmit:s,className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${n?"text-gray-400":"text-gray-500"}`,viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),x.jsx("input",{ref:a,type:"text",placeholder:"Search entries...",value:i,onChange:d=>o(d.target.value),onKeyDown:u,className:`w-full px-4 py-2 rounded-lg text-lg
                  ${n?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-100 border-gray-200 text-gray-900 placeholder-gray-500"} 
                  border focus:outline-none focus:ring-2 focus:ring-reader-blue`})]}),x.jsx("div",{className:`mt-4 text-sm ${n?"text-gray-400":"text-gray-500"}`,children:"Press Enter to search, Escape to close"})]})})]})}):null};function Z5(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const e$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,t$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,n$={};function p0(e,t){return(n$.jsx?t$:e$).test(e)}const r$=/[ \t\n\f\r]/g;function i$(e){return typeof e=="object"?e.type==="text"?h0(e.value):!1:h0(e)}function h0(e){return e.replace(r$,"")===""}class us{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}us.prototype.property={};us.prototype.normal={};us.prototype.space=null;function Dk(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new us(n,r,t)}function ph(e){return e.toLowerCase()}class bn{constructor(t,n){this.property=t,this.attribute=n}}bn.prototype.space=null;bn.prototype.boolean=!1;bn.prototype.booleanish=!1;bn.prototype.overloadedBoolean=!1;bn.prototype.number=!1;bn.prototype.commaSeparated=!1;bn.prototype.spaceSeparated=!1;bn.prototype.commaOrSpaceSeparated=!1;bn.prototype.mustUseProperty=!1;bn.prototype.defined=!1;let o$=0;const ye=Bi(),et=Bi(),Rk=Bi(),te=Bi(),Le=Bi(),Co=Bi(),Gt=Bi();function Bi(){return 2**++o$}const hh=Object.freeze(Object.defineProperty({__proto__:null,boolean:ye,booleanish:et,commaOrSpaceSeparated:Gt,commaSeparated:Co,number:te,overloadedBoolean:Rk,spaceSeparated:Le},Symbol.toStringTag,{value:"Module"})),df=Object.keys(hh);class xm extends bn{constructor(t,n,r,i){let o=-1;if(super(t,n),g0(this,"space",i),typeof r=="number")for(;++o<df.length;){const a=df[o];g0(this,df[o],(r&hh[a])===hh[a])}}}xm.prototype.defined=!0;function g0(e,t,n){n&&(e[t]=n)}const a$={}.hasOwnProperty;function aa(e){const t={},n={};let r;for(r in e.properties)if(a$.call(e.properties,r)){const i=e.properties[r],o=new xm(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[ph(r)]=r,n[ph(o.attribute)]=r}return new us(t,n,e.space)}const jk=aa({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Ok=aa({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function $k(e,t){return t in e?e[t]:t}function _k(e,t){return $k(e,t.toLowerCase())}const Fk=aa({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:_k,properties:{xmlns:null,xmlnsXLink:null}}),Lk=aa({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:et,ariaAutoComplete:null,ariaBusy:et,ariaChecked:et,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:Le,ariaCurrent:null,ariaDescribedBy:Le,ariaDetails:null,ariaDisabled:et,ariaDropEffect:Le,ariaErrorMessage:null,ariaExpanded:et,ariaFlowTo:Le,ariaGrabbed:et,ariaHasPopup:null,ariaHidden:et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Le,ariaLevel:te,ariaLive:null,ariaModal:et,ariaMultiLine:et,ariaMultiSelectable:et,ariaOrientation:null,ariaOwns:Le,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:et,ariaReadOnly:et,ariaRelevant:null,ariaRequired:et,ariaRoleDescription:Le,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:et,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null}}),l$=aa({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:_k,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Co,acceptCharset:Le,accessKey:Le,action:null,allow:null,allowFullScreen:ye,allowPaymentRequest:ye,allowUserMedia:ye,alt:null,as:null,async:ye,autoCapitalize:null,autoComplete:Le,autoFocus:ye,autoPlay:ye,blocking:Le,capture:null,charSet:null,checked:ye,cite:null,className:Le,cols:te,colSpan:null,content:null,contentEditable:et,controls:ye,controlsList:Le,coords:te|Co,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ye,defer:ye,dir:null,dirName:null,disabled:ye,download:Rk,draggable:et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ye,formTarget:null,headers:Le,height:te,hidden:ye,high:te,href:null,hrefLang:null,htmlFor:Le,httpEquiv:Le,id:null,imageSizes:null,imageSrcSet:null,inert:ye,inputMode:null,integrity:null,is:null,isMap:ye,itemId:null,itemProp:Le,itemRef:Le,itemScope:ye,itemType:Le,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ye,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:ye,muted:ye,name:null,nonce:null,noModule:ye,noValidate:ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ye,optimum:te,pattern:null,ping:Le,placeholder:null,playsInline:ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ye,referrerPolicy:null,rel:Le,required:ye,reversed:ye,rows:te,rowSpan:te,sandbox:Le,scope:null,scoped:ye,seamless:ye,selected:ye,shadowRootClonable:ye,shadowRootDelegatesFocus:ye,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:ye,useMap:null,value:et,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Le,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ye,declare:ye,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:ye,noHref:ye,noShade:ye,noWrap:ye,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:et,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ye,disableRemotePlayback:ye,prefix:null,property:null,results:te,security:null,unselectable:null}}),s$=aa({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:$k,properties:{about:Gt,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:Le,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Co,g2:Co,glyphName:Co,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:Gt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Le,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gt,rev:Gt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gt,requiredFeatures:Gt,requiredFonts:Gt,requiredFormats:Gt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:Gt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gt,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),u$=/^data[-\w.:]+$/i,m0=/-[a-z]/g,c$=/[A-Z]/g;function d$(e,t){const n=ph(t);let r=t,i=bn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&u$.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(m0,p$);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!m0.test(o)){let a=o.replace(c$,f$);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=xm}return new i(r,t)}function f$(e){return"-"+e.toLowerCase()}function p$(e){return e.charAt(1).toUpperCase()}const h$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},g$=Dk([Ok,jk,Fk,Lk,l$],"html"),bm=Dk([Ok,jk,Fk,Lk,s$],"svg");function m$(e){return e.join(" ").trim()}var Mk={},v0=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,v$=/\n/g,y$=/^\s*/,w$=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,x$=/^:\s*/,b$=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,S$=/^[;\s]*/,k$=/^\s+|\s+$/g,E$=`
`,y0="/",w0="*",pi="",C$="comment",I$="declaration",P$=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(h){var y=h.match(v$);y&&(n+=y.length);var w=h.lastIndexOf(E$);r=~w?h.length-w:r+h.length}function o(){var h={line:n,column:r};return function(y){return y.position=new a(h),u(),y}}function a(h){this.start=h,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function l(h){var y=new Error(t.source+":"+n+":"+r+": "+h);if(y.reason=h,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function s(h){var y=h.exec(e);if(y){var w=y[0];return i(w),e=e.slice(w.length),y}}function u(){s(y$)}function d(h){var y;for(h=h||[];y=c();)y!==!1&&h.push(y);return h}function c(){var h=o();if(!(y0!=e.charAt(0)||w0!=e.charAt(1))){for(var y=2;pi!=e.charAt(y)&&(w0!=e.charAt(y)||y0!=e.charAt(y+1));)++y;if(y+=2,pi===e.charAt(y-1))return l("End of comment missing");var w=e.slice(2,y-2);return r+=2,i(w),e=e.slice(y),r+=2,h({type:C$,comment:w})}}function f(){var h=o(),y=s(w$);if(y){if(c(),!s(x$))return l("property missing ':'");var w=s(b$),v=h({type:I$,property:x0(y[0].replace(v0,pi)),value:w?x0(w[0].replace(v0,pi)):pi});return s(S$),v}}function p(){var h=[];d(h);for(var y;y=f();)y!==!1&&(h.push(y),d(h));return h}return u(),p()};function x0(e){return e?e.replace(k$,pi):pi}var A$=Oa&&Oa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mk,"__esModule",{value:!0});var b0=Mk.default=N$,T$=A$(P$);function N$(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,T$.default)(e),i=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var a=o.property,l=o.value;i?t(a,l,o):l&&(n=n||{},n[a]=l)}}),n}const D$=b0.default||b0,Bk=zk("end"),Sm=zk("start");function zk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function R$(e){const t=Sm(e),n=Bk(e);if(t&&n)return{start:t,end:n}}function Xa(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?S0(e.position):"start"in e||"end"in e?S0(e):"line"in e||"column"in e?gh(e):""}function gh(e){return k0(e&&e.line)+":"+k0(e&&e.column)}function S0(e){return gh(e&&e.start)+"-"+gh(e&&e.end)}function k0(e){return e&&typeof e=="number"?e:1}class Pt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const s=r.indexOf(":");s===-1?o.ruleId=r:(o.source=r.slice(0,s),o.ruleId=r.slice(s+1))}if(!o.place&&o.ancestors&&o.ancestors){const s=o.ancestors[o.ancestors.length-1];s&&(o.place=s.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Xa(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Pt.prototype.file="";Pt.prototype.name="";Pt.prototype.reason="";Pt.prototype.message="";Pt.prototype.stack="";Pt.prototype.column=void 0;Pt.prototype.line=void 0;Pt.prototype.ancestors=void 0;Pt.prototype.cause=void 0;Pt.prototype.fatal=void 0;Pt.prototype.place=void 0;Pt.prototype.ruleId=void 0;Pt.prototype.source=void 0;const km={}.hasOwnProperty,j$=new Map,O$=/[A-Z]/g,$$=/-([a-z])/g,_$=new Set(["table","tbody","thead","tfoot","tr"]),F$=new Set(["td","th"]),Uk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function L$(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=W$(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=V$(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?bm:g$,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Hk(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Hk(e,t,n){if(t.type==="element")return M$(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return B$(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return U$(e,t,n);if(t.type==="mdxjsEsm")return z$(e,t);if(t.type==="root")return H$(e,t,n);if(t.type==="text")return q$(e,t)}function M$(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=bm,e.schema=i),e.ancestors.push(t);const o=Vk(e,t.tagName,!1),a=G$(e,t);let l=Cm(e,t);return _$.has(t.tagName)&&(l=l.filter(function(s){return typeof s=="string"?!i$(s):!0})),qk(e,a,o,t),Em(a,l),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function B$(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}jl(e,t.position)}function z$(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);jl(e,t.position)}function U$(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=bm,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:Vk(e,t.name,!0),a=K$(e,t),l=Cm(e,t);return qk(e,a,o,t),Em(a,l),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function H$(e,t,n){const r={};return Em(r,Cm(e,t)),e.create(t,e.Fragment,r,n)}function q$(e,t){return t.value}function qk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Em(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function V$(e,t,n){return r;function r(i,o,a,l){const u=Array.isArray(a.children)?n:t;return l?u(o,a,l):u(o,a)}}function W$(e,t){return n;function n(r,i,o,a){const l=Array.isArray(o.children),s=Sm(r);return t(i,o,a,l,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}function G$(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&km.call(t.properties,i)){const o=Q$(e,i,t.properties[i]);if(o){const[a,l]=o;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&F$.has(t.tagName)?r=l:n[a]=l}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function K$(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else jl(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,o=e.evaluater.evaluateExpression(l.expression)}else jl(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Cm(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:j$;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const s=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(s){const u=i.get(s)||0;a=s+"-"+u,i.set(s,u+1)}}const l=Hk(e,o,a);l!==void 0&&n.push(l)}return n}function Q$(e,t,n){const r=d$(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Z5(n):m$(n)),r.property==="style"){let i=typeof n=="object"?n:Y$(e,String(n));return e.stylePropertyNameCase==="css"&&(i=J$(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?h$[r.property]||r.property:r.attribute,n]}}function Y$(e,t){const n={};try{D$(t,r)}catch(i){if(!e.ignoreInvalidStyle){const o=i,a=new Pt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=Uk+"#cannot-parse-style-attribute",a}}return n;function r(i,o){let a=i;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace($$,Z$)),n[a]=o}}function Vk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,a;for(;++o<i.length;){const l=p0(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=a}else r=p0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return km.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);jl(e)}function jl(e,t){const n=new Pt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Uk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function J$(e){const t={};let n;for(n in e)km.call(e,n)&&(t[X$(n)]=e[n]);return t}function X$(e){let t=e.replace(O$,e3);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Z$(e,t){return t.toUpperCase()}function e3(e){return"-"+e.toLowerCase()}const ff={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},t3={};function Im(e,t){const n=t3,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Wk(e,r,i)}function Wk(e,t,n){if(n3(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return E0(e.children,t,n)}return Array.isArray(e)?E0(e,t,n):""}function E0(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Wk(e[i],t,n);return r.join("")}function n3(e){return!!(e&&typeof e=="object")}const C0=document.createElement("i");function Pm(e){const t="&"+e+";";C0.innerHTML=t;const n=C0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function en(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function hn(e,t){return e.length>0?(en(e,e.length,0,t),e):t}const I0={}.hasOwnProperty;function Gk(e){const t={};let n=-1;for(;++n<e.length;)r3(t,e[n]);return t}function r3(e,t){let n;for(n in t){const i=(I0.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){I0.call(i,a)||(i[a]=[]);const l=o[a];i3(i[a],Array.isArray(l)?l:l?[l]:[])}}}function i3(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);en(e,0,0,r)}function Kk(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function On(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Dt=ii(/[A-Za-z]/),Et=ii(/[\dA-Za-z]/),o3=ii(/[#-'*+\--9=?A-Z^-~]/);function pc(e){return e!==null&&(e<32||e===127)}const mh=ii(/\d/),a3=ii(/[\dA-Fa-f]/),l3=ii(/[!-/:-@[-`{-~]/);function fe(e){return e!==null&&e<-2}function _e(e){return e!==null&&(e<0||e===32)}function be(e){return e===-2||e===-1||e===32}const rd=ii(new RegExp("\\p{P}|\\p{S}","u")),Oi=ii(/\s/);function ii(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function la(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Et(e.charCodeAt(n+1))&&Et(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const l=e.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(a=String.fromCharCode(o,l),i=1):a="�"}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ce(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(s){return be(s)?(e.enter(n),l(s)):t(s)}function l(s){return be(s)&&o++<i?(e.consume(s),l):(e.exit(n),t(s))}}const s3={tokenize:u3};function u3(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ce(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),o(l)}function o(l){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return fe(l)?(e.consume(l),e.exit("chunkText"),o):(e.consume(l),a)}}const c3={tokenize:d3},P0={tokenize:f3};function d3(e){const t=this,n=[];let r=0,i,o,a;return l;function l(m){if(r<n.length){const b=n[r];return t.containerState=b[1],e.attempt(b[0].continuation,s,u)(m)}return u(m)}function s(m){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&g();const b=t.events.length;let k=b,S;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){S=t.events[k][1].end;break}v(r);let C=b;for(;C<t.events.length;)t.events[C][1].end={...S},C++;return en(t.events,k+1,0,t.events.slice(b)),t.events.length=C,u(m)}return l(m)}function u(m){if(r===n.length){if(!i)return f(m);if(i.currentConstruct&&i.currentConstruct.concrete)return h(m);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(P0,d,c)(m)}function d(m){return i&&g(),v(r),f(m)}function c(m){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,h(m)}function f(m){return t.containerState={},e.attempt(P0,p,h)(m)}function p(m){return r++,n.push([t.currentConstruct,t.containerState]),f(m)}function h(m){if(m===null){i&&g(),v(0),e.consume(m);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(m)}function y(m){if(m===null){w(e.exit("chunkFlow"),!0),v(0),e.consume(m);return}return fe(m)?(e.consume(m),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(m),y)}function w(m,b){const k=t.sliceStream(m);if(b&&k.push(null),m.previous=o,o&&(o.next=m),o=m,i.defineSkip(m.start),i.write(k),t.parser.lazy[m.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<a&&(!i.events[S][1].end||i.events[S][1].end.offset>a))return;const C=t.events.length;let N=C,D,P;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(D){P=t.events[N][1].end;break}D=!0}for(v(r),S=C;S<t.events.length;)t.events[S][1].end={...P},S++;en(t.events,N+1,0,t.events.slice(C)),t.events.length=S}}function v(m){let b=n.length;for(;b-- >m;){const k=n[b];t.containerState=k[1],k[0].exit.call(t,e)}n.length=m}function g(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function f3(e,t,n){return Ce(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qo(e){if(e===null||_e(e)||Oi(e))return 1;if(rd(e))return 2}function id(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const vh={name:"attention",resolveAll:p3,tokenize:h3};function p3(e,t){let n=-1,r,i,o,a,l,s,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const c={...e[r][1].end},f={...e[n][1].start};A0(c,-s),A0(f,s),a={type:s>1?"strongSequence":"emphasisSequence",start:c,end:{...e[r][1].end}},l={type:s>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},o={type:s>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:s>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[r][1].end={...a.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=hn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=hn(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),u=hn(u,id(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=hn(u,[["exit",o,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=hn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,en(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function h3(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=qo(r);let o;return a;function a(s){return o=s,e.enter("attentionSequence"),l(s)}function l(s){if(s===o)return e.consume(s),l;const u=e.exit("attentionSequence"),d=qo(s),c=!d||d===2&&i||n.includes(s),f=!i||i===2&&d||n.includes(r);return u._open=!!(o===42?c:c&&(i||!f)),u._close=!!(o===42?f:f&&(d||!c)),t(s)}}function A0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const g3={name:"autolink",tokenize:m3};function m3(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(p){return Dt(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||Et(p)?(r=1,l(p)):u(p)}function l(p){return p===58?(e.consume(p),r=0,s):(p===43||p===45||p===46||Et(p))&&r++<32?(e.consume(p),l):(r=0,u(p))}function s(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||pc(p)?n(p):(e.consume(p),s)}function u(p){return p===64?(e.consume(p),d):o3(p)?(e.consume(p),u):n(p)}function d(p){return Et(p)?c(p):n(p)}function c(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||Et(p))&&r++<63){const h=p===45?f:c;return e.consume(p),h}return n(p)}}const cs={partial:!0,tokenize:v3};function v3(e,t,n){return r;function r(o){return be(o)?Ce(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||fe(o)?t(o):n(o)}}const Qk={continuation:{tokenize:w3},exit:x3,name:"blockQuote",tokenize:y3};function y3(e,t,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return be(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function w3(e,t,n){const r=this;return i;function i(a){return be(a)?Ce(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(Qk,t,n)(a)}}function x3(e){e.exit("blockQuote")}const Yk={name:"characterEscape",tokenize:b3};function b3(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return l3(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Jk={name:"characterReference",tokenize:S3};function S3(e,t,n){const r=this;let i=0,o,a;return l;function l(c){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),s}function s(c){return c===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(c),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,a=Et,d(c))}function u(c){return c===88||c===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(c),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=a3,d):(e.enter("characterReferenceValue"),o=7,a=mh,d(c))}function d(c){if(c===59&&i){const f=e.exit("characterReferenceValue");return a===Et&&!Pm(r.sliceSerialize(f))?n(c):(e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(c)&&i++<o?(e.consume(c),d):n(c)}}const T0={partial:!0,tokenize:E3},N0={concrete:!0,name:"codeFenced",tokenize:k3};function k3(e,t,n){const r=this,i={partial:!0,tokenize:k};let o=0,a=0,l;return s;function s(S){return u(S)}function u(S){const C=r.events[r.events.length-1];return o=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,l=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===l?(a++,e.consume(S),d):a<3?n(S):(e.exit("codeFencedFenceSequence"),be(S)?Ce(e,c,"whitespace")(S):c(S))}function c(S){return S===null||fe(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(T0,y,b)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||fe(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(S)):be(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ce(e,p,"whitespace")(S)):S===96&&S===l?n(S):(e.consume(S),f)}function p(S){return S===null||fe(S)?c(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||fe(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(S)):S===96&&S===l?n(S):(e.consume(S),h)}function y(S){return e.attempt(i,b,w)(S)}function w(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),v}function v(S){return o>0&&be(S)?Ce(e,g,"linePrefix",o+1)(S):g(S)}function g(S){return S===null||fe(S)?e.check(T0,y,b)(S):(e.enter("codeFlowValue"),m(S))}function m(S){return S===null||fe(S)?(e.exit("codeFlowValue"),g(S)):(e.consume(S),m)}function b(S){return e.exit("codeFenced"),t(S)}function k(S,C,N){let D=0;return P;function P($){return S.enter("lineEnding"),S.consume($),S.exit("lineEnding"),j}function j($){return S.enter("codeFencedFence"),be($)?Ce(S,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):A($)}function A($){return $===l?(S.enter("codeFencedFenceSequence"),I($)):N($)}function I($){return $===l?(D++,S.consume($),I):D>=a?(S.exit("codeFencedFenceSequence"),be($)?Ce(S,R,"whitespace")($):R($)):N($)}function R($){return $===null||fe($)?(S.exit("codeFencedFence"),C($)):N($)}}}function E3(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const pf={name:"codeIndented",tokenize:I3},C3={partial:!0,tokenize:P3};function I3(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ce(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?s(u):fe(u)?e.attempt(C3,a,s)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||fe(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),l)}function s(u){return e.exit("codeIndented"),t(u)}}function P3(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):fe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Ce(e,o,"linePrefix",5)(a)}function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):fe(a)?i(a):n(a)}}const A3={name:"codeText",previous:N3,resolve:T3,tokenize:D3};function T3(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function N3(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function D3(e,t,n){let r=0,i,o;return a;function a(c){return e.enter("codeText"),e.enter("codeTextSequence"),l(c)}function l(c){return c===96?(e.consume(c),r++,l):(e.exit("codeTextSequence"),s(c))}function s(c){return c===null?n(c):c===32?(e.enter("space"),e.consume(c),e.exit("space"),s):c===96?(o=e.enter("codeTextSequence"),i=0,d(c)):fe(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||fe(c)?(e.exit("codeTextData"),s(c)):(e.consume(c),u)}function d(c){return c===96?(e.consume(c),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(c)):(o.type="codeTextData",u(c))}}class R3{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ea(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ea(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ea(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ea(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ea(this.left,n.reverse())}}}function Ea(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Xk(e){const t={};let n=-1,r,i,o,a,l,s,u;const d=new R3(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,o=0,o<s.length&&s[o][1].type==="lineEndingBlank"&&(o+=2),o<s.length&&s[o][1].type==="content"))for(;++o<s.length&&s[o][1].type!=="content";)s[o][1].type==="chunkText"&&(s[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,j3(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(a=d.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return en(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function j3(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[],a=n._tokenizer||r.parser[n.contentType](n.start),l=a.events,s=[],u={};let d,c,f=-1,p=n,h=0,y=0;const w=[y];for(;p;){for(;e.get(++i)[1]!==p;);o.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),c&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),c=p,p=p.next}for(p=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(y=f+1,w.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),f=w.length;f--;){const v=l.slice(w[f],w[f+1]),g=o.pop();s.push([g,g+v.length-1]),e.splice(g,2,v)}for(s.reverse(),f=-1;++f<s.length;)u[h+s[f][0]]=h+s[f][1],h+=s[f][1]-s[f][0]-1;return u}const O3={resolve:_3,tokenize:F3},$3={partial:!0,tokenize:L3};function _3(e){return Xk(e),e}function F3(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):fe(l)?e.check($3,a,o)(l):(e.consume(l),i)}function o(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function L3(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ce(e,o,"linePrefix")}function o(a){if(a===null||fe(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Zk(e,t,n,r,i,o,a,l,s){const u=s||Number.POSITIVE_INFINITY;let d=0;return c;function c(v){return v===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(v),e.exit(o),f):v===null||v===32||v===41||pc(v)?n(v):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(v))}function f(v){return v===62?(e.enter(o),e.consume(v),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(l),f(v)):v===null||v===60||fe(v)?n(v):(e.consume(v),v===92?h:p)}function h(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function y(v){return!d&&(v===null||v===41||_e(v))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,y):v===41?(e.consume(v),d--,y):v===null||v===32||v===40||pc(v)?n(v):(e.consume(v),v===92?w:y)}function w(v){return v===40||v===41||v===92?(e.consume(v),y):y(v)}}function eE(e,t,n,r,i,o){const a=this;let l=0,s;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(o),d}function d(p){return l>999||p===null||p===91||p===93&&!s||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(o),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):fe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===null||p===91||p===93||fe(p)||l++>999?(e.exit("chunkString"),d(p)):(e.consume(p),s||(s=!be(p)),p===92?f:c)}function f(p){return p===91||p===92||p===93?(e.consume(p),l++,c):c(p)}}function tE(e,t,n,r,i,o){let a;return l;function l(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),a=f===40?41:f,s):n(f)}function s(f){return f===a?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(o),u(f))}function u(f){return f===a?(e.exit(o),s(a)):f===null?n(f):fe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Ce(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===a||f===null||fe(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?c:d)}function c(f){return f===a||f===92?(e.consume(f),d):d(f)}}function Za(e,t){let n;return r;function r(i){return fe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):be(i)?Ce(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const M3={name:"definition",tokenize:z3},B3={partial:!0,tokenize:U3};function z3(e,t,n){const r=this;let i;return o;function o(p){return e.enter("definition"),a(p)}function a(p){return eE.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return i=On(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),s):n(p)}function s(p){return _e(p)?Za(e,u)(p):u(p)}function u(p){return Zk(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(B3,c,c)(p)}function c(p){return be(p)?Ce(e,f,"whitespace")(p):f(p)}function f(p){return p===null||fe(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function U3(e,t,n){return r;function r(l){return _e(l)?Za(e,i)(l):n(l)}function i(l){return tE(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return be(l)?Ce(e,a,"whitespace")(l):a(l)}function a(l){return l===null||fe(l)?t(l):n(l)}}const H3={name:"hardBreakEscape",tokenize:q3};function q3(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return fe(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const V3={name:"headingAtx",resolve:W3,tokenize:G3};function W3(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},en(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function G3(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||_e(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),s(d)):d===null||fe(d)?(e.exit("atxHeading"),t(d)):be(d)?Ce(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function s(d){return d===35?(e.consume(d),s):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||_e(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const K3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],D0=["pre","script","style","textarea"],Q3={concrete:!0,name:"htmlFlow",resolveTo:X3,tokenize:Z3},Y3={partial:!0,tokenize:t_},J3={partial:!0,tokenize:e_};function X3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Z3(e,t,n){const r=this;let i,o,a,l,s;return u;function u(O){return d(O)}function d(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),c}function c(O){return O===33?(e.consume(O),f):O===47?(e.consume(O),o=!0,y):O===63?(e.consume(O),i=3,r.interrupt?t:T):Dt(O)?(e.consume(O),a=String.fromCharCode(O),w):n(O)}function f(O){return O===45?(e.consume(O),i=2,p):O===91?(e.consume(O),i=5,l=0,h):Dt(O)?(e.consume(O),i=4,r.interrupt?t:T):n(O)}function p(O){return O===45?(e.consume(O),r.interrupt?t:T):n(O)}function h(O){const B="CDATA[";return O===B.charCodeAt(l++)?(e.consume(O),l===B.length?r.interrupt?t:A:h):n(O)}function y(O){return Dt(O)?(e.consume(O),a=String.fromCharCode(O),w):n(O)}function w(O){if(O===null||O===47||O===62||_e(O)){const B=O===47,L=a.toLowerCase();return!B&&!o&&D0.includes(L)?(i=1,r.interrupt?t(O):A(O)):K3.includes(a.toLowerCase())?(i=6,B?(e.consume(O),v):r.interrupt?t(O):A(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):o?g(O):m(O))}return O===45||Et(O)?(e.consume(O),a+=String.fromCharCode(O),w):n(O)}function v(O){return O===62?(e.consume(O),r.interrupt?t:A):n(O)}function g(O){return be(O)?(e.consume(O),g):P(O)}function m(O){return O===47?(e.consume(O),P):O===58||O===95||Dt(O)?(e.consume(O),b):be(O)?(e.consume(O),m):P(O)}function b(O){return O===45||O===46||O===58||O===95||Et(O)?(e.consume(O),b):k(O)}function k(O){return O===61?(e.consume(O),S):be(O)?(e.consume(O),k):m(O)}function S(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),s=O,C):be(O)?(e.consume(O),S):N(O)}function C(O){return O===s?(e.consume(O),s=null,D):O===null||fe(O)?n(O):(e.consume(O),C)}function N(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||_e(O)?k(O):(e.consume(O),N)}function D(O){return O===47||O===62||be(O)?m(O):n(O)}function P(O){return O===62?(e.consume(O),j):n(O)}function j(O){return O===null||fe(O)?A(O):be(O)?(e.consume(O),j):n(O)}function A(O){return O===45&&i===2?(e.consume(O),q):O===60&&i===1?(e.consume(O),z):O===62&&i===4?(e.consume(O),W):O===63&&i===3?(e.consume(O),T):O===93&&i===5?(e.consume(O),U):fe(O)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Y3,K,I)(O)):O===null||fe(O)?(e.exit("htmlFlowData"),I(O)):(e.consume(O),A)}function I(O){return e.check(J3,R,K)(O)}function R(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),$}function $(O){return O===null||fe(O)?I(O):(e.enter("htmlFlowData"),A(O))}function q(O){return O===45?(e.consume(O),T):A(O)}function z(O){return O===47?(e.consume(O),a="",_):A(O)}function _(O){if(O===62){const B=a.toLowerCase();return D0.includes(B)?(e.consume(O),W):A(O)}return Dt(O)&&a.length<8?(e.consume(O),a+=String.fromCharCode(O),_):A(O)}function U(O){return O===93?(e.consume(O),T):A(O)}function T(O){return O===62?(e.consume(O),W):O===45&&i===2?(e.consume(O),T):A(O)}function W(O){return O===null||fe(O)?(e.exit("htmlFlowData"),K(O)):(e.consume(O),W)}function K(O){return e.exit("htmlFlow"),t(O)}}function e_(e,t,n){const r=this;return i;function i(a){return fe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function t_(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(cs,t,n)}}const n_={name:"htmlText",tokenize:r_};function r_(e,t,n){const r=this;let i,o,a;return l;function l(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),s}function s(T){return T===33?(e.consume(T),u):T===47?(e.consume(T),k):T===63?(e.consume(T),m):Dt(T)?(e.consume(T),N):n(T)}function u(T){return T===45?(e.consume(T),d):T===91?(e.consume(T),o=0,h):Dt(T)?(e.consume(T),g):n(T)}function d(T){return T===45?(e.consume(T),p):n(T)}function c(T){return T===null?n(T):T===45?(e.consume(T),f):fe(T)?(a=c,z(T)):(e.consume(T),c)}function f(T){return T===45?(e.consume(T),p):c(T)}function p(T){return T===62?q(T):T===45?f(T):c(T)}function h(T){const W="CDATA[";return T===W.charCodeAt(o++)?(e.consume(T),o===W.length?y:h):n(T)}function y(T){return T===null?n(T):T===93?(e.consume(T),w):fe(T)?(a=y,z(T)):(e.consume(T),y)}function w(T){return T===93?(e.consume(T),v):y(T)}function v(T){return T===62?q(T):T===93?(e.consume(T),v):y(T)}function g(T){return T===null||T===62?q(T):fe(T)?(a=g,z(T)):(e.consume(T),g)}function m(T){return T===null?n(T):T===63?(e.consume(T),b):fe(T)?(a=m,z(T)):(e.consume(T),m)}function b(T){return T===62?q(T):m(T)}function k(T){return Dt(T)?(e.consume(T),S):n(T)}function S(T){return T===45||Et(T)?(e.consume(T),S):C(T)}function C(T){return fe(T)?(a=C,z(T)):be(T)?(e.consume(T),C):q(T)}function N(T){return T===45||Et(T)?(e.consume(T),N):T===47||T===62||_e(T)?D(T):n(T)}function D(T){return T===47?(e.consume(T),q):T===58||T===95||Dt(T)?(e.consume(T),P):fe(T)?(a=D,z(T)):be(T)?(e.consume(T),D):q(T)}function P(T){return T===45||T===46||T===58||T===95||Et(T)?(e.consume(T),P):j(T)}function j(T){return T===61?(e.consume(T),A):fe(T)?(a=j,z(T)):be(T)?(e.consume(T),j):D(T)}function A(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),i=T,I):fe(T)?(a=A,z(T)):be(T)?(e.consume(T),A):(e.consume(T),R)}function I(T){return T===i?(e.consume(T),i=void 0,$):T===null?n(T):fe(T)?(a=I,z(T)):(e.consume(T),I)}function R(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||_e(T)?D(T):(e.consume(T),R)}function $(T){return T===47||T===62||_e(T)?D(T):n(T)}function q(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):n(T)}function z(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),_}function _(T){return be(T)?Ce(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):U(T)}function U(T){return e.enter("htmlTextData"),a(T)}}const Am={name:"labelEnd",resolveAll:l_,resolveTo:s_,tokenize:u_},i_={tokenize:c_},o_={tokenize:d_},a_={tokenize:f_};function l_(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&en(e,0,e.length,n),e}function s_(e,t){let n=e.length,r=0,i,o,a,l;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const s={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",s,t],["enter",u,t]],l=hn(l,e.slice(o+1,o+r+3)),l=hn(l,[["enter",d,t]]),l=hn(l,id(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),l=hn(l,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),l=hn(l,e.slice(a+1)),l=hn(l,[["exit",s,t]]),en(e,o,e.length,l),e}function u_(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(f){return o?o._inactive?c(f):(a=r.parser.defined.includes(On(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),s):n(f)}function s(f){return f===40?e.attempt(i_,d,a?d:c)(f):f===91?e.attempt(o_,d,a?u:c)(f):a?d(f):c(f)}function u(f){return e.attempt(a_,d,c)(f)}function d(f){return t(f)}function c(f){return o._balanced=!0,n(f)}}function c_(e,t,n){return r;function r(c){return e.enter("resource"),e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),i}function i(c){return _e(c)?Za(e,o)(c):o(c)}function o(c){return c===41?d(c):Zk(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function a(c){return _e(c)?Za(e,s)(c):d(c)}function l(c){return n(c)}function s(c){return c===34||c===39||c===40?tE(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):d(c)}function u(c){return _e(c)?Za(e,d)(c):d(c)}function d(c){return c===41?(e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),e.exit("resource"),t):n(c)}}function d_(e,t,n){const r=this;return i;function i(l){return eE.call(r,e,o,a,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(On(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function f_(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const p_={name:"labelStartImage",resolveAll:Am.resolveAll,tokenize:h_};function h_(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),o}function o(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const g_={name:"labelStartLink",resolveAll:Am.resolveAll,tokenize:m_};function m_(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const hf={name:"lineEnding",tokenize:v_};function v_(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ce(e,t,"linePrefix")}}const yu={name:"thematicBreak",tokenize:y_};function y_(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),s(u)):r>=3&&(u===null||fe(u))?(e.exit("thematicBreak"),t(u)):n(u)}function s(u){return u===i?(e.consume(u),r++,s):(e.exit("thematicBreakSequence"),be(u)?Ce(e,l,"whitespace")(u):l(u))}}const _t={continuation:{tokenize:S_},exit:E_,name:"list",tokenize:b_},w_={partial:!0,tokenize:C_},x_={partial:!0,tokenize:k_};function b_(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(p){const h=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:mh(p)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(yu,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(p)}return n(p)}function s(p){return mh(p)&&++a<10?(e.consume(p),s):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(cs,r.interrupt?n:d,e.attempt(w_,f,c))}function d(p){return r.containerState.initialBlankLine=!0,o++,f(p)}function c(p){return be(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function S_(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(cs,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ce(e,t,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!be(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(x_,t,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ce(e,e.attempt(_t,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function k_(e,t,n){const r=this;return Ce(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function E_(e){e.exit(this.containerState.type)}function C_(e,t,n){const r=this;return Ce(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!be(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const R0={name:"setextUnderline",resolveTo:I_,tokenize:P_};function I_(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function P_(e,t,n){const r=this;let i;return o;function o(u){let d=r.events.length,c;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){c=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),be(u)?Ce(e,s,"lineSuffix")(u):s(u))}function s(u){return u===null||fe(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const A_={tokenize:T_};function T_(e){const t=this,n=e.attempt(cs,r,e.attempt(this.parser.constructs.flowInitial,i,Ce(e,e.attempt(this.parser.constructs.flow,i,e.attempt(O3,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const N_={resolveAll:rE()},D_=nE("string"),R_=nE("text");function nE(e){return{resolveAll:rE(e==="text"?j_:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,l);return a;function a(d){return u(d)?o(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),s}function s(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),s)}function u(d){if(d===null)return!0;const c=i[d];let f=-1;if(c)for(;++f<c.length;){const p=c[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function rE(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function j_(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,l=0,s;for(;o--;){const u=i[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(u===-2)s=!0,l++;else if(u!==-1){o++;break}}if(l){const u={type:n===e.length||s||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const O_={42:_t,43:_t,45:_t,48:_t,49:_t,50:_t,51:_t,52:_t,53:_t,54:_t,55:_t,56:_t,57:_t,62:Qk},$_={91:M3},__={[-2]:pf,[-1]:pf,32:pf},F_={35:V3,42:yu,45:[R0,yu],60:Q3,61:R0,95:yu,96:N0,126:N0},L_={38:Jk,92:Yk},M_={[-5]:hf,[-4]:hf,[-3]:hf,33:p_,38:Jk,42:vh,60:[g3,n_],91:g_,92:[H3,Yk],93:Am,95:vh,96:A3},B_={null:[vh,N_]},z_={null:[42,95]},U_={null:[]},H_=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:z_,contentInitial:$_,disable:U_,document:O_,flow:F_,flowInitial:__,insideSpan:B_,string:L_,text:M_},Symbol.toStringTag,{value:"Module"}));function q_(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],l=[];const s={attempt:C(k),check:C(S),consume:g,enter:m,exit:b,interrupt:C(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:h,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:c};let d=t.tokenize.call(u,s);return t.resolveAll&&o.push(t),u;function c(j){return a=hn(a,j),w(),a[a.length-1]!==null?[]:(N(t,0),u.events=id(o,u.events,u),u.events)}function f(j,A){return W_(p(j),A)}function p(j){return V_(a,j)}function h(){const{_bufferIndex:j,_index:A,line:I,column:R,offset:$}=r;return{_bufferIndex:j,_index:A,line:I,column:R,offset:$}}function y(j){i[j.line]=j.column,P()}function w(){let j;for(;r._index<a.length;){const A=a[r._index];if(typeof A=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<A.length;)v(A.charCodeAt(r._bufferIndex));else v(A)}}function v(j){d=d(j)}function g(j){fe(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,P()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=j}function m(j,A){const I=A||{};return I.type=j,I.start=h(),u.events.push(["enter",I,u]),l.push(I),I}function b(j){const A=l.pop();return A.end=h(),u.events.push(["exit",A,u]),A}function k(j,A){N(j,A.from)}function S(j,A){A.restore()}function C(j,A){return I;function I(R,$,q){let z,_,U,T;return Array.isArray(R)?K(R):"tokenize"in R?K([R]):W(R);function W(F){return H;function H(G){const Z=G!==null&&F[G],V=G!==null&&F.null,oe=[...Array.isArray(Z)?Z:Z?[Z]:[],...Array.isArray(V)?V:V?[V]:[]];return K(oe)(G)}}function K(F){return z=F,_=0,F.length===0?q:O(F[_])}function O(F){return H;function H(G){return T=D(),U=F,F.partial||(u.currentConstruct=F),F.name&&u.parser.constructs.disable.null.includes(F.name)?L():F.tokenize.call(A?Object.assign(Object.create(u),A):u,s,B,L)(G)}}function B(F){return j(U,T),$}function L(F){return T.restore(),++_<z.length?O(z[_]):q}}}function N(j,A){j.resolveAll&&!o.includes(j)&&o.push(j),j.resolve&&en(u.events,A,u.events.length-A,j.resolve(u.events.slice(A),u)),j.resolveTo&&(u.events=j.resolveTo(u.events,u))}function D(){const j=h(),A=u.previous,I=u.currentConstruct,R=u.events.length,$=Array.from(l);return{from:R,restore:q};function q(){r=j,u.previous=A,u.currentConstruct=I,u.events.length=R,l=$,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function V_(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function W_(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function G_(e){const r={constructs:Gk([H_,...(e||{}).extensions||[]]),content:i(s3),defined:[],document:i(c3),flow:i(A_),lazy:{},string:i(D_),text:i(R_)};return r;function i(o){return a;function a(l){return q_(r,o,l)}}}function K_(e){for(;!Xk(e););return e}const j0=/[\0\t\n\r]/g;function Q_(){let e=1,t="",n=!0,r;return i;function i(o,a,l){const s=[];let u,d,c,f,p;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),c=0,t="",n&&(o.charCodeAt(0)===65279&&c++,n=void 0);c<o.length;){if(j0.lastIndex=c,u=j0.exec(o),f=u&&u.index!==void 0?u.index:o.length,p=o.charCodeAt(f),!u){t=o.slice(c);break}if(p===10&&c===f&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),c<f&&(s.push(o.slice(c,f)),e+=f-c),p){case 0:{s.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,s.push(-2);e++<d;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:r=!0,e=1}c=f+1}return l&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}const Y_=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function J_(e){return e.replace(Y_,X_)}function X_(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Kk(n.slice(o?2:1),o?16:10)}return Pm(n)||e}const iE={}.hasOwnProperty;function Z_(e,t,n){return typeof t!="string"&&(n=t,t=void 0),eF(n)(K_(G_(n).document().write(Q_()(e,t,!0))))}function eF(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ge),autolinkProtocol:D,autolinkEmail:D,atxHeading:o(ne),blockQuote:o(V),characterEscape:D,characterReference:D,codeFenced:o(oe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(oe,a),codeText:o(J,a),codeTextData:D,data:D,codeFlowValue:D,definition:o(M),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Q),hardBreakEscape:o(me),hardBreakTrailing:o(me),htmlFlow:o(ce,a),htmlFlowData:D,htmlText:o(ce,a),htmlTextData:D,image:o(ke),label:a,link:o(ge),listItem:o(we),listItemValue:f,listOrdered:o(Ne,c),listUnordered:o(Ne),paragraph:o(Jn),reference:O,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(ne),strong:o(fs),thematicBreak:o(sd)},exit:{atxHeading:s(),atxHeadingSequence:k,autolink:s(),autolinkEmail:Z,autolinkProtocol:G,blockQuote:s(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:L,characterReferenceMarkerNumeric:L,characterReferenceValue:F,characterReference:H,codeFenced:s(w),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:h,codeFlowValue:P,codeIndented:s(v),codeText:s($),codeTextData:P,data:P,definition:s(),definitionDestinationString:b,definitionLabelString:g,definitionTitleString:m,emphasis:s(),hardBreakEscape:s(A),hardBreakTrailing:s(A),htmlFlow:s(I),htmlFlowData:P,htmlText:s(R),htmlTextData:P,image:s(z),label:U,labelText:_,lineEnding:j,link:s(q),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:B,resourceDestinationString:T,resourceTitleString:W,resource:K,setextHeading:s(N),setextHeadingLineSequence:C,setextHeadingText:S,strong:s(),thematicBreak:s()}};oE(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Y){let ie={type:"root",children:[]};const ve={stack:[ie],tokenStack:[],config:t,enter:l,exit:u,buffer:a,resume:d,data:n},Ee=[];let Oe=-1;for(;++Oe<Y.length;)if(Y[Oe][1].type==="listOrdered"||Y[Oe][1].type==="listUnordered")if(Y[Oe][0]==="enter")Ee.push(Oe);else{const Sn=Ee.pop();Oe=i(Y,Sn,Oe)}for(Oe=-1;++Oe<Y.length;){const Sn=t[Y[Oe][0]];iE.call(Sn,Y[Oe][1].type)&&Sn[Y[Oe][1].type].call(Object.assign({sliceSerialize:Y[Oe][2].sliceSerialize},ve),Y[Oe][1])}if(ve.tokenStack.length>0){const Sn=ve.tokenStack[ve.tokenStack.length-1];(Sn[1]||O0).call(ve,void 0,Sn[0])}for(ie.position={start:kr(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:kr(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)ie=t.transforms[Oe](ie)||ie;return ie}function i(Y,ie,ve){let Ee=ie-1,Oe=-1,Sn=!1,oi,Xn,sa,ua;for(;++Ee<=ve;){const Vt=Y[Ee];switch(Vt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Vt[0]==="enter"?Oe++:Oe--,ua=void 0;break}case"lineEndingBlank":{Vt[0]==="enter"&&(oi&&!ua&&!Oe&&!sa&&(sa=Ee),ua=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ua=void 0}if(!Oe&&Vt[0]==="enter"&&Vt[1].type==="listItemPrefix"||Oe===-1&&Vt[0]==="exit"&&(Vt[1].type==="listUnordered"||Vt[1].type==="listOrdered")){if(oi){let zi=Ee;for(Xn=void 0;zi--;){const Zn=Y[zi];if(Zn[1].type==="lineEnding"||Zn[1].type==="lineEndingBlank"){if(Zn[0]==="exit")continue;Xn&&(Y[Xn][1].type="lineEndingBlank",Sn=!0),Zn[1].type="lineEnding",Xn=zi}else if(!(Zn[1].type==="linePrefix"||Zn[1].type==="blockQuotePrefix"||Zn[1].type==="blockQuotePrefixWhitespace"||Zn[1].type==="blockQuoteMarker"||Zn[1].type==="listItemIndent"))break}sa&&(!Xn||sa<Xn)&&(oi._spread=!0),oi.end=Object.assign({},Xn?Y[Xn][1].start:Vt[1].end),Y.splice(Xn||Ee,0,["exit",oi,Vt[2]]),Ee++,ve++}if(Vt[1].type==="listItemPrefix"){const zi={type:"listItem",_spread:!1,start:Object.assign({},Vt[1].start),end:void 0};oi=zi,Y.splice(Ee,0,["enter",zi,Vt[2]]),Ee++,ve++,sa=void 0,ua=!0}}}return Y[ie][1]._spread=Sn,ve}function o(Y,ie){return ve;function ve(Ee){l.call(this,Y(Ee),Ee),ie&&ie.call(this,Ee)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(Y,ie,ve){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([ie,ve||void 0]),Y.position={start:kr(ie.start),end:void 0}}function s(Y){return ie;function ie(ve){Y&&Y.call(this,ve),u.call(this,ve)}}function u(Y,ie){const ve=this.stack.pop(),Ee=this.tokenStack.pop();if(Ee)Ee[0].type!==Y.type&&(ie?ie.call(this,Y,Ee[0]):(Ee[1]||O0).call(this,Y,Ee[0]));else throw new Error("Cannot close `"+Y.type+"` ("+Xa({start:Y.start,end:Y.end})+"): it’s not open");ve.position.end=kr(Y.end)}function d(){return Im(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function f(Y){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function p(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=Y}function h(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=Y}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y.replace(/(\r?\n|\r)$/g,"")}function g(Y){const ie=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ie,ve.identifier=On(this.sliceSerialize(Y)).toLowerCase()}function m(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Y}function b(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Y}function k(Y){const ie=this.stack[this.stack.length-1];if(!ie.depth){const ve=this.sliceSerialize(Y).length;ie.depth=ve}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function C(Y){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function D(Y){const ve=this.stack[this.stack.length-1].children;let Ee=ve[ve.length-1];(!Ee||Ee.type!=="text")&&(Ee=ps(),Ee.position={start:kr(Y.start),end:void 0},ve.push(Ee)),this.stack.push(Ee)}function P(Y){const ie=this.stack.pop();ie.value+=this.sliceSerialize(Y),ie.position.end=kr(Y.end)}function j(Y){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=ie.children[ie.children.length-1];ve.position.end=kr(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ie.type)&&(D.call(this,Y),P.call(this,Y))}function A(){this.data.atHardBreak=!0}function I(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y}function R(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y}function $(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y}function q(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ie,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function z(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ie,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function _(Y){const ie=this.sliceSerialize(Y),ve=this.stack[this.stack.length-2];ve.label=J_(ie),ve.identifier=On(ie).toLowerCase()}function U(){const Y=this.stack[this.stack.length-1],ie=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Ee=Y.children;ve.children=Ee}else ve.alt=ie}function T(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Y}function W(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Y}function K(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function B(Y){const ie=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ie,ve.identifier=On(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function L(Y){this.data.characterReferenceType=Y.type}function F(Y){const ie=this.sliceSerialize(Y),ve=this.data.characterReferenceType;let Ee;ve?(Ee=Kk(ie,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ee=Pm(ie);const Oe=this.stack[this.stack.length-1];Oe.value+=Ee}function H(Y){const ie=this.stack.pop();ie.position.end=kr(Y.end)}function G(Y){P.call(this,Y);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(Y)}function Z(Y){P.call(this,Y);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(Y)}function V(){return{type:"blockquote",children:[]}}function oe(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function M(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function ne(){return{type:"heading",depth:0,children:[]}}function me(){return{type:"break"}}function ce(){return{type:"html",value:""}}function ke(){return{type:"image",title:null,url:"",alt:null}}function ge(){return{type:"link",title:null,url:"",children:[]}}function Ne(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function we(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function Jn(){return{type:"paragraph",children:[]}}function fs(){return{type:"strong",children:[]}}function ps(){return{type:"text",value:""}}function sd(){return{type:"thematicBreak"}}}function kr(e){return{line:e.line,column:e.column,offset:e.offset}}function oE(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?oE(e,r):tF(e,r)}}function tF(e,t){let n;for(n in t)if(iE.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function O0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Xa({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Xa({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Xa({start:t.start,end:t.end})+") is still open")}function nF(e){const t=this;t.parser=n;function n(r){return Z_(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function rF(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function iF(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function oF(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function aF(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lF(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sF(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=la(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,l+=1,e.footnoteCounts.set(r,l);const s={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,s);const u={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,u),e.applyData(t,u)}function uF(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cF(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function aE(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function dF(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aE(e,t);const i={src:la(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function fF(e,t){const n={src:la(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function pF(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function hF(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aE(e,t);const i={href:la(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function gF(e,t){const n={href:la(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mF(e,t,n){const r=e.all(t),i=n?vF(n):lE(t),o={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let c;d&&d.type==="element"&&d.tagName==="p"?c=d:(c={type:"element",tagName:"p",properties:{},children:[]},r.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const s=r[r.length-1];s&&(i||s.type!=="element"||s.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,u),e.applyData(t,u)}function vF(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=lE(n[r])}return t}function lE(e){const t=e.spread;return t??e.children.length>1}function yF(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function wF(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xF(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function bF(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function SF(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Sm(t.children[1]),s=Bk(t.children[t.children.length-1]);l&&s&&(a.position={start:l,end:s}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function kF(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let s=-1;const u=[];for(;++s<l;){const c=t.children[s],f={},p=a?a[s]:void 0;p&&(f.align=p);let h={type:"element",tagName:o,properties:f,children:[]};c&&(h.children=e.all(c),e.patch(c,h),h=e.applyData(c,h)),u.push(h)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function EF(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const $0=9,_0=32;function CF(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(F0(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(F0(t.slice(i),i>0,!1)),o.join("")}function F0(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===$0||o===_0;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===$0||o===_0;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function IF(e,t){const n={type:"text",value:CF(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function PF(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const AF={blockquote:rF,break:iF,code:oF,delete:aF,emphasis:lF,footnoteReference:sF,heading:uF,html:cF,imageReference:dF,image:fF,inlineCode:pF,linkReference:hF,link:gF,listItem:mF,list:yF,paragraph:wF,root:xF,strong:bF,table:SF,tableCell:EF,tableRow:kF,text:IF,thematicBreak:PF,toml:Vs,yaml:Vs,definition:Vs,footnoteDefinition:Vs};function Vs(){}const sE=-1,od=0,hc=1,gc=2,Tm=3,Nm=4,Dm=5,Rm=6,uE=7,cE=8,L0=typeof self=="object"?self:globalThis,TF=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case od:case sE:return n(a,i);case hc:{const l=n([],i);for(const s of a)l.push(r(s));return l}case gc:{const l=n({},i);for(const[s,u]of a)l[r(s)]=r(u);return l}case Tm:return n(new Date(a),i);case Nm:{const{source:l,flags:s}=a;return n(new RegExp(l,s),i)}case Dm:{const l=n(new Map,i);for(const[s,u]of a)l.set(r(s),r(u));return l}case Rm:{const l=n(new Set,i);for(const s of a)l.add(r(s));return l}case uE:{const{name:l,message:s}=a;return n(new L0[l](s),i)}case cE:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i)}return n(new L0[o](a),i)};return r},M0=e=>TF(new Map,e)(0),Yi="",{toString:NF}={},{keys:DF}=Object,Ca=e=>{const t=typeof e;if(t!=="object"||!e)return[od,t];const n=NF.call(e).slice(8,-1);switch(n){case"Array":return[hc,Yi];case"Object":return[gc,Yi];case"Date":return[Tm,Yi];case"RegExp":return[Nm,Yi];case"Map":return[Dm,Yi];case"Set":return[Rm,Yi]}return n.includes("Array")?[hc,n]:n.includes("Error")?[uE,n]:[gc,n]},Ws=([e,t])=>e===od&&(t==="function"||t==="symbol"),RF=(e,t,n,r)=>{const i=(a,l)=>{const s=r.push(a)-1;return n.set(l,s),s},o=a=>{if(n.has(a))return n.get(a);let[l,s]=Ca(a);switch(l){case od:{let d=a;switch(s){case"bigint":l=cE,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);d=null;break;case"undefined":return i([sE],a)}return i([l,d],a)}case hc:{if(s)return i([s,[...a]],a);const d=[],c=i([l,d],a);for(const f of a)d.push(o(f));return c}case gc:{if(s)switch(s){case"BigInt":return i([s,a.toString()],a);case"Boolean":case"Number":case"String":return i([s,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const d=[],c=i([l,d],a);for(const f of DF(a))(e||!Ws(Ca(a[f])))&&d.push([o(f),o(a[f])]);return c}case Tm:return i([l,a.toISOString()],a);case Nm:{const{source:d,flags:c}=a;return i([l,{source:d,flags:c}],a)}case Dm:{const d=[],c=i([l,d],a);for(const[f,p]of a)(e||!(Ws(Ca(f))||Ws(Ca(p))))&&d.push([o(f),o(p)]);return c}case Rm:{const d=[],c=i([l,d],a);for(const f of a)(e||!Ws(Ca(f)))&&d.push(o(f));return c}}const{message:u}=a;return i([l,{name:s,message:u}],a)};return o},B0=(e,{json:t,lossy:n}={})=>{const r=[];return RF(!(t||n),!!t,new Map,r)(e),r},mc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?M0(B0(e,t)):structuredClone(e):(e,t)=>M0(B0(e,t));function jF(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function OF(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function $F(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||jF,r=e.options.footnoteBackLabel||OF,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let s=-1;for(;++s<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[s]);if(!u)continue;const d=e.all(u),c=String(u.identifier).toUpperCase(),f=la(c.toLowerCase());let p=0;const h=[],y=e.footnoteCounts.get(c);for(;y!==void 0&&++p<=y;){h.length>0&&h.push({type:"text",value:" "});let g=typeof n=="string"?n:n(s,p);typeof g=="string"&&(g={type:"text",value:g}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(s,p),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const g=w.children[w.children.length-1];g&&g.type==="text"?g.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...h)}else d.push(...h);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...mc(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const ad=function(e){if(e==null)return MF;if(typeof e=="function")return ld(e);if(typeof e=="object")return Array.isArray(e)?_F(e):FF(e);if(typeof e=="string")return LF(e);throw new Error("Expected function, string, or object as test")};function _F(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ad(e[n]);return ld(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function FF(e){const t=e;return ld(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function LF(e){return ld(t);function t(n){return n&&n.type===e}}function ld(e){return t;function t(n,r,i){return!!(BF(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function MF(){return!0}function BF(e){return e!==null&&typeof e=="object"&&"type"in e}const dE=[],zF=!0,yh=!1,UF="skip";function fE(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=ad(i),a=r?-1:1;l(e,void 0,[])();function l(s,u,d){const c=s&&typeof s=="object"?s:{};if(typeof c.type=="string"){const p=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(s.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=dE,h,y,w;if((!t||o(s,u,d[d.length-1]||void 0))&&(p=HF(n(s,d)),p[0]===yh))return p;if("children"in s&&s.children){const v=s;if(v.children&&p[0]!==UF)for(y=(r?v.children.length:-1)+a,w=d.concat(v);y>-1&&y<v.children.length;){const g=v.children[y];if(h=l(g,y,w)(),h[0]===yh)return h;y=typeof h[1]=="number"?h[1]:y+a}}return p}}}function HF(e){return Array.isArray(e)?e:typeof e=="number"?[zF,e]:e==null?dE:[e]}function jm(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),fE(e,o,l,i);function l(s,u){const d=u[u.length-1],c=d?d.children.indexOf(s):void 0;return a(s,c,d)}}const wh={}.hasOwnProperty,qF={};function VF(e,t){const n=t||qF,r=new Map,i=new Map,o=new Map,a={...AF,...n.handlers},l={all:u,applyData:GF,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:s,options:n,patch:WF,wrap:QF};return jm(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const c=d.type==="definition"?r:i,f=String(d.identifier).toUpperCase();c.has(f)||c.set(f,d)}}),l;function s(d,c){const f=d.type,p=l.handlers[f];if(wh.call(l.handlers,f)&&p)return p(l,d,c);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in d){const{children:y,...w}=d,v=mc(w);return v.children=l.all(d),v}return mc(d)}return(l.options.unknownHandler||KF)(l,d,c)}function u(d){const c=[];if("children"in d){const f=d.children;let p=-1;for(;++p<f.length;){const h=l.one(f[p],d);if(h){if(p&&f[p-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=z0(h.value)),!Array.isArray(h)&&h.type==="element")){const y=h.children[0];y&&y.type==="text"&&(y.value=z0(y.value))}Array.isArray(h)?c.push(...h):c.push(h)}}}return c}}function WF(e,t){e.position&&(t.position=R$(e))}function GF(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,mc(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function KF(e,t){const n=t.data||{},r="value"in t&&!(wh.call(n,"hProperties")||wh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function QF(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function z0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function U0(e,t){const n=VF(e,t),r=n.one(e,void 0),i=$F(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function YF(e,t){return e&&"run"in e?async function(n,r){const i=U0(n,{file:r,...t});await e.run(i,r)}:function(n,r){return U0(n,{file:r,...e||t})}}function H0(e){if(e)throw e}var wu=Object.prototype.hasOwnProperty,pE=Object.prototype.toString,q0=Object.defineProperty,V0=Object.getOwnPropertyDescriptor,W0=function(t){return typeof Array.isArray=="function"?Array.isArray(t):pE.call(t)==="[object Array]"},G0=function(t){if(!t||pE.call(t)!=="[object Object]")return!1;var n=wu.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&wu.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||wu.call(t,i)},K0=function(t,n){q0&&n.name==="__proto__"?q0(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Q0=function(t,n){if(n==="__proto__")if(wu.call(t,n)){if(V0)return V0(t,n).value}else return;return t[n]},JF=function e(){var t,n,r,i,o,a,l=arguments[0],s=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},s=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});s<u;++s)if(t=arguments[s],t!=null)for(n in t)r=Q0(l,n),i=Q0(t,n),l!==i&&(d&&i&&(G0(i)||(o=W0(i)))?(o?(o=!1,a=r&&W0(r)?r:[]):a=r&&G0(r)?r:{},K0(l,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&K0(l,{name:n,newValue:i}));return l};const gf=Go(JF);function xh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function XF(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(s,...u){const d=e[++o];let c=-1;if(s){a(s);return}for(;++c<i.length;)(u[c]===null||u[c]===void 0)&&(u[c]=i[c]);i=u,d?ZF(d,l)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function ZF(e,t){let n;return r;function r(...a){const l=e.length>a.length;let s;l&&a.push(i);try{s=e.apply(this,a)}catch(u){const d=u;if(l&&n)throw d;return i(d)}l||(s&&s.then&&typeof s.then=="function"?s.then(o,i):s instanceof Error?i(s):o(s))}function i(a,...l){n||(n=!0,t(a,...l))}function o(a){i(null,a)}}const zn={basename:eL,dirname:tL,extname:nL,join:rL,sep:"/"};function eL(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ds(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function tL(e){if(ds(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function nL(e){ds(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function rL(...e){let t=-1,n;for(;++t<e.length;)ds(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":iL(n)}function iL(e){ds(e);const t=e.codePointAt(0)===47;let n=oL(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function oL(e,t){let n="",r=0,i=-1,o=0,a=-1,l,s;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(s=n.lastIndexOf("/"),s!==n.length-1){s<0?(n="",r=0):(n=n.slice(0,s),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else l===46&&o>-1?o++:o=-1}return n}function ds(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const aL={cwd:lL};function lL(){return"/"}function bh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function sL(e){if(typeof e=="string")e=new URL(e);else if(!bh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return uL(e)}function uL(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const mf=["history","path","basename","stem","extname","dirname"];class hE{constructor(t){let n;t?bh(t)?n={path:t}:typeof t=="string"||cL(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":aL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<mf.length;){const o=mf[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)mf.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?zn.basename(this.path):void 0}set basename(t){yf(t,"basename"),vf(t,"basename"),this.path=zn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?zn.dirname(this.path):void 0}set dirname(t){Y0(this.basename,"dirname"),this.path=zn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?zn.extname(this.path):void 0}set extname(t){if(vf(t,"extname"),Y0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){bh(t)&&(t=sL(t)),yf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?zn.basename(this.path,this.extname):void 0}set stem(t){yf(t,"stem"),vf(t,"stem"),this.path=zn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Pt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vf(e,t){if(e&&e.includes(zn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+zn.sep+"`")}function yf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Y0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function cL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dL=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},fL={}.hasOwnProperty;class Om extends dL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=XF()}copy(){const t=new Om;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(gf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(bf("data",this.frozen),this.namespace[t]=n,this):fL.call(this.namespace,t)&&this.namespace[t]||void 0:t?(bf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Gs(t),r=this.parser||this.Parser;return wf("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),wf("process",this.parser||this.Parser),xf("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const l=Gs(t),s=r.parse(l);r.run(s,l,function(d,c,f){if(d||!c||!f)return u(d);const p=c,h=r.stringify(p,f);gL(h)?f.value=h:f.result=h,u(d,f)});function u(d,c){d||!c?a(d):o?o(c):n(void 0,c)}}}processSync(t){let n=!1,r;return this.freeze(),wf("processSync",this.parser||this.Parser),xf("processSync",this.compiler||this.Compiler),this.process(t,i),X0("processSync","process",n),r;function i(o,a){n=!0,H0(o),r=a}}run(t,n,r){J0(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,l){const s=Gs(n);i.run(t,s,u);function u(d,c,f){const p=c||t;d?l(d):a?a(p):r(void 0,p,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),X0("runSync","run",r),i;function o(a,l){H0(a),i=l,r=!0}}stringify(t,n){this.freeze();const r=Gs(n),i=this.compiler||this.Compiler;return xf("stringify",i),J0(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(bf("use",this.frozen),t!=null)if(typeof t=="function")s(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")s(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...c]=u;s(d,c)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=gf(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const c=u[d];o(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function s(u,d){let c=-1,f=-1;for(;++c<r.length;)if(r[c][0]===u){f=c;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[p,...h]=d;const y=r[f][1];xh(y)&&xh(p)&&(p=gf(!0,y,p)),r[f]=[u,p,...h]}}}}const pL=new Om().freeze();function wf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function xf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function bf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function J0(e){if(!xh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function X0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Gs(e){return hL(e)?e:new hE(e)}function hL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function gL(e){return typeof e=="string"||mL(e)}function mL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const vL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Z0=[],ew={allowDangerousHtml:!0},yL=/^(https?|ircs?|mailto|xmpp)$/i,wL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Vo(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,o=e.components,a=e.disallowedElements,l=e.rehypePlugins||Z0,s=e.remarkPlugins||Z0,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ew}:ew,d=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||xL,p=pL().use(nF).use(s).use(YF,u).use(l),h=new hE;typeof r=="string"&&(h.value=r);for(const g of wL)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+vL+g.id,void 0);const y=p.parse(h);let w=p.runSync(y,h);return i&&(w={type:"element",tagName:"div",properties:{className:i},children:w.type==="root"?w.children:[w]}),jm(w,v),L$(w,{Fragment:x.Fragment,components:o,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function v(g,m,b){if(g.type==="raw"&&b&&typeof m=="number")return d?b.children.splice(m,1):b.children[m]={type:"text",value:g.value},m;if(g.type==="element"){let k;for(k in ff)if(Object.hasOwn(ff,k)&&Object.hasOwn(g.properties,k)){const S=g.properties[k],C=ff[k];(C===null||C.includes(g.tagName))&&(g.properties[k]=f(String(S||""),k,g))}}if(g.type==="element"){let k=t?!t.includes(g.tagName):a?a.includes(g.tagName):!1;if(!k&&n&&typeof m=="number"&&(k=!n(g,m,b)),k&&b&&typeof m=="number")return c&&g.children?b.children.splice(m,1,...g.children):b.children.splice(m,1),m}}}function xL(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||yL.test(e.slice(0,t))?e:""}function tw(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function bL(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function SL(e,t,n){const i=ad((n||{}).ignore||[]),o=kL(t);let a=-1;for(;++a<o.length;)fE(e,"text",l);function l(u,d){let c=-1,f;for(;++c<d.length;){const p=d[c],h=f?f.children:void 0;if(i(p,h?h.indexOf(p):void 0,f))return;f=p}if(f)return s(u,d)}function s(u,d){const c=d[d.length-1],f=o[a][0],p=o[a][1];let h=0;const w=c.children.indexOf(u);let v=!1,g=[];f.lastIndex=0;let m=f.exec(u.value);for(;m;){const b=m.index,k={index:m.index,input:m.input,stack:[...d,u]};let S=p(...m,k);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(h!==b&&g.push({type:"text",value:u.value.slice(h,b)}),Array.isArray(S)?g.push(...S):S&&g.push(S),h=b+m[0].length,v=!0),!f.global)break;m=f.exec(u.value)}return v?(h<u.value.length&&g.push({type:"text",value:u.value.slice(h)}),c.children.splice(w,1,...g)):g=[u],w+g.length}}function kL(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([EL(i[0]),CL(i[1])])}return t}function EL(e){return typeof e=="string"?new RegExp(bL(e),"g"):e}function CL(e){return typeof e=="function"?e:function(){return e}}const Sf="phrasing",kf=["autolink","link","image","label"];function IL(){return{transforms:[jL],enter:{literalAutolink:AL,literalAutolinkEmail:Ef,literalAutolinkHttp:Ef,literalAutolinkWww:Ef},exit:{literalAutolink:RL,literalAutolinkEmail:DL,literalAutolinkHttp:TL,literalAutolinkWww:NL}}}function PL(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Sf,notInConstruct:kf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Sf,notInConstruct:kf},{character:":",before:"[ps]",after:"\\/",inConstruct:Sf,notInConstruct:kf}]}}function AL(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ef(e){this.config.enter.autolinkProtocol.call(this,e)}function TL(e){this.config.exit.autolinkProtocol.call(this,e)}function NL(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function DL(e){this.config.exit.autolinkEmail.call(this,e)}function RL(e){this.exit(e)}function jL(e){SL(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,OL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$L]],{ignore:["link","linkReference"]})}function OL(e,t,n,r,i){let o="";if(!gE(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!_L(n)))return!1;const a=FL(n+r);if(!a[0])return!1;const l={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function $L(e,t,n,r){return!gE(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function _L(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function FL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=tw(e,"(");let o=tw(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function gE(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Oi(n)||rd(n))&&(!t||n!==47)}mE.peek=KL;function LL(){return{enter:{gfmFootnoteDefinition:BL,gfmFootnoteDefinitionLabelString:zL,gfmFootnoteCall:qL,gfmFootnoteCallString:VL},exit:{gfmFootnoteDefinition:HL,gfmFootnoteDefinitionLabelString:UL,gfmFootnoteCall:GL,gfmFootnoteCallString:WL}}}function ML(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:QL,footnoteReference:mE}}}function BL(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function zL(){this.buffer()}function UL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=On(this.sliceSerialize(e)).toLowerCase()}function HL(e){this.exit(e)}function qL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function VL(){this.buffer()}function WL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=On(this.sliceSerialize(e)).toLowerCase()}function GL(e){this.exit(e)}function mE(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{...i.current(),before:o,after:"]"})),l(),a(),o+=i.move("]"),o}function KL(){return"["}function QL(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteDefinition"),l=n.enter("label");return o+=i.move(n.safe(n.associationId(e),{...i.current(),before:o,after:"]"})),l(),o+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),o+=i.move(n.indentLines(n.containerFlow(e,i.current()),YL)),a(),o}function YL(e,t,n){return t===0?e:(n?"":"    ")+e}const JL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];vE.peek=n6;function XL(){return{canContainEols:["delete"],enter:{strikethrough:e6},exit:{strikethrough:t6}}}function ZL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:JL}],handlers:{delete:vE}}}function e6(e){this.enter({type:"delete",children:[]},e)}function t6(e){this.exit(e)}function vE(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function n6(){return"~"}function r6(e){return e.length}function i6(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||r6,o=[],a=[],l=[],s=[];let u=0,d=-1;for(;++d<e.length;){const y=[],w=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const g=o6(e[d][v]);if(n.alignDelimiters!==!1){const m=i(g);w[v]=m,(s[v]===void 0||m>s[v])&&(s[v]=m)}y.push(g)}a[d]=y,l[d]=w}let c=-1;if(typeof r=="object"&&"length"in r)for(;++c<u;)o[c]=nw(r[c]);else{const y=nw(r);for(;++c<u;)o[c]=y}c=-1;const f=[],p=[];for(;++c<u;){const y=o[c];let w="",v="";y===99?(w=":",v=":"):y===108?w=":":y===114&&(v=":");let g=n.alignDelimiters===!1?1:Math.max(1,s[c]-w.length-v.length);const m=w+"-".repeat(g)+v;n.alignDelimiters!==!1&&(g=w.length+g+v.length,g>s[c]&&(s[c]=g),p[c]=g),f[c]=m}a.splice(1,0,f),l.splice(1,0,p),d=-1;const h=[];for(;++d<a.length;){const y=a[d],w=l[d];c=-1;const v=[];for(;++c<u;){const g=y[c]||"";let m="",b="";if(n.alignDelimiters!==!1){const k=s[c]-(w[c]||0),S=o[c];S===114?m=" ".repeat(k):S===99?k%2?(m=" ".repeat(k/2+.5),b=" ".repeat(k/2-.5)):(m=" ".repeat(k/2),b=m):b=" ".repeat(k)}n.delimiterStart!==!1&&!c&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&g==="")&&(n.delimiterStart!==!1||c)&&v.push(" "),n.alignDelimiters!==!1&&v.push(m),v.push(g),n.alignDelimiters!==!1&&v.push(b),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||c!==u-1)&&v.push("|")}h.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return h.join(`
`)}function o6(e){return e==null?"":String(e)}function nw(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function a6(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),l6);return i(),a}function l6(e,t,n){return">"+(n?"":" ")+e}function s6(e,t){return rw(e,t.inConstruct,!0)&&!rw(e,t.notInConstruct,!1)}function rw(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function iw(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&s6(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function u6(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+t.length,r=n.indexOf(t,i);return a}function c6(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function d6(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function f6(e,t,n,r){const i=d6(n),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(c6(e,n)){const c=n.enter("codeIndented"),f=n.indentLines(o,p6);return c(),f}const l=n.createTracker(r),s=i.repeat(Math.max(u6(o,i)+1,3)),u=n.enter("codeFenced");let d=l.move(s);if(e.lang){const c=n.enter(`codeFencedLang${a}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),c()}if(e.lang&&e.meta){const c=n.enter(`codeFencedMeta${a}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),c()}return d+=l.move(`
`),o&&(d+=l.move(o+`
`)),d+=l.move(s),u(),d}function p6(e,t,n){return(n?"":"    ")+e}function $m(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function h6(e,t,n,r){const i=$m(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const s=n.createTracker(r);let u=s.move("[");return u+=s.move(n.safe(n.associationId(e),{before:u,after:"]",...s.current()})),u+=s.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),a(),u}function g6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ol(e){return"&#x"+e.toString(16).toUpperCase()+";"}function vc(e,t,n){const r=qo(e),i=qo(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}yE.peek=m6;function yE(e,t,n,r){const i=g6(n),o=n.enter("emphasis"),a=n.createTracker(r),l=a.move(i);let s=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=s.charCodeAt(0),d=vc(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(s=Ol(u)+s.slice(1));const c=s.charCodeAt(s.length-1),f=vc(r.after.charCodeAt(0),c,i);f.inside&&(s=s.slice(0,-1)+Ol(c));const p=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},l+s+p}function m6(e,t,n){return n.options.emphasis||"*"}function v6(e,t){let n=!1;return jm(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,yh}),!!((!e.depth||e.depth<3)&&Im(e)&&(t.options.setext||n))}function y6(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(v6(e,n)){const d=n.enter("headingSetext"),c=n.enter("phrasing"),f=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return c(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=n.enter("headingAtx"),s=n.enter("phrasing");o.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=Ol(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),s(),l(),u}wE.peek=w6;function wE(e){return e.value||""}function w6(){return"<"}xE.peek=x6;function xE(e,t,n,r){const i=$m(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const s=n.createTracker(r);let u=s.move("![");return u+=s.move(n.safe(e.alt,{before:u,after:"]",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),a(),u}function x6(){return"!"}bE.peek=b6;function bE(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let s=l.move("![");const u=n.safe(e.alt,{before:s,after:"]",...l.current()});s+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const c=n.safe(n.associationId(e),{before:s,after:"]",...l.current()});return a(),n.stack=d,o(),i==="full"||!u||u!==c?s+=l.move(c+"]"):i==="shortcut"?s=s.slice(0,-1):s+=l.move("]"),s}function b6(){return"!"}SE.peek=S6;function SE(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],l=n.compilePattern(a);let s;if(a.atBreak)for(;s=l.exec(r);){let u=s.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(s.index+1)}}return i+r+i}function S6(){return"`"}function kE(e,t){const n=Im(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}EE.peek=k6;function EE(e,t,n,r){const i=$m(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let l,s;if(kE(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let c=a.move("<");return c+=a.move(n.containerPhrasing(e,{before:c,after:">",...a.current()})),c+=a.move(">"),l(),n.stack=d,c}l=n.enter("link"),s=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),u+=a.move(")"),l(),u}function k6(e,t,n){return kE(e,n)?"<":"["}CE.peek=E6;function CE(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let s=l.move("[");const u=n.containerPhrasing(e,{before:s,after:"]",...l.current()});s+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const c=n.safe(n.associationId(e),{before:s,after:"]",...l.current()});return a(),n.stack=d,o(),i==="full"||!u||u!==c?s+=l.move(c+"]"):i==="shortcut"?s=s.slice(0,-1):s+=l.move("]"),s}function E6(){return"["}function _m(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function C6(e){const t=_m(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function I6(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function IE(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function P6(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?I6(n):_m(n);const l=e.ordered?a==="."?")":".":C6(n);let s=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(s=!0),IE(n)===a&&d){let c=-1;for(;++c<e.children.length;){const f=e.children[c];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){s=!0;break}}}}s&&(a=l),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),u}function A6(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function T6(e,t,n,r){const i=A6(n);let o=n.bulletCurrent||_m(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(r);l.move(o+" ".repeat(a-o.length)),l.shift(a);const s=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return s(),u;function d(c,f,p){return f?(p?"":" ".repeat(a))+c:(p?o:o+" ".repeat(a-o.length))+c}}function N6(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),i(),a}const D6=ad(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function R6(e,t,n,r){return(e.children.some(function(a){return D6(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function j6(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}PE.peek=O6;function PE(e,t,n,r){const i=j6(n),o=n.enter("strong"),a=n.createTracker(r),l=a.move(i+i);let s=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=s.charCodeAt(0),d=vc(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(s=Ol(u)+s.slice(1));const c=s.charCodeAt(s.length-1),f=vc(r.after.charCodeAt(0),c,i);f.inside&&(s=s.slice(0,-1)+Ol(c));const p=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},l+s+p}function O6(e,t,n){return n.options.strong||"*"}function $6(e,t,n,r){return n.safe(e.value,r)}function _6(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function F6(e,t,n){const r=(IE(n)+(n.options.ruleSpaces?" ":"")).repeat(_6(n));return n.options.ruleSpaces?r.slice(0,-1):r}const AE={blockquote:a6,break:iw,code:f6,definition:h6,emphasis:yE,hardBreak:iw,heading:y6,html:wE,image:xE,imageReference:bE,inlineCode:SE,link:EE,linkReference:CE,list:P6,listItem:T6,paragraph:N6,root:R6,strong:PE,text:$6,thematicBreak:F6};function L6(){return{enter:{table:M6,tableData:ow,tableHeader:ow,tableRow:z6},exit:{codeText:U6,table:B6,tableData:Cf,tableHeader:Cf,tableRow:Cf}}}function M6(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function B6(e){this.exit(e),this.data.inTable=void 0}function z6(e){this.enter({type:"tableRow",children:[]},e)}function Cf(e){this.exit(e)}function ow(e){this.enter({type:"tableCell",children:[]},e)}function U6(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,H6));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function H6(e,t){return t==="|"?t:e}function q6(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:s,tableRow:l}};function a(p,h,y,w){return u(d(p,y,w),p.align)}function l(p,h,y,w){const v=c(p,y,w),g=u([v]);return g.slice(0,g.indexOf(`
`))}function s(p,h,y,w){const v=y.enter("tableCell"),g=y.enter("phrasing"),m=y.containerPhrasing(p,{...w,before:o,after:o});return g(),v(),m}function u(p,h){return i6(p,{align:h,alignDelimiters:r,padding:n,stringLength:i})}function d(p,h,y){const w=p.children;let v=-1;const g=[],m=h.enter("table");for(;++v<w.length;)g[v]=c(w[v],h,y);return m(),g}function c(p,h,y){const w=p.children;let v=-1;const g=[],m=h.enter("tableRow");for(;++v<w.length;)g[v]=s(w[v],p,h,y);return m(),g}function f(p,h,y){let w=AE.inlineCode(p,h,y);return y.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function V6(){return{exit:{taskListCheckValueChecked:aw,taskListCheckValueUnchecked:aw,paragraph:G6}}}function W6(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:K6}}}function aw(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function G6(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,a;for(;++o<i.length;){const l=i[o];if(l.type==="paragraph"){a=l;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function K6(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);o&&l.move(a);let s=AE.listItem(e,t,n,{...r,...l.current()});return o&&(s=s.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),s;function u(d){return d+a}}function Q6(){return[IL(),LL(),XL(),L6(),V6()]}function Y6(e){return{extensions:[PL(),ML(),ZL(),q6(e),W6()]}}const J6={tokenize:rM,partial:!0},TE={tokenize:iM,partial:!0},NE={tokenize:oM,partial:!0},DE={tokenize:aM,partial:!0},X6={tokenize:lM,partial:!0},RE={name:"wwwAutolink",tokenize:tM,previous:OE},jE={name:"protocolAutolink",tokenize:nM,previous:$E},xr={name:"emailAutolink",tokenize:eM,previous:_E},Yn={};function Z6(){return{text:Yn}}let si=48;for(;si<123;)Yn[si]=xr,si++,si===58?si=65:si===91&&(si=97);Yn[43]=xr;Yn[45]=xr;Yn[46]=xr;Yn[95]=xr;Yn[72]=[xr,jE];Yn[104]=[xr,jE];Yn[87]=[xr,RE];Yn[119]=[xr,RE];function eM(e,t,n){const r=this;let i,o;return a;function a(c){return!Sh(c)||!_E.call(r,r.previous)||Fm(r.events)?n(c):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(c))}function l(c){return Sh(c)?(e.consume(c),l):c===64?(e.consume(c),s):n(c)}function s(c){return c===46?e.check(X6,d,u)(c):c===45||c===95||Et(c)?(o=!0,e.consume(c),s):d(c)}function u(c){return e.consume(c),i=!0,s}function d(c){return o&&i&&Dt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(c)):n(c)}}function tM(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!OE.call(r,r.previous)||Fm(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(J6,e.attempt(TE,e.attempt(NE,o),n),n)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function nM(e,t,n){const r=this;let i="",o=!1;return a;function a(c){return(c===72||c===104)&&$E.call(r,r.previous)&&!Fm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(c),e.consume(c),l):n(c)}function l(c){if(Dt(c)&&i.length<5)return i+=String.fromCodePoint(c),e.consume(c),l;if(c===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(c),s}return n(c)}function s(c){return c===47?(e.consume(c),o?u:(o=!0,s)):n(c)}function u(c){return c===null||pc(c)||_e(c)||Oi(c)||rd(c)?n(c):e.attempt(TE,e.attempt(NE,d),n)(c)}function d(c){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(c)}}function rM(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),o):n(a)}function o(a){return a===null?n(a):t(a)}}function iM(e,t,n){let r,i,o;return a;function a(u){return u===46||u===95?e.check(DE,s,l)(u):u===null||_e(u)||Oi(u)||u!==45&&rd(u)?s(u):(o=!0,e.consume(u),a)}function l(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function s(u){return i||r||!o?n(u):t(u)}}function oM(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(DE,t,o)(a):a===null||_e(a)||Oi(a)?t(a):(e.consume(a),i)}function o(a){return a===41&&r++,e.consume(a),i}}function aM(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),o):l===93?(e.consume(l),i):l===60||l===null||_e(l)||Oi(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||_e(l)||Oi(l)?t(l):r(l)}function o(l){return Dt(l)?a(l):n(l)}function a(l){return l===59?(e.consume(l),r):Dt(l)?(e.consume(l),a):n(l)}}function lM(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Et(o)?n(o):t(o)}}function OE(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||_e(e)}function $E(e){return!Dt(e)}function _E(e){return!(e===47||Sh(e))}function Sh(e){return e===43||e===45||e===46||e===95||Et(e)}function Fm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const sM={tokenize:mM,partial:!0};function uM(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:pM,continuation:{tokenize:hM},exit:gM}},text:{91:{name:"gfmFootnoteCall",tokenize:fM},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:cM,resolveTo:dM}}}}function cM(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const s=r.events[i][1];if(s.type==="labelImage"){a=s;break}if(s.type==="gfmFootnoteCall"||s.type==="labelLink"||s.type==="label"||s.type==="image"||s.type==="link")break}return l;function l(s){if(!a||!a._balanced)return n(s);const u=On(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(s):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),t(s))}}function dM(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function fM(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return l;function l(c){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),s}function s(c){return c!==94?n(c):(e.enter("gfmFootnoteCallMarker"),e.consume(c),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(c){if(o>999||c===93&&!a||c===null||c===91||_e(c))return n(c);if(c===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(On(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(c)}return _e(c)||(a=!0),o++,e.consume(c),c===92?d:u}function d(c){return c===91||c===92||c===93?(e.consume(c),o++,u):u(c)}}function pM(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,l;return s;function s(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(a>999||h===93&&!l||h===null||h===91||_e(h))return n(h);if(h===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return o=On(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return _e(h)||(l=!0),a++,e.consume(h),h===92?c:d}function c(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}function f(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),i.includes(o)||i.push(o),Ce(e,p,"gfmFootnoteDefinitionWhitespace")):n(h)}function p(h){return t(h)}}function hM(e,t,n){return e.check(cs,t,e.attempt(sM,t,n))}function gM(e){e.exit("gfmFootnoteDefinition")}function mM(e,t,n){const r=this;return Ce(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(o):n(o)}}function vM(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,l){let s=-1;for(;++s<a.length;)if(a[s][0]==="enter"&&a[s][1].type==="strikethroughSequenceTemporary"&&a[s][1]._close){let u=s;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[s][1].end.offset-a[s][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[s][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[s][1].end)},c={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[s][1].start)},f=[["enter",d,l],["enter",a[u][1],l],["exit",a[u][1],l],["enter",c,l]],p=l.parser.constructs.insideSpan.null;p&&en(f,f.length,0,id(p,a.slice(u+1,s),l)),en(f,f.length,0,[["exit",c,l],["enter",a[s][1],l],["exit",a[s][1],l],["exit",d,l]]),en(a,u-1,s-u+3,f),s=u+f.length-2;break}}for(s=-1;++s<a.length;)a[s][1].type==="strikethroughSequenceTemporary"&&(a[s][1].type="data");return a}function o(a,l,s){const u=this.previous,d=this.events;let c=0;return f;function f(h){return u===126&&d[d.length-1][1].type!=="characterEscape"?s(h):(a.enter("strikethroughSequenceTemporary"),p(h))}function p(h){const y=qo(u);if(h===126)return c>1?s(h):(a.consume(h),c++,p);if(c<2&&!n)return s(h);const w=a.exit("strikethroughSequenceTemporary"),v=qo(h);return w._open=!v||v===2&&!!y,w._close=!y||y===2&&!!v,l(h)}}}class yM{constructor(){this.map=[]}add(t,n,r){wM(this,t,n,r)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function wM(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function xM(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function bM(){return{flow:{null:{name:"table",tokenize:SM,resolveAll:kM}}}}function SM(e,t,n){const r=this;let i=0,o=0,a;return l;function l(P){let j=r.events.length-1;for(;j>-1;){const R=r.events[j][1].type;if(R==="lineEnding"||R==="linePrefix")j--;else break}const A=j>-1?r.events[j][1].type:null,I=A==="tableHead"||A==="tableRow"?S:s;return I===S&&r.parser.lazy[r.now().line]?n(P):I(P)}function s(P){return e.enter("tableHead"),e.enter("tableRow"),u(P)}function u(P){return P===124||(a=!0,o+=1),d(P)}function d(P){return P===null?n(P):fe(P)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),p):n(P):be(P)?Ce(e,d,"whitespace")(P):(o+=1,a&&(a=!1,i+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),c(P)))}function c(P){return P===null||P===124||_e(P)?(e.exit("data"),d(P)):(e.consume(P),P===92?f:c)}function f(P){return P===92||P===124?(e.consume(P),c):c(P)}function p(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),a=!1,be(P)?Ce(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):h(P))}function h(P){return P===45||P===58?w(P):P===124?(a=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),y):k(P)}function y(P){return be(P)?Ce(e,w,"whitespace")(P):w(P)}function w(P){return P===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),v):P===45?(o+=1,v(P)):P===null||fe(P)?b(P):k(P)}function v(P){return P===45?(e.enter("tableDelimiterFiller"),g(P)):k(P)}function g(P){return P===45?(e.consume(P),g):P===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),m):(e.exit("tableDelimiterFiller"),m(P))}function m(P){return be(P)?Ce(e,b,"whitespace")(P):b(P)}function b(P){return P===124?h(P):P===null||fe(P)?!a||i!==o?k(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):k(P)}function k(P){return n(P)}function S(P){return e.enter("tableRow"),C(P)}function C(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),C):P===null||fe(P)?(e.exit("tableRow"),t(P)):be(P)?Ce(e,C,"whitespace")(P):(e.enter("data"),N(P))}function N(P){return P===null||P===124||_e(P)?(e.exit("data"),C(P)):(e.consume(P),P===92?D:N)}function D(P){return P===92||P===124?(e.consume(P),N):N(P)}}function kM(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],l=!1,s=0,u,d,c;const f=new yM;for(;++n<e.length;){const p=e[n],h=p[1];p[0]==="enter"?h.type==="tableHead"?(l=!1,s!==0&&(lw(f,t,s,u,d),d=void 0,s=0),u={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},f.add(n,0,[["enter",u,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,c=void 0,o=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},f.add(n,0,[["enter",d,t]])),i=h.type==="tableDelimiterRow"?2:d?3:1):i&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],c=Ks(f,t,o,i,void 0,c),o=[0,0,0,0]),a[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],c=Ks(f,t,o,i,void 0,c)),o=a,a=[o[1],n,0,0])):h.type==="tableHead"?(l=!0,s=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(s=n,o[1]!==0?(a[0]=a[1],c=Ks(f,t,o,i,n,c)):a[1]!==0&&(c=Ks(f,t,a,i,n,c)),i=0):i&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(a[3]=n)}for(s!==0&&lw(f,t,s,u,d),f.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=xM(t.events,n))}return e}function Ks(e,t,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(o.end=Object.assign({},Xi(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const s=Xi(t.events,n[1]);if(o={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=Xi(t.events,n[2]),d=Xi(t.events,n[3]),c={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",c,t]]),r!==2){const f=t.events[n[2]],p=t.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,y=n[3]-n[2]-1;e.add(h,y,[])}}e.add(n[3]+1,0,[["exit",c,t]])}return i!==void 0&&(o.end=Object.assign({},Xi(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function lw(e,t,n,r,i){const o=[],a=Xi(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function Xi(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const EM={name:"tasklistCheck",tokenize:IM};function CM(){return{text:{91:EM}}}function IM(e,t,n){const r=this;return i;function i(s){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(s):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),o)}function o(s){return _e(s)?(e.enter("taskListCheckValueUnchecked"),e.consume(s),e.exit("taskListCheckValueUnchecked"),a):s===88||s===120?(e.enter("taskListCheckValueChecked"),e.consume(s),e.exit("taskListCheckValueChecked"),a):n(s)}function a(s){return s===93?(e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(s)}function l(s){return fe(s)?t(s):be(s)?e.check({tokenize:PM},t,n)(s):n(s)}}function PM(e,t,n){return Ce(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function AM(e){return Gk([Z6(),uM(),vM(e),bM(),CM()])}const TM={};function Wo(e){const t=this,n=e||TM,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(AM(n)),o.push(Q6()),a.push(Y6(n))}const NM=[{text:"Summarize Key Points",prompt:"Summarize the most important aspects of this article and provide the response in markdown format."},{text:"Key Questions & Answers",prompt:"What are the most important questions that this article raises, and what are the answers to them? Provide the questions and answers in markdown format."},{text:"Main Arguments",prompt:"What are the main arguments or viewpoints presented in this article? Present them in markdown format with supporting points."},{text:"Key Takeaways",prompt:"What are the key takeaways and practical implications from this article? Present them in a clear markdown list."}],FE=({isOpen:e,onClose:t,isDarkMode:n,articleTitle:r,articleContent:i,articleUrl:o,entryId:a,feedTitle:l,onChatUpdate:s})=>{var T;const[u,d]=E.useState([]),[c,f]=E.useState(""),[p,h]=E.useState(!1),[y,w]=E.useState(!1),[v,g]=E.useState(null),[m,b]=E.useState(""),k=E.useRef(null),S=E.useRef(null),C=E.useRef(null),[N,D]=E.useState(null),[P,j]=E.useState(!1),[A,I]=E.useState(!1),R=E.useCallback((W=!0)=>{k.current&&k.current.scrollIntoView({behavior:W?"smooth":"auto",block:"end"})},[]);E.useEffect(()=>{R()},[u,y,R]),E.useEffect(()=>{u.length>0&&u[u.length-1].role==="assistant"&&R()},[(T=u[u.length-1])==null?void 0:T.content,R]);const $=`prose prose-sm max-w-none 
    ${n?"prose-invert prose-p:text-gray-300":"prose-p:text-gray-600"}
    prose-p:my-0 prose-headings:my-1 prose-ul:my-1 prose-ol:my-1
    prose-pre:bg-gray-800 prose-pre:text-gray-100
    prose-code:text-blue-500 prose-code:bg-gray-100 prose-code:rounded prose-code:px-1
    prose-a:text-blue-500 hover:prose-a:text-blue-600
    ${n?"prose-code:bg-gray-700":""}`;E.useEffect(()=>{if(e){const W=async()=>{try{const K=await X.entries.get(a);if(K){let O="";K.content_fullArticle?(O=K.content_fullArticle,j(!0)):(O=K.content_rssAbstract,j(!1)),K.content_aiSummary&&(O+=`

## AI Summary
`+K.content_aiSummary),g(O)}else g(i),j(!1)}catch(K){console.error("Error loading content:",K),g(i),j(!1)}};d([]),f(""),h(!1),D(null),W()}},[e,a,i]),E.useEffect(()=>{e&&v&&q()},[e,v]),E.useEffect(()=>{e&&C.current&&setTimeout(()=>{var W;(W=C.current)==null||W.focus()},100)},[e]),E.useEffect(()=>{e&&v&&C.current&&C.current.focus()},[e,v]);const q=async()=>{if(v)try{const W=Eo();if(!W)throw new Error("Ollama configuration not found");b(W.chatModel);const K=await X.entries.get(a);if(K!=null&&K.chatHistory&&K.chatHistory.length>0){const F=K.chatHistory.map(G=>({...G,id:G.id||`${G.role}-${Math.random().toString(36).substring(7)}`,timestamp:G.timestamp?new Date(G.timestamp):new Date}));if(F.some(G=>G.role==="system"&&G.content.includes(r)&&G.content.includes(v)))d(F);else{const G=new Date,Z={role:"system",content:`You are a helpful assistant discussing the article titled "${r}". Here is the article content for context:

${v}

Please help answer questions about this article, using only information from the provided content.`,timestamp:G,id:"system-"+Math.random().toString(36).substring(7)};d([Z,...F]),await X.entries.update(a,{chatHistory:[Z,...F],lastChatDate:G})}return}const O=new Date,L=[{role:"system",content:`You are a helpful assistant discussing the article titled "${r}". Here is the article content for context:

${v}

Please help answer questions about this article, using only information from the provided content.`,timestamp:O,id:"system-"+Math.random().toString(36).substring(7)}];d(L),await X.entries.update(a,{chatHistory:L,lastChatDate:O})}catch(W){console.error("Error initializing chat:",W),D("Failed to initialize chat")}},z=()=>x.jsxs("div",{className:`flex items-center gap-1 p-4 ${n?"bg-blue-500/10":"bg-blue-50"} rounded-lg`,children:[x.jsxs("div",{className:"flex gap-1",children:[x.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-blue-400":"bg-blue-500"} animate-bounce [animation-delay:-0.3s]`}),x.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-blue-400":"bg-blue-500"} animate-bounce [animation-delay:-0.15s]`}),x.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-blue-400":"bg-blue-500"} animate-bounce`})]}),x.jsx("span",{className:`text-sm ${n?"text-blue-200":"text-blue-600"}`,children:"Assistant is typing..."})]}),_=async W=>{var B,L,F;if(W.preventDefault(),!c.trim()||p||!v)return;const K={id:"user-"+Math.random().toString(36).substring(7),role:"user",content:c.trim(),timestamp:new Date};f(""),(B=C.current)==null||B.focus();const O=[...u,K];d(O),await X.entries.update(a,{chatHistory:O}),h(!0),w(!0),D(null);try{const H=Eo();if(!H)throw new Error("Ollama configuration not found");const G=[{role:"system",content:`You are a helpful assistant discussing the article titled "${r}". Here is the article content for context:

${v}

Please help answer questions about this article, using only information from the provided content.`},...O.filter(Q=>Q.role==="user"||Q.role==="assistant").map(Q=>({role:Q.role,content:Q.content}))],Z=await fetch(`${H.serverUrl}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:H.chatModel,messages:G,stream:!0})});if(!Z.ok){const Q=await Z.text();throw new Error(`Failed to get response from Ollama: ${Q}`)}const V=(L=Z.body)==null?void 0:L.getReader();if(!V)throw new Error("No response stream available");const oe={id:"assistant-"+Math.random().toString(36).substring(7),role:"assistant",content:"",timestamp:new Date,model:H.chatModel};d(Q=>[...Q,oe]),w(!1);let J="";for(;;){const{done:Q,value:ne}=await V.read();if(Q)break;const ce=new TextDecoder().decode(ne).split(`
`).filter(Boolean);for(const ke of ce)try{const ge=JSON.parse(ke),Ne=ge.response||((F=ge.message)==null?void 0:F.content)||"";Ne&&(J+=Ne,d(we=>{const Jn=we[we.length-1];return Jn.role==="assistant"?[...we.slice(0,-1),{...Jn,content:J}]:we}))}catch(ge){console.error("Error parsing stream chunk:",ge)}}const M=[...u.slice(0,-1),{...u[u.length-1],content:J,timestamp:new Date}];await X.entries.update(a,{chatHistory:M,lastChatDate:new Date}),d(M),s==null||s()}catch(H){console.error("Chat error:",H),D(H instanceof Error?H.message:"Failed to get response"),w(!1),d(G=>{const Z=G[G.length-1];return Z.role==="assistant"&&!Z.content?G.slice(0,-1):G})}finally{h(!1),w(!1)}};E.useEffect(()=>{const W=K=>{const O=document.querySelector("[data-article-content]");if(console.log("Article container:",O,"Collapsed:",A),!O||A)return;const B=O.clientHeight*.33,L=O.scrollTop;console.log("Scrolling article:",{direction:K.detail.direction,scrollAmount:B,currentScroll:L}),O.scrollTo({top:L+(K.detail.direction==="down"?B:-B),behavior:"smooth"})};return window.addEventListener("chatModalScroll",W),()=>{window.removeEventListener("chatModalScroll",W)}},[A]);const U=(W,K)=>{const O=u[K-1];if(!O||O.role!=="user")return;const B=["Question:",O.content,`
Answer (${m} on ${P?"Full Article Text":"RSS Summary Text"}):`,W.content,`
From: ${r}${l?` - ${l}`:""}`,`Source: ${o}`].filter(Boolean).join(`
`);navigator.clipboard.writeText(B)};return e?x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center","data-chat-modal":!0,children:[x.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:t}),x.jsxs("div",{className:`relative z-50 rounded-lg p-6 w-[95vw] h-[90vh] border-2 shadow-xl flex flex-col
        ${n?"bg-gray-800 border-gray-600":"bg-white border-gray-200"}`,children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"}`,children:r}),l&&x.jsx("div",{className:`text-sm ${l.includes("(Deleted)")?"italic opacity-75":""}`,children:l}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m&&x.jsxs("div",{className:`text-sm px-2 py-1 rounded-full flex items-center gap-1
                  ${n?"bg-blue-500/20 text-blue-200":"bg-blue-100 text-blue-800"}`,children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),x.jsx("span",{children:m})]}),x.jsxs("div",{className:`text-sm px-2 py-1 rounded-full flex items-center gap-1
                ${P?n?"bg-green-500/20 text-green-200":"bg-green-100 text-green-800":n?"bg-yellow-500/20 text-yellow-200":"bg-yellow-100 text-yellow-800"}`,children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:P?x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}):x.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("span",{children:P?"Full Content":"RSS Summary"})]})]})]}),x.jsx("button",{onClick:t,className:`p-2 rounded-lg transition-colors ${n?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,children:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("div",{className:"flex flex-1 gap-4 min-h-0",children:[x.jsxs("div",{className:`flex flex-col transition-all duration-300 relative ${A?"w-0":"w-1/2"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h3",{className:`font-medium ${n?"text-gray-200":"text-gray-700"} ${A?"opacity-0":"opacity-100"} transition-opacity duration-300`,children:"Article Content"}),x.jsx("div",{className:`absolute ${A?"-right-6":"right-0"} transition-all duration-300`,children:x.jsx("button",{onClick:()=>I(!A),className:`p-1.5 rounded-full transition-colors
                    ${n?"hover:bg-gray-700 text-gray-400 hover:text-gray-200 bg-gray-800":"hover:bg-gray-100 text-gray-500 hover:text-gray-700 bg-white"} 
                    shadow-sm border ${n?"border-gray-700":"border-gray-200"}`,title:A?"Show article content":"Hide article content",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:A?"M9 5l7 7-7 7":"M15 19l-7-7 7-7"})})})})]}),x.jsx("div",{"data-article-content":!0,className:`flex-1 overflow-y-auto rounded-lg ${n?"bg-gray-700":"bg-gray-50"} ${A?"hidden":""}`,children:x.jsx("div",{className:`p-4 ${$}`,children:x.jsx(Vo,{remarkPlugins:[Wo],children:v||""})})})]}),x.jsxs("div",{className:`flex flex-col min-h-0 transition-all duration-300 ${A?"w-full pl-8":"w-1/2"}`,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("div",{className:`text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Quick Analysis"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:NM.map((W,K)=>x.jsxs("button",{onClick:async()=>{var O,B;if(!(p||!v))try{u.length===0&&await q();const L={role:"user",content:W.prompt,timestamp:new Date,id:"user-"+Math.random().toString(36).substring(7)},F=[...u,L];d(F),w(!0);const H=Eo();if(!H)throw new Error("Ollama configuration not found");const G=[{role:"system",content:`You are a helpful assistant discussing the article titled "${r}". Here is the article content for context:

${v}

Please help answer questions about this article, using only information from the provided content.`},...F.filter(M=>M.role==="user"||M.role==="assistant").map(M=>({role:M.role,content:M.content}))],Z=await fetch(`${H.serverUrl}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:H.chatModel,messages:G,stream:!0})});if(!Z.ok){const M=await Z.text();throw new Error(`Failed to get response from Ollama: ${M}`)}const V=(O=Z.body)==null?void 0:O.getReader();if(!V)throw new Error("No response stream available");let oe=null,J="";for(;;){const{done:M,value:Q}=await V.read();if(M)break;const me=new TextDecoder().decode(Q).split(`
`).filter(Boolean);for(const ce of me)try{const ke=JSON.parse(ce),ge=ke.response||((B=ke.message)==null?void 0:B.content)||"";ge&&(J+=ge,oe?d(Ne=>{const we=Ne[Ne.length-1];return we.role==="assistant"?[...Ne.slice(0,-1),{...we,content:J}]:Ne}):(oe={role:"assistant",content:J,timestamp:new Date,id:"assistant-"+Math.random().toString(36).substring(7),model:m},w(!1),d([...F,oe])))}catch(ke){console.error("Error parsing stream chunk:",ke)}}if(oe){const M=[...F,{...oe,content:J}];await X.entries.update(a,{chatHistory:M,lastChatDate:new Date}),d(M),s==null||s()}}catch(L){console.error("Error in quick analysis:",L),D(L instanceof Error?L.message:"Failed to get response"),w(!1)}finally{h(!1)}},disabled:p||!v,className:`px-3 py-1.5 rounded text-sm transition-colors whitespace-nowrap
                      ${n?"bg-gray-700 hover:bg-gray-600 text-gray-200 disabled:bg-gray-800":"bg-gray-100 hover:bg-gray-200 text-gray-700 disabled:bg-gray-50"}
                      flex items-center gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed`,children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),W.text]},K))})]}),x.jsx("div",{ref:S,className:`flex-1 overflow-y-auto mb-4 ${n?"text-gray-200":"text-gray-800"} scroll-smooth`,children:x.jsxs("div",{className:"flex flex-col min-h-full",children:[x.jsxs("div",{className:"flex-grow",children:[u.map((W,K)=>x.jsx("div",{className:`mb-4 ${W.role==="assistant"?"bg-blue-500/10 rounded-lg p-4":W.role==="user"?"bg-gray-500/10 rounded-lg p-4":""}`,children:W.role==="assistant"||W.role==="user"?x.jsxs("div",{className:W.role==="assistant"?$:"",children:[x.jsx(Vo,{remarkPlugins:[Wo],className:W.role==="user"?"whitespace-pre-wrap":$,children:W.content}),W.role==="assistant"&&x.jsx("div",{className:"flex justify-end mt-2",children:x.jsxs("button",{onClick:()=>U(W,K),className:`shrink-0 p-1.5 rounded-lg transition-colors flex items-center gap-2 text-sm
                                  ${n?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Copy conversation as HTML",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[x.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),x.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),x.jsx("span",{children:"Copy"})]})})]}):null},W.id||K)),y&&x.jsx(z,{}),x.jsx("div",{ref:k})]}),N&&x.jsx("div",{className:`text-center mb-4 ${n?"text-red-400":"text-red-600"}`,children:N})]})}),x.jsxs("form",{onSubmit:_,className:"flex gap-2",children:[x.jsx("input",{ref:C,type:"text",value:c,onChange:W=>f(W.target.value),placeholder:v?"Ask a question about the article...":"Loading article content...",className:`flex-1 px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-reader-blue
                  ${n?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}
                  ${v?"":"opacity-50"}`,disabled:p||!v}),x.jsx("button",{type:"submit",disabled:p||!c.trim()||!v,className:`px-4 py-2 rounded-lg font-medium transition-colors
                  bg-reader-blue text-white hover:bg-blue-600
                  disabled:opacity-50 disabled:cursor-not-allowed`,children:"Send"})]})]})]})]})]}):null},DM=({message:e,type:t,onClose:n})=>(E.useEffect(()=>{const r=setTimeout(()=>{n()},3e3),i=()=>{n()};return window.addEventListener("keydown",i),window.addEventListener("mousedown",i),window.addEventListener("touchstart",i),()=>{clearTimeout(r),window.removeEventListener("keydown",i),window.removeEventListener("mousedown",i),window.removeEventListener("touchstart",i)}},[n]),x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:n}),x.jsx("div",{className:`fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
        px-8 py-4 rounded-lg shadow-xl transition-all duration-300
        ${t==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}
        z-50 font-medium text-lg min-w-[200px] text-center`,children:x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t==="success"?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e]})})]})),RM=()=>{const e=Vl(),[t,n]=E.useState(!0),[r,i]=E.useState(0),[o,a]=E.useState(0),[l,s]=E.useState(null),[u,d]=E.useState(null),[c,f]=E.useState(()=>{const B=localStorage.getItem("darkMode");return B?JSON.parse(B):!1}),[p,h]=E.useState(()=>{const B=localStorage.getItem("showUnreadOnly");return B?JSON.parse(B):!1}),[y,w]=E.useState([]),[v,g]=E.useState(!1),[m,b]=E.useState(null),[k,S]=E.useState(!1),[C,N]=E.useState(!1),[D,P]=E.useState(null),[j,A]=E.useState(null),[I,R]=E.useState(null),$=E.useCallback(async()=>{const B=await wA();w(B)},[]),q=E.useCallback(async B=>{B?(await vy(B),w(L=>L.filter(F=>F.id!==B))):(await Promise.all(y.map(L=>vy(L.id))),w([]))},[y]);E.useEffect(()=>{$()},[$]);const z=E.useCallback(B=>{A(()=>B)},[]),_=E.useCallback(B=>{R(()=>B)},[]),U=E.useCallback(async()=>{const B=je.getCurrentArticle();if(B)try{const L=await X.entries.get(B.id);if(!L)return;e(`/feed/${L.feedId}`),n(!1);const F=(H=0,G=10)=>{H>=G||setTimeout(()=>{const Z=document.querySelector(`[data-entry-id="${B.id}"]`);if(Z){const V=parseInt(Z.getAttribute("data-index")||"0");a(V),s(B.id),Z.scrollIntoView({behavior:"smooth",block:"center"})}else F(H+1)},100)};F()}catch(L){console.error("Error popping to current item:",L)}},[e,a,s]);E.useEffect(()=>{const B=L=>{P(L.detail)};return window.addEventListener("showToast",B),()=>window.removeEventListener("showToast",B)},[]),E.useEffect(()=>{const B=async L=>{var Z,V,oe;const F=((Z=document.activeElement)==null?void 0:Z.tagName)==="INPUT"||((V=document.activeElement)==null?void 0:V.tagName)==="TEXTAREA",H=document.querySelector(".fixed.inset-0")!==null;if(L.key==="]"||L.key==="\\"){L.preventDefault(),L.key==="]"?je.next():L.key==="\\"&&je.togglePlayPause();return}if(!(F||H&&!C))switch(L.key.toLowerCase()){case"escape":{L.preventDefault(),C?(N(!1),b(null)):k?S(!1):v&&g(!1);break}case"j":{if(L.preventDefault(),d("j"),t){const J=document.querySelector("[data-sidebar-items-count]"),M=parseInt((J==null?void 0:J.getAttribute("data-sidebar-items-count"))||"0");i(Q=>Math.min(Q+1,M-1))}else{const J=document.querySelector("main [data-current-page]");if(!J)return;const M=J.querySelectorAll("article").length,Q=parseInt(J.getAttribute("data-current-page")||"1"),ne=parseInt(J.getAttribute("data-total-pages")||"1");parseInt(J.getAttribute("data-next-page-items")||"0"),M>0&&a(me=>{const ce=me+1;if(console.log("j pressed:",{nextIndex:ce,maxItems:M,currentPage:Q,totalPages:ne}),ce>=M&&Q<ne)return console.log("Triggering page change to next page"),window.dispatchEvent(new CustomEvent("feedListPageChange",{detail:{page:Q+1,selectIndex:0,direction:"next"}})),0;if(ce>=M)return me;const ke=J.querySelector(`article[data-index="${ce}"]`),ge=ke==null?void 0:ke.getAttribute("data-entry-id");return ge&&s(parseInt(ge)),ce})}break}case"k":{if(L.preventDefault(),d("k"),t)i(J=>Math.max(0,J-1));else{const J=document.querySelector("main [data-current-page]");if(!J)return;const M=parseInt(J.getAttribute("data-current-page")||"1"),Q=parseInt(J.getAttribute("data-prev-page-items")||"0"),ne=J.querySelector(`article[data-index="${o}"]`);if(ne){const me=ne.getBoundingClientRect(),ce=(oe=J.closest(".overflow-y-auto"))==null?void 0:oe.getBoundingClientRect();if(ce&&me.top<ce.top){const ke=ne.getAttribute("data-entry-id");if(ke){window.dispatchEvent(new CustomEvent("feedEntryScroll",{detail:{entryId:parseInt(ke)}}));return}}}a(me=>{const ce=me-1;if(console.log("k pressed:",{nextIndex:ce,currentPage:M,prevPageItems:Q}),ce<0&&M>1)return console.log("Triggering page change to previous page"),window.dispatchEvent(new CustomEvent("feedListPageChange",{detail:{page:M-1,selectIndex:Q-1,direction:"prev"}})),Q-1;if(ce<0)return 0;const ke=J.querySelector(`article[data-index="${ce}"]`),ge=ke==null?void 0:ke.getAttribute("data-entry-id");return ge&&s(parseInt(ge)),ce})}break}case" ":case"'":{if(L.preventDefault(),!t&&l!==null){if(document.querySelector("[data-chat-modal]")){window.dispatchEvent(new CustomEvent("chatModalScroll",{detail:{direction:u==="j"?"down":"up"}}));return}console.log("Copy hotkey pressed:",L.key);const M=await X.entries.get(l);if(M){console.log("Found entry to copy:",M.title);const Q=await X.feeds.get(M.feedId),ne=(Q==null?void 0:Q.title)||"Unknown Feed",me={...M,feedTitle:ne},ke=(ge=>{var Jn;const Ne=fs=>fs.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return[`${ge.title}`,ge.feedTitle?`From: ${ge.feedTitle}`:"",`Published: ${Ne(new Date(ge.publishDate))}`,`Source: ${ge.link}`,"",ge.content_aiSummary?`
Summary${(Jn=ge.aiSummaryMetadata)!=null&&Jn.model?` (${ge.aiSummaryMetadata.model} - ${ge.aiSummaryMetadata.isFullContent?"Full article":"RSS preview"})`:""}:

${ge.content_aiSummary}`:"","",`
Full Content:
`,ge.content_fullArticle||ge.content_rssAbstract].filter(Boolean).join(`
`)})(me);await navigator.clipboard.writeText(ke),window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Article copied to clipboard",type:"success"}}))}}break}case"h":t||(L.preventDefault(),n(!0));break;case"l":{if(L.preventDefault(),t)n(!1);else if(l!==null){const J=await X.entries.get(l);if(J){const M=await X.feeds.get(J.feedId);b({...J,feedTitle:(M==null?void 0:M.title)||"Unknown Feed"}),N(!0)}}break}case"a":L.preventDefault(),g(!0);break;case"/":L.preventDefault(),S(!0);break;case"r":L.preventDefault(),I==null||I();break;case"[":if(!t&&l!==null){L.preventDefault();const J=await X.entries.get(l);if(J){console.log("Adding to TTS queue:",J.title);let M="Unknown Feed";if(J.feedId){const ne=await X.feeds.get(J.feedId);M=(ne==null?void 0:ne.title)||"Unknown Feed"}const Q={id:J.id,title:J.title,content_fullArticle:J.content_fullArticle,content_rssAbstract:J.content_rssAbstract,content_aiSummary:J.content_aiSummary,feedTitle:M};je.addToQueue(Q)}}break;case"]":t||(L.preventDefault(),je.next());break;case"\\":t||(L.preventDefault(),je.togglePlayPause());break;case"p":{if(L.shiftKey&&!t){L.preventDefault();const J=document.querySelector("main [data-current-page]");if(J){const M=parseInt(J.getAttribute("data-current-page")||"1");M>1&&window.dispatchEvent(new CustomEvent("feedListPageChange",{detail:{page:M-1,direction:"prev"}}))}}else if(L.ctrlKey&&!t){L.preventDefault();const J=document.querySelector("main [data-current-page]");if(J){const M=parseInt(J.getAttribute("data-current-page")||"1"),Q=parseInt(J.getAttribute("data-total-pages")||"1");M<Q&&window.dispatchEvent(new CustomEvent("feedListPageChange",{detail:{page:M+1,direction:"next"}}))}}else L.preventDefault(),U();break}case"i":!t&&l!==null&&(L.preventDefault(),await X.transaction("rw",X.entries,async()=>{const J=await X.entries.get(l);if(J){const M=!J.isStarred;await X.entries.update(l,{isStarred:M,starredDate:M?new Date:void 0}),window.dispatchEvent(new CustomEvent("entryStarredChanged",{detail:{entryId:l,isStarred:M,starredDate:M?new Date:void 0}}))}}));break;case"m":{if(L.preventDefault(),!t&&l!==null){const J=await X.entries.get(l);J&&(window.dispatchEvent(new CustomEvent("entryReadChanged",{detail:{entryId:l,isRead:!J.isRead}})),await Kp(l,!J.isRead),window.dispatchEvent(new CustomEvent("entryMarkedAsRead",{detail:{feedId:J.feedId}})))}break}case"o":{if(L.preventDefault(),!t&&l!==null){const J=await X.entries.get(l);J!=null&&J.link&&window.open(J.link,"_blank")}break}case"0":{if(L.preventDefault(),!t&&l!==null){const J=await X.entries.get(l);J!=null&&J.link&&window.open(J.link,"reader_article_window")}break}case"u":{if(L.preventDefault(),!t&&l!==null)try{window.dispatchEvent(new CustomEvent("entryRefreshStart",{detail:{entryId:l}})),await jb(l);const J=await X.entries.get(l);if(J){const M=await X.feeds.get(J.feedId);window.dispatchEvent(new CustomEvent("entryRefreshComplete",{detail:{entry:{...J,feedTitle:(M==null?void 0:M.title)||"Unknown Feed"}}}))}}catch(J){console.error("Failed to refresh entry:",J),window.dispatchEvent(new CustomEvent("entryRefreshComplete",{detail:{entry:await X.entries.get(l)}}))}break}case"-":{if(L.preventDefault(),console.log("Email hotkey pressed"),!t&&l!==null){console.log("Fetching entry with ID:",l);const J=await X.entries.get(l);if(J){console.log("Found entry:",J.title);const M=await X.feeds.get(J.feedId),Q=(M==null?void 0:M.title)||"Unknown Feed",ne={...J,feedTitle:Q};console.log("Prepared full entry with feed title:",Q);const ce=(we=>{var ps;const Jn=sd=>sd.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return[`${we.title}`,we.feedTitle?`From: ${we.feedTitle}`:"",`Published: ${Jn(new Date(we.publishDate))}`,`Source: ${we.link}`,"",we.content_aiSummary?`
Summary${(ps=we.aiSummaryMetadata)!=null&&ps.model?` (${we.aiSummaryMetadata.model} - ${we.aiSummaryMetadata.isFullContent?"Full article":"RSS preview"})`:""}:

${we.content_aiSummary}`:"","",`
Full Content:
`,we.content_fullArticle||we.content_rssAbstract].filter(Boolean).join(`
`)})(ne);console.log("Formatted content length:",ce.length);const ke=encodeURIComponent(`Via InReader: ${J.title}`),ge=encodeURIComponent(ce),Ne=`mailto:?subject=${ke}&body=${ge}`;console.log("Generated mailto URL:",Ne.substring(0,100)+"...");try{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Opening email client...",type:"success"}}));const we=document.createElement("a");we.href=Ne,we.style.display="none",document.body.appendChild(we),we.click(),document.body.removeChild(we),setTimeout(()=>{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"No email client responded. Please check your default email app settings.",type:"error"}}))},2e3)}catch(we){console.error("Failed to open email client:",we),window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Unable to open email client. Please check your default email app.",type:"error"}}))}}else console.log("No entry found with ID:",l)}else console.log("Email hotkey ignored - sidebar focused or no entry selected",{sidebarFocused:t,selectedEntryId:l});break}}};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[t,j,I,U,i,a,l,u,C]),E.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(c)),c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[c]),E.useEffect(()=>{localStorage.setItem("showUnreadOnly",JSON.stringify(p))},[p]);const T=B=>{n(!B)},W=B=>{b(B),N(!0)},K=E.useCallback(()=>{S(!0)},[]),O={isFocused:!t,isDarkMode:c,showUnreadOnly:p,onFocusChange:T,onSearchHistoryUpdate:$,selectedIndex:o,onSelectedIndexChange:a,onSelectedEntryIdChange:s,selectedEntryId:l,onOpenChat:W};return x.jsxs("div",{className:`h-screen flex flex-col ${c?"bg-gray-900 text-white":"bg-white text-gray-900"}`,children:[x.jsx(J5,{isDarkMode:c,onDarkModeToggle:()=>{f(!c),localStorage.setItem("darkMode",JSON.stringify(!c))},showUnreadOnly:p,onShowUnreadToggle:()=>{h(!p),localStorage.setItem("showUnreadOnly",JSON.stringify(!p))},onRegisterFocusSearch:z,showAddFeedModal:v,onCloseAddFeedModal:()=>g(!1)}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsx(jO,{className:`w-sidebar flex-shrink-0 border-r ${c?"border-gray-700":"border-reader-border"}`,isFocused:t,onFocusChange:n,isDarkMode:c,onRegisterRefreshFeeds:_,searchHistory:y,onClearSearchHistory:q,selectedIndex:r,onSelectedIndexChange:i,onOpenSearch:K}),x.jsx("main",{className:`flex-grow overflow-auto ${t?"":"ring-2 ring-reader-blue ring-opacity-50"}`,onClick:()=>t&&T(!0),children:x.jsx(rP,{context:O})})]}),v&&x.jsx(Fb,{isOpen:v,onClose:()=>g(!1),isDarkMode:c,onSuccess:()=>I==null?void 0:I()}),C&&m&&x.jsx(FE,{isOpen:C,onClose:()=>{N(!1),b(null)},isDarkMode:c,articleTitle:m.title,articleContent:m.content_rssAbstract,articleUrl:m.link,entryId:m.id,feedTitle:m.feedTitle,onChatUpdate:()=>{}}),x.jsx(X5,{isOpen:k,onClose:()=>S(!1),isDarkMode:c,onSearchHistoryUpdate:$}),D&&x.jsx(DM,{message:D.message,type:D.type,onClose:()=>P(null)})]})},jM=({entry:e,index:t,isSelected:n,isFocused:r,isDarkMode:i,isChatOpen:o,isExpanded:a,onSelect:l,onFocusChange:s,onMarkAsRead:u,onToggleStar:d,onToggleExpand:c,onContentView:f,onContentLeave:p,contentRef:h,onOpenChat:y})=>{var L;const[w,v]=E.useState(!1),[g,m]=E.useState(e),b=E.useRef(null),k=E.useRef(null),[S,C]=E.useState(e.feedTitle),N=F=>{const H=document.createElement("div");return H.innerHTML=F,(H.textContent||H.innerText||"").length},D=F=>{const G=new Date().getTime()-F.getTime(),Z=Math.floor(G/(1e3*60*60*24)),V=Math.floor(G/(1e3*60*60)),oe=Math.floor(G/(1e3*60));return Z>7?F.toLocaleDateString():Z>0?`${Z}d ago`:V>0?`${V}h ago`:oe>0?`${oe}m ago`:"just now"};E.useEffect(()=>{m(e)},[e]),E.useEffect(()=>{e.feedId&&pb(e.feedId).then(F=>C(F))},[e.feedId]),E.useEffect(()=>{if(e.id){const F=cA(async H=>{if(H===e.id){const G=await X.entries.get(e.id);if(G){const Z=await X.feeds.get(G.feedId);m({...G,feedTitle:(Z==null?void 0:Z.title)||"Unknown Feed"})}}});return()=>{F()}}},[e.id]);const P=()=>{if(!b.current)return;const F=b.current.closest(".overflow-y-auto");if(!F)return;const H=F.getBoundingClientRect(),G=b.current.getBoundingClientRect(),Z=H.top+H.height/2;if(G.top>Z){const V=F.scrollTop+(G.top-H.top)-H.height*.25;F.scrollTo({top:V,behavior:"smooth"})}else if(G.top<H.top)if(G.height>H.height){const V=F.scrollTop+(G.bottom-H.bottom);F.scrollTo({top:V,behavior:"smooth"})}else{const V=F.scrollTop+(G.top-H.top);F.scrollTo({top:V,behavior:"smooth"})}};E.useEffect(()=>{n&&setTimeout(P,0)},[n]),E.useEffect(()=>{const F={readChange:H=>{H.detail.entryId===g.id&&m(G=>({...G,isRead:H.detail.isRead}))},entryUpdate:H=>{H.detail.entry.id===g.id&&m(H.detail.entry)},refreshStart:H=>{H.detail.entryId===g.id&&v(!0)},refreshComplete:H=>{H.detail.entry.id===g.id&&(m(H.detail.entry),v(!1))}};return window.addEventListener("entryReadChanged",F.readChange),window.addEventListener("entryUpdated",F.entryUpdate),window.addEventListener("entryRefreshStart",F.refreshStart),window.addEventListener("entryRefreshComplete",F.refreshComplete),()=>{window.removeEventListener("entryReadChanged",F.readChange),window.removeEventListener("entryUpdated",F.entryUpdate),window.removeEventListener("entryRefreshStart",F.refreshStart),window.removeEventListener("entryRefreshComplete",F.refreshComplete)}},[g.id]);const j=E.useCallback(async F=>{if(F.stopPropagation(),!(!g.id||w)){v(!0);try{await jb(g.id)}catch(H){console.error("Failed to refresh entry:",H)}finally{v(!1)}}},[g.id,w]),A=E.useCallback(async()=>{const F=U(g);await navigator.clipboard.writeText(F),window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Article copied to clipboard",type:"success"}}))},[g]),I=E.useCallback(async()=>{console.log("Email button clicked");const F=U(g);console.log("Formatted content length:",F.length);const H=encodeURIComponent(`Via InReader: ${g.title}`),G=encodeURIComponent(F),Z=`mailto:?subject=${H}&body=${G}`;console.log("Generated mailto URL:",Z.substring(0,100)+"...");try{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Opening email client...",type:"success"}}));const V=document.createElement("a");V.href=Z,V.style.display="none",document.body.appendChild(V),V.click(),document.body.removeChild(V),setTimeout(()=>{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"No email client responded. Please check your default email app settings.",type:"error"}}))},2e3)}catch(V){console.error("Failed to open email client:",V),window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Unable to open email client. Please check your default email app.",type:"error"}}))}},[g]),R=E.useMemo(()=>{const F=g.content_fullArticle||g.content_rssAbstract;return N(F)},[g.content_fullArticle,g.content_rssAbstract]),$=E.useMemo(()=>D(new Date(g.publishDate)),[g.publishDate]),q=E.useMemo(()=>`prose prose-sm max-w-none 
      ${i?"prose-invert prose-p:text-gray-300":"prose-p:text-gray-600"}
      prose-p:my-0 prose-headings:my-1 prose-ul:my-1 prose-ol:my-1
      prose-pre:bg-gray-800 prose-pre:text-gray-100
      prose-code:text-blue-500 prose-code:bg-gray-100 prose-code:rounded prose-code:px-1
      prose-a:text-blue-500 hover:prose-a:text-blue-600
      ${i?"prose-code:bg-gray-700":""}`,[i]),z=F=>{if(!F.chatHistory||F.chatHistory.length===0)return!1;const H=F.chatHistory.some(Z=>Z.role==="user"),G=F.chatHistory.some(Z=>Z.role==="assistant");return H&&G},_=(F,H)=>{if(!F)return"";if(N(F)<=600||H)return F;let Z=0,V="";const oe=document.createElement("div");oe.innerHTML=F;const J=document.createTreeWalker(oe,NodeFilter.SHOW_TEXT);for(;J.nextNode();){const M=J.currentNode;if(Z+M.textContent.length>500){const Q=500-Z;V+=M.textContent.slice(0,Q);break}Z+=M.textContent.length,V+=M.textContent}return F.slice(0,F.indexOf(V)+V.length)+"..."},U=F=>{var Z;const H=V=>V.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return[`${F.title}`,F.feedTitle?`From: ${F.feedTitle}`:"",`Published: ${H(new Date(F.publishDate))}`,`Source: ${F.link}`,"",F.content_aiSummary?`
Summary${(Z=F.aiSummaryMetadata)!=null&&Z.model?` (${F.aiSummaryMetadata.model} - ${F.aiSummaryMetadata.isFullContent?"Full article":"RSS preview"})`:""}:

${F.content_aiSummary}`:"","",`
Full Content:
`,F.content_fullArticle||F.content_rssAbstract].filter(Boolean).join(`
`)},T=()=>{const F=k.current;if(!F)return!0;const H=F.getBoundingClientRect(),G=F.closest(".overflow-y-auto");if(!G)return!0;const Z=G.getBoundingClientRect();return H.bottom<=Z.bottom},W=()=>{const F=k.current;if(!F)return;const H=F.closest(".overflow-y-auto");if(!H)return;const G=H.clientHeight*.33;H.scrollBy({top:G,behavior:"smooth"})};E.useEffect(()=>{const F=H=>{if(H.detail.entryId===g.id){const G=g.content_fullArticle||g.content_rssAbstract;if(!G||N(G)<=600)return;a&&!T()?W():c(g.id)}};return window.addEventListener("toggleEntryExpand",F),()=>{window.removeEventListener("toggleEntryExpand",F)}},[g.id,g.content_fullArticle,g.content_rssAbstract,c,a]);const K=()=>{if(!b.current)return!0;const F=b.current.getBoundingClientRect(),H=b.current.closest(".overflow-y-auto");if(!H)return!0;const G=H.getBoundingClientRect();return F.top>=G.top},O=()=>{if(!b.current)return;const F=b.current.closest(".overflow-y-auto");if(!F)return;const H=F.clientHeight*.33;F.scrollBy({top:-H,behavior:"smooth"})};E.useEffect(()=>{const F=H=>{H.detail.entryId===g.id&&!K()&&O()};return window.addEventListener("feedEntryScroll",F),()=>{window.removeEventListener("feedEntryScroll",F)}},[g.id]);const B=E.useCallback(F=>{F.stopPropagation(),(g.content_fullArticle||g.content_rssAbstract)&&g.id&&n&&(console.log("Adding to TTS queue:",{id:g.id,title:g.title,isSelected:n}),je.addToQueue({id:g.id,title:g.title,content_fullArticle:g.content_fullArticle,content_rssAbstract:g.content_rssAbstract,content_aiSummary:g.content_aiSummary,feedTitle:S}))},[g,n,S]);return x.jsxs("article",{ref:b,"data-index":t,"data-entry-id":g.id,onClick:F=>{console.log("Article clicked, entry ID:",g.id),!o&&(F.target instanceof HTMLButtonElement||F.target instanceof HTMLElement&&F.target.closest("button")||(l(t),!r&&s(!0)))},className:`border-b ${i?"border-gray-800":"border-gray-100"} transition-colors
        ${g.isRead?"opacity-75":""} 
        ${i?"hover:bg-gray-800":"hover:bg-reader-hover"} 
        ${r&&n?i?"bg-gray-800 ring-2 ring-reader-blue ring-opacity-50":"bg-reader-hover ring-2 ring-reader-blue ring-opacity-50":""}`,style:{cursor:o?"default":"pointer"},children:[x.jsxs("div",{className:"flex items-center px-4 py-2 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{onClick:()=>u(g.id,!g.isRead),className:`p-1.5 rounded transition-colors ${i?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-900 hover:bg-gray-100"}`,children:g.isRead?"✓":"○"}),x.jsx("button",{onClick:()=>d(g.id),className:`p-1.5 rounded transition-colors ${g.isStarred?"text-yellow-500":i?"text-gray-400 hover:text-yellow-500":"text-gray-500 hover:text-yellow-500"}`,children:g.isStarred?"★":"☆"}),x.jsx("button",{onClick:j,disabled:w,className:`p-1.5 rounded transition-colors ${i?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"} ${w?"opacity-50 cursor-not-allowed":""}`,title:"Refresh content and summary",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${w?"animate-spin":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})}),g.content_fullArticle&&g.content_fullArticle.length>0&&x.jsx("div",{className:`px-1.5 py-0.5 rounded text-xs font-medium
                ${i?"bg-green-500/20 text-green-200":"bg-green-100 text-green-800"}`,title:"Full article content available",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),g.content_aiSummary&&x.jsx("div",{className:`px-1.5 py-0.5 rounded text-xs font-medium
                ${i?"bg-yellow-500/20 text-yellow-200":"bg-yellow-100 text-yellow-800"}`,title:"AI Summary available",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})}),g.requestProcessingStatus==="pending"&&x.jsxs("div",{className:`px-1.5 py-0.5 rounded text-xs font-medium flex items-center gap-1
                ${i?"bg-blue-500/20 text-blue-200":"bg-blue-100 text-blue-800"}`,title:"Processing article content",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),x.jsx("span",{children:"Processing"})]})]}),x.jsxs("div",{className:"flex-grow min-w-0",children:[x.jsx("div",{className:"flex items-center gap-2",children:x.jsx("h3",{className:`text-base font-medium flex-grow min-w-0 ${i?"text-gray-100":"text-gray-900"}`,children:x.jsx("div",{className:"flex items-center min-w-0",children:x.jsx("button",{className:`truncate w-[75%] text-left ${i?"hover:text-blue-400":"hover:text-reader-blue"}`,onClick:F=>{F.stopPropagation(),console.log("Title clicked, opening chat for:",g.title),y&&y(g)},children:g.title})})})}),x.jsx("div",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:S})]}),x.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[z(g)&&x.jsx("button",{onClick:F=>{F.stopPropagation(),console.log("Chat icon clicked, opening chat for:",g.title),y&&y(g)},className:`p-1 rounded transition-colors ${i?"text-blue-400 hover:text-blue-300":"text-blue-500 hover:text-blue-600"}`,title:"Open chat",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),x.jsx("span",{children:$})]})]}),n&&x.jsxs("div",{ref:F=>{k.current=F,h(F)},className:`px-4 pb-4 ${i?"text-gray-300":"text-gray-600"} relative`,onMouseEnter:()=>f(g),onMouseLeave:()=>p(g.id),children:[g.content_aiSummary&&x.jsxs("div",{className:`mb-4 p-4 rounded border ${i?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[x.jsxs("div",{className:`text-sm font-medium mb-2 flex items-center gap-2 ${i?"text-gray-300":"text-gray-700"}`,children:[x.jsx("span",{children:"Summary"}),((L=g.aiSummaryMetadata)==null?void 0:L.model)&&x.jsxs(x.Fragment,{children:[x.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${i?"bg-blue-500/20 text-blue-200":"bg-blue-100 text-blue-800"}`,children:g.aiSummaryMetadata.model}),x.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${i?g.aiSummaryMetadata.isFullContent?"bg-green-500/20 text-green-200":"bg-yellow-500/20 text-yellow-200":g.aiSummaryMetadata.isFullContent?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g.aiSummaryMetadata.isFullContent?"Full article":"RSS preview"})]})]}),x.jsx("div",{className:q,children:x.jsx(Vo,{remarkPlugins:[Wo],children:g.content_aiSummary})})]}),x.jsx("div",{className:q,children:x.jsx(Vo,{remarkPlugins:[Wo],children:_(g.content_fullArticle||g.content_rssAbstract,a)})}),x.jsxs("div",{className:"flex justify-between items-center mt-4",children:[R>600&&x.jsx("button",{onClick:()=>c(g.id),className:`text-sm ${i?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"}`,children:a?"Show less":"Show more"}),x.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[x.jsxs("button",{onClick:B,disabled:!n,className:`shrink-0 p-1.5 rounded-lg transition-colors flex items-center gap-2 text-sm
                  ${i?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}
                  ${n?"":"opacity-50 cursor-not-allowed"}`,title:n?"Add to TTS queue":"Select entry to add to TTS queue",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})}),x.jsx("span",{children:"Listen"})]}),x.jsxs("button",{onClick:A,className:`shrink-0 p-1.5 rounded-lg transition-colors flex items-center gap-2 text-sm
                  ${i?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Copy article content",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[x.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),x.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),x.jsx("span",{children:"Copy"})]}),x.jsxs("button",{onClick:I,className:`shrink-0 p-1.5 rounded-lg transition-colors flex items-center gap-2 text-sm
                  ${i?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Email article",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[x.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),x.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),x.jsx("span",{children:"Email"})]}),qe.isAuthenticated()&&x.jsxs(x.Fragment,{children:[x.jsxs("button",{onClick:async F=>{F.stopPropagation();try{await qe.shareItem(g),window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Article shared successfully",type:"success"}}))}catch{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Failed to share article",type:"error"}}))}},className:`shrink-0 p-1.5 rounded-lg transition-colors flex items-center gap-2 text-sm
                      ${i?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Share article",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),x.jsx("span",{children:"Share"})]}),x.jsxs("button",{onClick:async F=>{F.stopPropagation();const H=prompt("Add a comment to share with this article:");if(H!==null)try{await qe.shareItem(g,H),window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Article shared with comment",type:"success"}}))}catch{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Failed to share article",type:"error"}}))}},className:`shrink-0 p-1.5 rounded-lg transition-colors flex items-center gap-2 text-sm
                      ${i?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Share article with comment",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z",clipRule:"evenodd"})}),x.jsx("span",{children:"Share+"})]})]})]})]})]})]})},OM=({currentPage:e,totalPages:t,totalItems:n,onPageChange:r,isLoading:i=!1})=>{const o=()=>{const a=[];if(!(t>7))return Array.from({length:t},(s,u)=>u+1);a.push(1),e>3&&a.push("...");for(let s=Math.max(2,e-1);s<=Math.min(t-1,e+1);s++)a.push(s);return e<t-2&&a.push("..."),t>1&&a.push(t),a};return x.jsxs("div",{className:"flex items-center justify-between space-x-2 my-4 px-4",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("button",{onClick:()=>r(e-1),disabled:e===1||i,className:`px-3 py-1 rounded border disabled:opacity-50 transition-opacity
            ${i?"cursor-wait":"cursor-pointer"}`,children:"Previous"}),o().map((a,l)=>x.jsx("button",{onClick:()=>typeof a=="number"?r(a):null,disabled:a==="..."||i||a===e,className:`px-3 py-1 rounded border transition-opacity
              ${a===e?"bg-blue-500 text-white":""}
              ${a==="..."?"cursor-default":"hover:bg-gray-100"}
              ${i?"cursor-wait":"cursor-pointer"}
              ${i&&a!==e?"opacity-50":""}`,children:a},l)),x.jsx("button",{onClick:()=>r(e+1),disabled:e===t||i,className:`px-3 py-1 rounded border disabled:opacity-50 transition-opacity
            ${i?"cursor-wait":"cursor-pointer"}`,children:"Next"})]}),n!==void 0&&x.jsxs("div",{className:`text-sm text-gray-600 transition-opacity ${i?"opacity-50":""}`,children:[n," ",n===1?"entry":"entries"]})]})},Xe=20,hi=e=>{const t=$c(),n=e.isDarkMode??t.isDarkMode,r=e.isFocused??t.isFocused,i=e.onFocusChange??t.onFocusChange,o=t.showUnreadOnly,a=t.selectedIndex,l=t.onSelectedIndexChange,s=t.onOpenChat,[u,d]=E.useState([]),[c,f]=E.useState(!1),[p,h]=E.useState(null),y=E.useRef(null),w=E.useRef({}),v=E.useRef({}),{feedId:g}=xg(),m=Li(),b=m.pathname.startsWith("/folder/")?m.pathname.split("/folder/")[1]:null,[k,S]=E.useState({});vP();const[C,N]=E.useState(1),[D,P]=E.useState({items:[],currentPage:1,totalItems:0,itemsPerPage:20,totalPages:0}),[j,A]=E.useState(!1),[I,R]=E.useState(1),$=E.useMemo(()=>o?u.filter(B=>!B.isRead):u,[u,o]);E.useEffect(()=>{if(!j)return;console.log("Loading page entries:",{totalItems:D.totalItems,entriesLength:u.length,filteredEntriesLength:$.length,currentPage:C,showUnreadOnly:o}),(async()=>{try{if(!e.entries&&!b&&!m.pathname.startsWith("/starred")&&!m.pathname.startsWith("/listened")){let L;g?L=await Ln(parseInt(g),C,Xe):L=await Vi(C,Xe),console.log("Loaded new page:",{currentPage:C,loadedCount:L.entries.length,totalItems:L.total}),d(L.entries),P(F=>({items:o?L.entries.filter(H=>!H.isRead):L.entries,currentPage:C,totalItems:L.total,itemsPerPage:Xe,totalPages:Math.ceil(L.total/Xe)}))}else{const L=(C-1)*Xe,F=Math.min(L+Xe,$.length),H=$.slice(L,F);P(G=>({items:H,currentPage:C,totalItems:G.totalItems,itemsPerPage:Xe,totalPages:G.totalPages}))}}catch(L){console.error("Error loading page entries:",L)}finally{A(!1)}})()},[C,j]),E.useEffect(()=>{if(!j&&(e.entries||b||m.pathname.startsWith("/starred")||m.pathname.startsWith("/listened"))){const B=(C-1)*Xe,L=Math.min(B+Xe,$.length),F=$.slice(B,L);P(H=>({items:F,currentPage:C,totalItems:$.length,itemsPerPage:Xe,totalPages:Math.ceil($.length/Xe)}))}},[$,o,e.entries,b,m.pathname,C]),E.useEffect(()=>{a>=D.items.length&&l(Math.max(0,D.items.length-1))},[D.items.length,a,l]),E.useEffect(()=>{!r||D.items.length},[a,r,D.items.length]);const q=E.useCallback(async(B,L)=>{window.dispatchEvent(new CustomEvent("entryReadChanged",{detail:{entryId:B,isRead:L??!0}})),await Kp(B,L);const F=new CustomEvent("entryMarkedAsRead",{detail:{feedId:g?parseInt(g):null}});window.dispatchEvent(F)},[g]),z=E.useCallback(async B=>{await hA(B);const L=e.entries?e.entries:g?(await Ln(parseInt(g))).entries:m.pathname==="/starred"?await wa():m.pathname==="/listened"?await xa():(await Vi()).entries;d(L)},[g,m.pathname,e.entries]),_=B=>{const L=document.createElement("div");return L.innerHTML=B,(L.textContent||L.innerText||"").length},U=E.useCallback(B=>{var G;const L=v.current[B];if(!L)return!0;const F=L.getBoundingClientRect(),H=(G=y.current)==null?void 0:G.getBoundingClientRect();return H?F.bottom<=H.bottom:!0},[]),T=E.useCallback(B=>{if(!v.current[B]||!y.current)return;const F=y.current.getBoundingClientRect();y.current.scrollBy({top:F.height*.5,behavior:"smooth"})},[]);E.useCallback(B=>{const L=u.find(G=>G.id===B),F=(L==null?void 0:L.content_fullArticle)||(L==null?void 0:L.content_rssAbstract)||"";if(!(_(F)<=600)){if(!k[B]){S(G=>({...G,[B]:!0}));return}if(!U(B)){T(B);return}S(G=>({...G,[B]:!1}))}},[u,k,U,T]),E.useCallback(async()=>{if(!(!g&&!b))try{if(g){const B=await X.feeds.get(parseInt(g));if(B){await _b(B);const L=(await Ln(parseInt(g))).entries;d(L)}}else if(b){const B=await my(parseInt(b));await refreshFeeds(B);const L=B.map(G=>Ln(G.id)),H=(await Promise.all(L)).map(G=>G.entries).flat().sort((G,Z)=>Z.publishDate.getTime()-G.publishDate.getTime());d(H)}}catch(B){console.error("Error refreshing feed:",B)}},[g,b]),E.useEffect(()=>{(async()=>{try{let L,F=0;if(e.entries)L=e.entries,F=e.entries.length;else if(b){const Z=(await my(parseInt(b))).map(oe=>Ln(oe.id));L=(await Promise.all(Z)).map(oe=>oe.entries).flat().map(oe=>({...oe,publishDate:new Date(oe.publishDate),readDate:oe.readDate?new Date(oe.readDate):void 0,starredDate:oe.starredDate?new Date(oe.starredDate):void 0,listenedDate:oe.listenedDate?new Date(oe.listenedDate):void 0,lastChatDate:oe.lastChatDate?new Date(oe.lastChatDate):void 0})).sort((oe,J)=>J.publishDate.getTime()-oe.publishDate.getTime()),F=L.length}else if(g){const G=await Ln(parseInt(g),C,Xe);L=G.entries,F=G.total,console.log("Feed entries loaded:",{feedId:g,totalEntriesCount:G.total,loadedCount:G.entries.length,currentPage:C,totalPages:G.totalPages})}else if(m.pathname==="/starred")L=await wa(),F=L.length;else if(m.pathname==="/listened")L=await xa(),F=L.length,L.sort((G,Z)=>{var J,M;const V=((J=G.listenedDate)==null?void 0:J.getTime())||0;return(((M=Z.listenedDate)==null?void 0:M.getTime())||0)-V});else{const G=await Vi(C,Xe);L=G.entries,F=G.total,console.log("All entries loaded:",{totalEntriesCount:G.total,loadedCount:G.entries.length,currentPage:C,totalPages:G.totalPages})}d(L);const H=Math.max(1,Math.ceil(F/Xe));console.log("Initializing pagination state:",{totalEntriesCount:F,totalPages:H,currentPage:C,ITEMS_PER_PAGE:Xe,shouldShowPagination:F>Xe}),P({items:L,currentPage:C,totalItems:F,itemsPerPage:Xe,totalPages:H})}catch(L){console.error("Error loading entries:",L),d([]),P({items:[],currentPage:1,totalItems:0,itemsPerPage:Xe,totalPages:0})}})()},[g,b,m.pathname,e.entries,C]);const W=E.useCallback(B=>{const L=u.find(H=>H.id===B);if(!L)return;const F=L.content_fullArticle||L.content_rssAbstract;!F||_(F)<=600||S(H=>({...H,[B]:!H[B]}))},[u]),K=E.useCallback(B=>{!B.id||B.isRead||(w.current[B.id]=setTimeout(async()=>{var F;await Kp(B.id);const L=u.map(H=>H.id===B.id?{...H,isRead:!0}:H);d(L),(F=e.onEntriesUpdate)==null||F.call(e,L),delete w.current[B.id]},2e3))},[u,e.onEntriesUpdate]),O=E.useCallback(B=>{console.log("Changing to page:",B),B!==C&&(R(B),N(B),A(!0),l(0),y.current&&y.current.scrollTo({top:B>C?0:y.current.scrollHeight,behavior:"instant"}))},[C,l]);return E.useEffect(()=>{const B=L=>{d(F=>F.map(H=>H.id===L.detail.entryId?{...H,isStarred:L.detail.isStarred,starredDate:L.detail.starredDate}:H))};return window.addEventListener("entryStarredChanged",B),()=>{window.removeEventListener("entryStarredChanged",B)}},[]),E.useEffect(()=>{let B;return B=(()=>{try{return X.entries.hook("updating",F=>{F.isStarred!==void 0&&(async()=>{const G=e.entries?e.entries:g?(await Ln(parseInt(g))).entries:m.pathname==="/starred"?await wa():m.pathname==="/listened"?await xa():(await Vi()).entries;d(G)})()}),()=>{}}catch(F){return console.error("Error setting up database subscription:",F),()=>{}}})(),()=>{if(B)try{B()}catch(F){console.error("Error unsubscribing from database:",F)}}},[g,m.pathname,e.entries]),E.useEffect(()=>{const B=L=>{N(L.detail.page),l(L.detail.selectIndex),setTimeout(()=>{const F=y.current;F&&F.scrollTo({top:L.detail.direction==="prev"?F.scrollHeight:0,behavior:"instant"})},0)};return window.addEventListener("feedListPageChange",B),()=>{window.removeEventListener("feedListPageChange",B)}},[l]),E.useEffect(()=>{const B=L=>{d(F=>F.map(H=>H.id===L.detail.entryId?{...H,isRead:L.detail.isRead}:H))};return window.addEventListener("entryReadChanged",B),()=>{window.removeEventListener("entryReadChanged",B)}},[]),E.useEffect(()=>{const B=async L=>{if((g?parseInt(g):null)===L.detail.feedId){const H=(await Ln(L.detail.feedId)).entries;d(H)}};return window.addEventListener("feedRefreshed",B),()=>{window.removeEventListener("feedRefreshed",B)}},[g]),E.useEffect(()=>{const B=async L=>{const F=e.entries?e.entries:g?(await Ln(parseInt(g))).entries:m.pathname==="/starred"?await wa():m.pathname==="/listened"?await xa():(await Vi()).entries;d(F)};return window.addEventListener("entryReprocessed",B),()=>{window.removeEventListener("entryReprocessed",B)}},[g,m.pathname,e.entries]),x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:y,className:`h-full overflow-y-auto ${n?"bg-gray-900":"bg-white"}`,onClick:()=>!r&&i(!0),tabIndex:0,children:D.items.length===0?x.jsx("div",{className:`text-center mt-8 ${n?"text-gray-400":"text-gray-500"}`,children:j?"Loading entries...":u.length===0?"No entries to display":"No unread entries"}):x.jsxs("div",{className:"flex flex-col min-h-full",children:[x.jsx("div",{className:"flex-grow",children:j?x.jsxs("div",{className:`text-center py-8 ${n?"text-gray-400":"text-gray-500"}`,children:["Loading page ",I,"..."]}):x.jsx("div",{"data-current-page":D.currentPage,"data-total-pages":D.totalPages,"data-prev-page-items":D.currentPage>1?Xe:0,"data-next-page-items":D.currentPage<D.totalPages?Xe:0,children:D.items.map((B,L)=>x.jsx(jM,{entry:B,index:L,isSelected:a===L,isFocused:r,isDarkMode:n,isChatOpen:c,isExpanded:k[B.id]||!1,onSelect:l,onFocusChange:i,onMarkAsRead:q,onToggleStar:z,onToggleExpand:W,onContentView:K,onContentLeave:F=>{w.current[F]&&(clearTimeout(w.current[F]),delete w.current[F])},contentRef:F=>{B.id&&(v.current[B.id]=F)},onOpenChat:s},B.id))})}),D.totalItems>Xe&&x.jsx("div",{className:`sticky bottom-0 w-full z-10 ${n?"bg-gray-800/90":"bg-white/90"} backdrop-blur-sm border-t ${n?"border-gray-700":"border-gray-200"}`,children:x.jsx(OM,{currentPage:I,totalPages:D.totalPages,totalItems:D.totalItems,onPageChange:O,isLoading:j})})]})}),c&&p&&x.jsx(FE,{isOpen:c,onClose:()=>{f(!1),h(null)},isDarkMode:n,articleTitle:p.title,articleContent:p.content_fullArticle||p.content_rssAbstract||"",articleUrl:p.link,entryId:p.id,feedTitle:p.feedTitle,onChatUpdate:()=>{(async()=>{const L=e.entries?e.entries:g?(await Ln(parseInt(g))).entries:m.pathname==="/starred"?await wa():m.pathname==="/listened"?await xa():(await Vi()).entries;d(L)})()}})]})},$M=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),{query:i}=xg(),{isDarkMode:o,isFocused:a,onFocusChange:l,onSearchHistoryUpdate:s,onSearchResultTimestamp:u}=$c();E.useEffect(()=>{r(!0),t([])},[i]),E.useEffect(()=>{let c=!0;return(async()=>{if(i)try{const p=await jg(i);if(c){t(p);const h=p.length>0?p.reduce((y,w)=>w.publishDate>y?w.publishDate:y,p[0].publishDate):null;u==null||u(i,h),r(!1)}}catch(p){console.error("Search failed:",p),c&&r(!1)}})(),()=>{c=!1}},[i,u]);const d=c=>{t(c)};return E.useEffect(()=>{(async()=>{if(!e.some(h=>h.feedId&&(!h.feedTitle||h.feedTitle==="Unknown Feed")))return;const p=await Promise.all(e.map(async h=>{if(h.feedId){const y=await pb(h.feedId);return{...h,feedTitle:y}}return h}));t(p)})()},[e.length]),n?x.jsx("div",{className:`p-4 ${o?"text-gray-300":"text-gray-600"}`,children:"Searching..."}):e.length===0?x.jsxs("div",{className:`p-4 ${o?"text-gray-300":"text-gray-600"}`,children:['No results found for "',i,'"']}):x.jsx(hi,{entries:e,isDarkMode:o,isFocused:a,onFocusChange:l,onEntriesUpdate:d})},_M=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),{isDarkMode:i,isFocused:o,onFocusChange:a}=$c();E.useEffect(()=>{(async()=>{try{const u=await SA();t(u)}catch(u){console.error("Failed to load chats:",u)}finally{r(!1)}})()},[]);const l=s=>{t(s)};return n?x.jsx("div",{className:`p-4 ${i?"text-gray-300":"text-gray-600"}`,children:"Loading chats..."}):e.length===0?x.jsx("div",{className:`p-4 ${i?"text-gray-300":"text-gray-600"}`,children:"No chat history found. Press 'l' while an article is selected to start a chat."}):x.jsx(hi,{entries:e,isDarkMode:i,isFocused:o,onFocusChange:a,onEntriesUpdate:l})};function FM({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-2.429 0-4.817.178-7.152.521C2.87 3.061 1.5 4.795 1.5 6.741v6.018c0 1.946 1.37 3.68 3.348 3.97.877.129 1.761.234 2.652.316V21a.75.75 0 0 0 1.28.53l4.184-4.183a.39.39 0 0 1 .266-.112c2.006-.05 3.982-.22 5.922-.506 1.978-.29 3.348-2.023 3.348-3.97V6.741c0-1.947-1.37-3.68-3.348-3.97A49.145 49.145 0 0 0 12 2.25ZM8.25 8.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Zm2.625 1.125a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875-1.125a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Z",clipRule:"evenodd"}))}const LM=E.forwardRef(FM);function MM({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const BM=E.forwardRef(MM);function zM({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const UM=E.forwardRef(zM);function HM({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const qM=E.forwardRef(HM);function VM({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),E.createElement("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"}))}const WM=E.forwardRef(VM);function GM({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{fillRule:"evenodd",d:"M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3.002 3.002 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755Z",clipRule:"evenodd"}))}const KM=E.forwardRef(GM);function QM({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 0 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"}),E.createElement("path",{d:"M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"}))}const YM=E.forwardRef(QM);function JM({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}const XM=E.forwardRef(JM);function ZM({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const eB=E.forwardRef(ZM),tB=()=>{const t=$c().isDarkMode,{pubKey:n}=xg(),[r,i]=E.useState([]),[o,a]=E.useState(!0),[l,s]=E.useState(null),[u,d]=E.useState(null),[c,f]=E.useState(-1),[p,h]=E.useState(new Set),[y,w]=E.useState(null);E.useEffect(()=>{const P=j=>{if(j.key==="j"||j.key==="k")j.preventDefault(),f(A=>{const I=j.key==="j"?Math.min(A+1,r.length-1):Math.max(A-1,0),R=document.querySelector(`[data-index="${I}"]`);return R&&R.scrollIntoView({behavior:"smooth",block:"nearest"}),I});else if(j.key==="Enter"&&c>=0){j.preventDefault();const A=r[c];v(A.id+"_"+A.sharedAt)}};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[r.length,c]),E.useEffect(()=>{(async()=>{if(n){a(!0),s(null);try{const[j,A]=await Promise.all([qe.getUserProfile(n),qe.getSharedItems(n)]),I=await Promise.all(A.map(async R=>({...R,isVerified:await NO(R)})));d(j),i(I)}catch(j){s(j instanceof Error?j.message:"Failed to load shared items")}finally{a(!1)}}})()},[n]);const v=P=>{h(j=>{const A=new Set(j);return A.has(P)?A.delete(P):A.add(P),A})},g=async P=>{await je.addToQueue({id:parseInt(P.id),title:P.title,content_rssAbstract:P.content,link:P.link,publishDate:new Date(P.publishDate),feedTitle:P.feedTitle||"",chatHistory:[]})},m=P=>{const j=encodeURIComponent(P.title),A=encodeURIComponent(`${P.content}

Read more: ${P.link}`);window.open(`mailto:?subject=${j}&body=${A}`)},b=async(P,j=!1)=>{let A;if(j){const I=prompt("Add a comment to share:");if(I===null)return;A=I}try{await qe.shareItem({id:parseInt(P.id),title:P.title,content_fullArticle:P.content,content_rssAbstract:P.content,content_aiSummary:P.content_aiSummary,aiSummaryMetadata:P.aiSummaryMetadata,publishDate:new Date(P.publishDate),feedTitle:P.feedTitle,feedUrl:P.feedUrl,link:P.link},A)}catch(I){console.error("Error sharing item:",I)}},k=async P=>{if(confirm("Are you sure you want to unshare this item?"))try{await qe.unshareItem(P),i(j=>j.filter(A=>A._id!==P))}catch(j){console.error("Error unsharing item:",j)}},S=(P,j)=>j&&j!=="Unknown User"?j:lh(P),C=P=>{const j=new Date,A=new Date(P),I=j.getTime()-A.getTime(),R=Math.floor(I/(1e3*60*60*24)),$=Math.floor(I/(1e3*60*60)),q=Math.floor(I/(1e3*60));return R>7?A.toLocaleDateString():R>0?`${R}d ago`:$>0?`${$}h ago`:q>0?`${q}m ago`:"just now"},N=`prose prose-sm max-w-none 
    ${t?"prose-invert prose-p:text-gray-300":"prose-p:text-gray-600"}
    prose-p:my-0 prose-headings:my-1 prose-ul:my-1 prose-ol:my-1
    prose-pre:bg-gray-800 prose-pre:text-gray-100
    prose-code:text-blue-500 prose-code:bg-gray-100 prose-code:rounded prose-code:px-1
    prose-a:text-blue-500 hover:prose-a:text-blue-600
    ${t?"prose-code:bg-gray-700":""}`,D=async(P,j)=>{j.stopPropagation();try{await navigator.clipboard.writeText(P),w(P),setTimeout(()=>w(null),2e3)}catch(A){console.error("Failed to copy public key:",A)}};return o?x.jsxs("div",{className:`flex items-center justify-center h-full ${t?"text-gray-300 bg-gray-900":"text-gray-700 bg-white"}`,children:[x.jsxs("svg",{className:"animate-spin h-8 w-8 mr-3",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x.jsx("span",{children:"Loading shared items..."})]}):l?x.jsxs("div",{className:`flex items-center justify-center h-full ${t?"text-red-400 bg-gray-900":"text-red-600 bg-white"}`,children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("span",{children:l})]}):r.length===0?x.jsxs("div",{className:`flex flex-col items-center justify-center h-full ${t?"text-gray-300 bg-gray-900":"text-gray-700 bg-white"}`,children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M5 3a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V5a2 2 0 00-2-2H5zm0 2h10v7h-2l-1 2H8l-1-2H5V5z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-lg font-medium",children:"No shared items yet"}),x.jsx("span",{className:"text-sm mt-2",children:(u==null?void 0:u.pub)===JSON.parse(qe.getConfig().privateKey).pub?"You haven't shared any items yet":`${S((u==null?void 0:u.pub)||"",u==null?void 0:u.name)} hasn't shared any items yet`})]}):x.jsxs("div",{className:`h-full overflow-y-auto ${t?"bg-gray-900":"bg-white"}`,children:[x.jsx("div",{className:`sticky top-0 px-4 py-3 border-b z-10 ${t?"bg-gray-900 border-gray-800":"bg-white border-gray-200"}`,children:x.jsx("h2",{className:`text-lg font-medium ${t?"text-gray-100":"text-gray-900"}`,children:(u==null?void 0:u.pub)===JSON.parse(qe.getConfig().privateKey).pub?"Your Shared Items":`${u==null?void 0:u.name}'s Shared Items`})}),x.jsx("div",{className:`divide-y ${t?"divide-gray-800":"divide-gray-200"}`,children:r.map((P,j)=>{var R,$,q;const A=`${P.id}_${P.sharedAt}`,I=p.has(A);return x.jsxs("article",{"data-index":j,className:`border-b transition-colors ${t?"border-gray-800 hover:bg-gray-800":"border-gray-100 hover:bg-reader-hover"} ${c===j?t?"bg-gray-800":"bg-reader-hover":""}`,children:[x.jsxs("div",{className:"flex items-center px-4 py-2 gap-4 cursor-pointer",onClick:()=>v(A),children:[x.jsxs("div",{className:"flex-grow min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[I?x.jsx(UM,{className:"h-5 w-5 shrink-0"}):x.jsx(qM,{className:"h-5 w-5 shrink-0"}),x.jsx("h3",{className:`text-base font-medium flex-grow min-w-0 ${t?"text-gray-100":"text-gray-900"}`,children:x.jsx("a",{href:P.link,target:"_blank",rel:"noopener noreferrer",className:`hover:underline ${t?"hover:text-blue-400":"hover:text-reader-blue"}`,onClick:z=>z.stopPropagation(),children:P.title})}),P.isVerified!==void 0&&(P.isVerified?x.jsx(BM,{className:"h-5 w-5 text-green-500 shrink-0",title:"Signature verified"}):x.jsx(eB,{className:"h-5 w-5 text-red-500 shrink-0",title:"Invalid signature"}))]}),x.jsxs("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:["Shared by ",((R=P.sharedBy)==null?void 0:R.name)||"Unknown User"," "," ",(($=P.sharedBy)==null?void 0:$.pub)&&x.jsx("button",{onClick:z=>D(P.sharedBy.pub,z),className:`inline-flex items-center px-2 py-0.5 rounded transition-colors ${t?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"} ${y===P.sharedBy.pub?"text-green-500":""}`,title:`Click to copy: ${P.sharedBy.pub}`,children:y===P.sharedBy.pub?"Copied!":lh(P.sharedBy.pub)})]}),P.feedTitle&&x.jsxs("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:["From ",x.jsx("a",{href:P.feedUrl,target:"_blank",rel:"noopener noreferrer",className:`hover:underline ${t?"hover:text-blue-400":"hover:text-reader-blue"}`,onClick:z=>z.stopPropagation(),children:P.feedTitle})]})]}),x.jsx("div",{className:"flex items-center gap-2 shrink-0",children:x.jsx("time",{dateTime:P.sharedAt,className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:C(P.sharedAt)})})]}),I&&x.jsxs("div",{className:`px-4 pb-4 ${t?"text-gray-300":"text-gray-600"}`,children:[P.comment&&x.jsx("div",{className:`mb-4 p-3 rounded-lg ${t?"bg-gray-800/50 text-gray-300 border border-gray-700":"bg-gray-50 text-gray-700 border border-gray-200"}`,children:x.jsxs("p",{className:"text-sm italic",children:['"',P.comment,'"']})}),P.content_aiSummary&&x.jsxs("div",{className:`mb-4 p-4 rounded border ${t?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[x.jsxs("div",{className:`text-sm font-medium mb-2 flex items-center gap-2 ${t?"text-gray-300":"text-gray-700"}`,children:[x.jsx("span",{children:"Summary"}),((q=P.aiSummaryMetadata)==null?void 0:q.model)&&x.jsxs(x.Fragment,{children:[x.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t?"bg-blue-500/20 text-blue-200":"bg-blue-100 text-blue-800"}`,children:P.aiSummaryMetadata.model}),x.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t?P.aiSummaryMetadata.isFullContent?"bg-green-500/20 text-green-200":"bg-yellow-500/20 text-yellow-200":P.aiSummaryMetadata.isFullContent?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P.aiSummaryMetadata.isFullContent?"Full article":"RSS preview"})]})]}),x.jsx("div",{className:N,children:x.jsx(Vo,{remarkPlugins:[Wo],children:P.content_aiSummary})})]}),x.jsx("div",{className:N,children:x.jsx(Vo,{remarkPlugins:[Wo],children:P.content})}),x.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[x.jsxs("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:["Originally published ",new Date(P.publishDate).toLocaleDateString()]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>g(P),className:`p-2 rounded-full transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-300":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Listen to article",children:x.jsx(YM,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>m(P),className:`p-2 rounded-full transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-300":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Email article",children:x.jsx(WM,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>b(P),className:`p-2 rounded-full transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-300":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Share article",children:x.jsx(KM,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>b(P,!0),className:`p-2 rounded-full transition-colors ${t?"hover:bg-gray-700 text-gray-400 hover:text-gray-300":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"}`,title:"Share article with comment",children:x.jsx(LM,{className:"h-5 w-5"})}),(u==null?void 0:u.pub)===JSON.parse(qe.getConfig().privateKey).pub&&x.jsx("button",{onClick:z=>{z.stopPropagation(),P._id&&k(P._id)},className:"p-2 rounded-full transition-colors text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",title:"Unshare article",children:x.jsx(XM,{className:"h-5 w-5"})})]})]})]})]},A)})})]})};function nB(){return x.jsx(pP,{children:x.jsx(oP,{children:x.jsxs(Mn,{path:"/",element:x.jsx(RM,{}),children:[x.jsx(Mn,{index:!0,element:x.jsx(hi,{})}),x.jsx(Mn,{path:"feed/:feedId",element:x.jsx(hi,{})}),x.jsx(Mn,{path:"folder/:folderId",element:x.jsx(hi,{})}),x.jsx(Mn,{path:"starred",element:x.jsx(hi,{})}),x.jsx(Mn,{path:"listened",element:x.jsx(hi,{})}),x.jsx(Mn,{path:"chats",element:x.jsx(_M,{})}),x.jsx(Mn,{path:"search/:query",element:x.jsx($M,{})}),x.jsx(Mn,{path:"gun/:pubKey",element:x.jsx(tB,{})})]})})})}xx(document.getElementById("root")).render(x.jsx(E.StrictMode,{children:x.jsx(nB,{})}));
